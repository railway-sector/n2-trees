"use strict";(self.webpackChunkn2_trees=self.webpackChunkn2_trees||[]).push([[5263],{2257:(e,t,n)=>{n.d(t,{D8:()=>s,TO:()=>o,d0:()=>i});var r=n(53430);async function o(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.popupTemplate;if(null==t)return[];const n=await t.getRequiredFields(e.fieldsIndex),{lastEditInfoEnabled:o}=t,{objectIdField:s,typeIdField:i,globalIdField:u,relationships:a}=e;if(n.includes("*"))return["*"];const c=o?(0,r.eX)(e):[],l=(0,r.DB)(e.fieldsIndex,[...n,...c]);return i&&l.push(i),l&&s&&e.fieldsIndex?.has(s)&&!l.includes(s)&&l.push(s),l&&u&&e.fieldsIndex?.has(u)&&!l.includes(u)&&l.push(u),a?.forEach(t=>{const{keyField:n}=t;l&&n&&e.fieldsIndex?.has(n)&&!l.includes(n)&&l.push(n)}),l}function s(e,t){return e&&"object"==typeof e?t?.checkPopupEnabled&&"popupEnabled"in e&&!e.popupEnabled?null:"popupTemplate"in e&&e.popupTemplate?e.popupTemplate:null!=t&&t.defaultPopupTemplateEnabled&&"defaultPopupTemplate"in e&&e.defaultPopupTemplate?e.defaultPopupTemplate:null:null}function i(e,t){return null!=s(e,{defaultPopupTemplateEnabled:t})}},2395:(e,t,n)=>{n.d(t,{L0:()=>m,Ot:()=>f,W4:()=>a,uV:()=>p});var r=n(6326),o=n(42553),s=n(46053),i=(n(81806),n(76460),n(47249),n(6409)),u=n(87990);let a=class extends o.o{constructor(){super(...arguments),this.nodesPerPage=null,this.rootIndex=0,this.lodSelectionMetricType=null}};(0,r.Cg)([(0,s.MZ)({type:Number})],a.prototype,"nodesPerPage",void 0),(0,r.Cg)([(0,s.MZ)({type:Number})],a.prototype,"rootIndex",void 0),(0,r.Cg)([(0,s.MZ)({type:String})],a.prototype,"lodSelectionMetricType",void 0),a=(0,r.Cg)([(0,u.$)("esri.layers.support.I3SLayerDefinitions.I3SNodePageDefinition")],a);let c=class extends o.o{constructor(){super(...arguments),this.factor=1}};(0,r.Cg)([(0,s.MZ)({type:Number,json:{read:{source:"textureSetDefinitionId"}}})],c.prototype,"id",void 0),(0,r.Cg)([(0,s.MZ)({type:Number})],c.prototype,"factor",void 0),c=(0,r.Cg)([(0,u.$)("esri.layers.support.I3SLayerDefinitions.I3SMaterialTexture")],c);let l=class extends o.o{constructor(){super(...arguments),this.baseColorFactor=[1,1,1,1],this.baseColorTexture=null,this.metallicRoughnessTexture=null,this.metallicFactor=1,this.roughnessFactor=1}};(0,r.Cg)([(0,s.MZ)({type:[Number]})],l.prototype,"baseColorFactor",void 0),(0,r.Cg)([(0,s.MZ)({type:c})],l.prototype,"baseColorTexture",void 0),(0,r.Cg)([(0,s.MZ)({type:c})],l.prototype,"metallicRoughnessTexture",void 0),(0,r.Cg)([(0,s.MZ)({type:Number})],l.prototype,"metallicFactor",void 0),(0,r.Cg)([(0,s.MZ)({type:Number})],l.prototype,"roughnessFactor",void 0),l=(0,r.Cg)([(0,u.$)("esri.layers.support.I3SLayerDefinitions.I3SMaterialPBRMetallicRoughness")],l);let p=class extends o.o{constructor(){super(...arguments),this.alphaMode="opaque",this.alphaCutoff=.25,this.doubleSided=!1,this.cullFace="none",this.normalTexture=null,this.occlusionTexture=null,this.emissiveTexture=null,this.emissiveFactor=null,this.pbrMetallicRoughness=null}};(0,r.Cg)([(0,i.e)({opaque:"opaque",mask:"mask",blend:"blend"})],p.prototype,"alphaMode",void 0),(0,r.Cg)([(0,s.MZ)({type:Number})],p.prototype,"alphaCutoff",void 0),(0,r.Cg)([(0,s.MZ)({type:Boolean})],p.prototype,"doubleSided",void 0),(0,r.Cg)([(0,i.e)({none:"none",back:"back",front:"front"})],p.prototype,"cullFace",void 0),(0,r.Cg)([(0,s.MZ)({type:c})],p.prototype,"normalTexture",void 0),(0,r.Cg)([(0,s.MZ)({type:c})],p.prototype,"occlusionTexture",void 0),(0,r.Cg)([(0,s.MZ)({type:c})],p.prototype,"emissiveTexture",void 0),(0,r.Cg)([(0,s.MZ)({type:[Number]})],p.prototype,"emissiveFactor",void 0),(0,r.Cg)([(0,s.MZ)({type:l})],p.prototype,"pbrMetallicRoughness",void 0),p=(0,r.Cg)([(0,u.$)("esri.layers.support.I3SLayerDefinitions.I3SMaterialDefinition")],p);let d=class extends o.o{};(0,r.Cg)([(0,s.MZ)({type:String,json:{read:{source:["name","index"],reader:(e,t)=>null!=e?e:`${t.index}`}}})],d.prototype,"name",void 0),(0,r.Cg)([(0,i.e)({jpg:"jpg",png:"png",dds:"dds","ktx-etc2":"ktx-etc2",ktx2:"ktx2",basis:"basis"})],d.prototype,"format",void 0),d=(0,r.Cg)([(0,u.$)("esri.layers.support.I3SLayerDefinitions.I3STextureFormat")],d);let f=class extends o.o{constructor(){super(...arguments),this.atlas=!1}};(0,r.Cg)([(0,s.MZ)({type:[d]})],f.prototype,"formats",void 0),(0,r.Cg)([(0,s.MZ)({type:Boolean})],f.prototype,"atlas",void 0),f=(0,r.Cg)([(0,u.$)("esri.layers.support.I3SLayerDefinitions.I3STextureSetDefinition")],f);let h=class extends o.o{};(0,r.Cg)([(0,i.e)({Float32:"Float32",UInt64:"UInt64",UInt32:"UInt32",UInt16:"UInt16",UInt8:"UInt8"})],h.prototype,"type",void 0),(0,r.Cg)([(0,s.MZ)({type:Number})],h.prototype,"component",void 0),h=(0,r.Cg)([(0,u.$)("esri.layers.support.I3SLayerDefinitions.I3SGeometryAttribute")],h);let g=class extends o.o{};(0,r.Cg)([(0,i.e)({draco:"draco"})],g.prototype,"encoding",void 0),(0,r.Cg)([(0,s.MZ)({type:[String]})],g.prototype,"attributes",void 0),g=(0,r.Cg)([(0,u.$)("esri.layers.support.I3SLayerDefinitions.I3SGeometryCompressedAttributes")],g);let v=class extends o.o{constructor(){super(...arguments),this.offset=0}};(0,r.Cg)([(0,s.MZ)({type:Number})],v.prototype,"offset",void 0),(0,r.Cg)([(0,s.MZ)({type:h})],v.prototype,"position",void 0),(0,r.Cg)([(0,s.MZ)({type:h})],v.prototype,"normal",void 0),(0,r.Cg)([(0,s.MZ)({type:h})],v.prototype,"uv0",void 0),(0,r.Cg)([(0,s.MZ)({type:h})],v.prototype,"color",void 0),(0,r.Cg)([(0,s.MZ)({type:h})],v.prototype,"uvRegion",void 0),(0,r.Cg)([(0,s.MZ)({type:h})],v.prototype,"featureId",void 0),(0,r.Cg)([(0,s.MZ)({type:h})],v.prototype,"faceRange",void 0),(0,r.Cg)([(0,s.MZ)({type:g})],v.prototype,"compressedAttributes",void 0),v=(0,r.Cg)([(0,u.$)("esri.layers.support.I3SLayerDefinitions.I3SGeometryBuffer")],v);let m=class extends o.o{};(0,r.Cg)([(0,i.e)({triangle:"triangle"})],m.prototype,"topology",void 0),(0,r.Cg)([(0,s.MZ)()],m.prototype,"geometryBuffers",void 0),m=(0,r.Cg)([(0,u.$)("esri.layers.support.I3SLayerDefinitions.I3SGeometryDefinition")],m)},5517:(e,t,n)=>{n.d(t,{t:()=>o});var r=n(87003);class o extends r.n{constructor(e,t,n){super(e,"vec3",1,(r,o,s)=>r.setUniform3fv(e,t(o,s),n))}}},7342:(e,t,n)=>{n.d(t,{Cc:()=>u,CC:()=>a,RF:()=>i});var r=n(69539),o=(n(81806),n(76931)),s=n(55855);function i(e){return e&&e.enabled&&(function(e){return"extrude"===e.type}(e)||function(e){return"fill"===e.type}(e))&&null!=e.edges}function u(e,t){return function(e,t){if(null==e)return null;const n=null!=e.color?(0,s.ci)(r.A.toUnitRGBA(e.color)):(0,s.fA)(0,0,0,0),i=(0,o.Lz)(e.size),u=(0,o.Lz)(e.extensionLength);switch(e.type){case"solid":return a({color:n,size:i,extensionLength:u,...t});case"sketch":return function(e){return{...l,...e,type:1}}({color:n,size:i,extensionLength:u,...t});default:return}}(function(e){return e&&e.enabled&&e.edges||null}(e),t)}function a(e){return{...c,...e,type:0}}const c={color:(0,s.fA)(0,0,0,.2),size:1,extensionLength:0,opacity:1,objectTransparency:1,hasSlicePlane:!1},l={color:(0,s.fA)(0,0,0,.2),size:1,extensionLength:0,opacity:1,objectTransparency:1,hasSlicePlane:!1}},11736:(e,t,n)=>{n.d(t,{s1:()=>l});var r=n(3825),o=(n(18690),n(50076),n(81806),n(34761),n(13191)),s=(n(20664),n(9392)),i=(n(56611),n(13312),n(14487),n(2413)),u=(n(78315),n(96854),n(97015),n(75913));n(34111),n(5809);var a=n(7342),c=(n(51990),n(59231));n(42717),n(90992);(0,i.vt)();async function l(e,t,n,o,s,i,a,c){const l=[];for(const r of t)if(r&&s.includes(r.name)){const t=`${e}/nodes/${n}/attributes/${r.key}/0`;l.push({url:t,storageInfo:r})}const p=await Promise.allSettled(l.map(e=>(0,r.A)(e.url,{responseType:"array-buffer",query:{...a,token:i},signal:c?.signal}).then(t=>(0,u.m0)(e.storageInfo,t.data)))),d=[];for(const r of o){const e={};for(let t=0;t<p.length;t++){const n=p[t];if("fulfilled"===n.status){const o=n.value;e[l[t].storageInfo.name]=(0,u.E5)(o,r)}}d.push(e)}return d}(0,a.CC)({color:[0,0,0,0],opacity:0});(0,s.vt)(),(0,s.vt)(),(0,s.vt)(),(0,s.vt)(),(0,s.vt)(),(0,s.vt)(),(0,s.vt)(),(0,s.vt)(),(0,i.vt)(),(0,i.vt)(),new c.ab,(0,s.vt)(),new Array(72),(0,o.vt)()},12482:(e,t,n)=>{n.d(t,{$7:()=>_,B:()=>T,Fo:()=>M,M7:()=>A,Q5:()=>I,Tq:()=>z,Up:()=>S,XF:()=>R,Ze:()=>y,bK:()=>a,bh:()=>d,id:()=>x,ky:()=>p,qt:()=>q,tW:()=>F,v9:()=>f,w7:()=>c,wF:()=>u,wS:()=>C,x:()=>h,xS:()=>b,ze:()=>l});var r=n(56002),o=n(31633),s=n(81478);function i(e){return e?q:z}function u(e,t){return t?.mode?t.mode:i(e).mode}function a(e,t){return null!=t?t:i(e)}function c(e,t){return u(null==e||(e.hasZ??!1),t)}function l(e,t){return a(null==e||(e.hasZ??!1),t)}function p(e){const t=v(e);return c(e.geometry,t)}function d(e){const t=v(e),n=c(e.geometry,t),r=null!=t&&"on-the-ground"!==n?A(t):0,o=t?.featureExpressionInfo;return{mode:n,offset:r,featureExpressionInfo:o}}function f(e){return g(e)||h(e)}function h(e){return"0"===e?.featureExpressionInfo?.expression}function g(e){if(!e)return!1;if("on-the-ground"===e.mode)return!1;const t=e?.featureExpressionInfo?e.featureExpressionInfo.expression:null;return!(!t||"0"===t)}function v(e){return e.layer&&"elevationInfo"in e.layer?e.layer.elevationInfo:null}const m=(0,r.B)((e,t,n)=>{if(!e)return 0;if("decimal-degrees"===t)return 0;const r="unknown"!==t&&t?t:"meters",s=(0,o.mq)(n);return s?(0,o.oU)(e,r,s):0});function y(e,t){return m(e?.offset,e?.unit,t)}function x(e,t,n){if(!n?.mode)return;const r=e.hasZ?e.z:0,o=y(n,e.spatialReference);switch(n.mode){case"absolute-height":return r-o;case"on-the-ground":return 0;case"relative-to-ground":return r-((t.elevationProvider.getElevation(e.x,e.y,r,e.spatialReference,"ground")??0)+o);case"relative-to-scene":return r-((t.elevationProvider.getElevation(e.x,e.y,r,e.spatialReference,"scene")??0)+o)}}function C(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return M(e,t.x,t.y,t.hasZ?t.z:0,t.spatialReference,n,r)}function b(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;return M(e,t[0],t[1],t.length>2?t[2]:0,n,r,o)}function M(e,t,n,r,o,s){let i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;if(null==s)return;const u=null!=i?i.mode:"absolute-height";if("on-the-ground"===u)return 0;const{absoluteZ:a}=I(t,n,r,o,e,s);return function(e,t,n,r,o,s,i,u){const a=y(i,o);switch(u){case"absolute-height":return e-a;case"relative-to-ground":return e-((s.elevationProvider.getElevation(t,n,r,o,"ground")??0)+a);case"relative-to-scene":return e-((s.elevationProvider.getElevation(t,n,r,o,"scene")??0)+a)}}(a,t,n,r,o,e,i,u)}function I(e,t,n,r,o,s){const i=y(s,r);switch(s.mode){case"absolute-height":return{absoluteZ:n+i,elevation:0};case"on-the-ground":{const n=o.elevationProvider.getElevation(e,t,0,r,"ground")??0;return{absoluteZ:n,elevation:n}}case"relative-to-ground":{const s=o.elevationProvider.getElevation(e,t,n,r,"ground")??0;return{absoluteZ:n+s+i,elevation:s}}case"relative-to-scene":{const s=o.elevationProvider.getElevation(e,t,n,r,"scene")??0;return{absoluteZ:n+s+i,elevation:s}}}}function S(e,t){if(null==t)return!1;const{mode:n}=t;return null!=n&&("scene"===e&&"relative-to-scene"===n||"ground"===e&&"absolute-height"!==n)}function T(e,t,n){return n&&n.mode!==t?`${e} only support ${t} elevation mode`:null}function _(e,t,n){return n?.mode===t?`${e} do not support ${t} elevation mode`:null}function F(e,t){return null!=t?.featureExpressionInfo&&"0"!==t.featureExpressionInfo.expression?`${e} do not support featureExpressionInfo`:null}function R(e,t){t&&e.warn(".elevationInfo=",t)}function A(e){return(e?.offset??0)*(0,s.Ao)(e?.unit)}const q={mode:"absolute-height",offset:0},z={mode:"on-the-ground",offset:null}},14487:(e,t,n)=>{n.d(t,{F:()=>s});n(56611);var r=n(13312),o=n(64232);function s(e,t,n,r,s){return!(null==t||null==r||e.length<2)&&(i.x=e[0],i.y=e[1],i.z=e[2],i.spatialReference=t,(0,o.g)(i,n,r,s))}const i=(0,n(18117).TH)(0,0,0,r.A.WGS84)},16981:(e,t,n)=>{n.d(t,{$:()=>r,P:()=>o});const r={supportsDate:!1,supportsFixedInterval:!1,supportsAutoInterval:!1,supportsFixedBoundaries:!1,supportsStackBy:!1,supportsSplitBy:!1,supportsSnapToData:!1,supportsReturnFullIntervalBin:!1,supportsFirstDayOfWeek:!1,supportsNormalization:!1,supportedStatistics:void 0,supportedNormalizationTypes:void 0},o={analytics:{supportsCacheHint:!1},attachment:{supportsContentType:!1,supportsExifInfo:!1,supportsKeywords:!1,supportsName:!1,supportsSize:!1,supportsCacheHint:!1,supportsOrderByFields:!1,supportsResize:!1,supportsTypeWildcard:!1},data:{isVersioned:!1,isBranchVersioned:!1,supportsAttachment:!1,supportsM:!1,supportsZ:!1},editing:{supportsDeleteByAnonymous:!1,supportsDeleteByOthers:!1,supportsGeometryUpdate:!1,supportsGlobalId:!1,supportsReturnServiceEditsInSourceSpatialReference:!1,supportsRollbackOnFailure:!1,supportsUpdateByAnonymous:!1,supportsUpdateByOthers:!1,supportsUpdateWithoutM:!1,supportsUploadWithItemId:!1,supportsAsyncApplyEdits:!1,zDefault:void 0},metadata:{supportsAdvancedFieldProperties:!1},operations:{supportsCalculate:!1,supportsTruncate:!1,supportsValidateSql:!1,supportsAdd:!1,supportsDelete:!1,supportsEditing:!1,supportsChangeTracking:!1,supportsQuery:!1,supportsQueryAnalytics:!1,supportsQueryAttachments:!1,supportsQueryBins:!1,supportsQueryPivot:!1,supportsQueryTopFeatures:!1,supportsResizeAttachments:!1,supportsSync:!1,supportsUpdate:!1,supportsExceedsLimitStatistics:!1,supportsAsyncConvert3D:!1},queryRelated:{supportsCount:!1,supportsOrderBy:!1,supportsPagination:!1,supportsCacheHint:!1},queryTopFeatures:{supportsCacheHint:!1},queryAttributeBins:r,query:{maxRecordCount:0,maxRecordCountFactor:0,maxUniqueIDCount:0,standardMaxRecordCount:0,supportsCacheHint:!1,supportsCentroid:!1,supportsCentroidOnDegeneratedQuantizedGeometry:!1,supportsCompactGeometry:!1,supportsCurrentUser:!1,supportsDefaultSpatialReference:!1,supportsFullTextSearch:!1,supportsDegeneratedQuantizedGeometry:!1,supportsDisjointSpatialRelationship:!1,supportsDistance:!1,supportsDistinct:!1,supportsExtent:!1,supportsFormatPBF:!1,supportsGeometryProperties:!1,supportsHavingClause:!1,supportsHistoricMoment:!1,supportsMaxRecordCountFactor:!1,supportsOrderBy:!1,supportsPagination:!1,supportsPaginationOnAggregatedQueries:!1,supportsPercentileStatistics:!1,supportsQuantization:!1,supportsQuantizationEditMode:!1,supportsQueryByAnonymous:!1,supportsQueryByOthers:!1,supportsQueryGeometry:!1,supportsResultType:!1,supportsReturnMesh:!1,supportsSqlExpression:!1,supportsStandardizedQueriesOnly:!1,supportsTopFeaturesQuery:!1,supportsTrueCurve:!1,supportsSpatialAggregationStatistics:!1,supportedSpatialAggregationStatistics:{envelope:!1,centroid:!1,convexHull:!1},supportsStatistics:!1,tileMaxRecordCount:0}}},18117:(e,t,n)=>{function r(e,t,n,r){return{x:e,y:t,z:n,hasZ:null!=n,hasM:!1,spatialReference:r,type:"point"}}function o(e,t,n,r,o){e.x=t,e.y=n,e.z=r,e.hasZ=null!=r,e.spatialReference=o}n.d(t,{Jc:()=>o,TH:()=>r})},19771:(e,t,n)=>{n.d(t,{J:()=>o});var r=n(87003);class o extends r.n{constructor(e,t,n){super(e,"float",2,(r,o,s)=>r.setUniform1f(e,t(o,s),n))}}},21390:(e,t,n)=>{n.d(t,{m:()=>o});var r=n(87003);class o extends r.n{constructor(e,t,n){super(e,"float",1,(r,o,s)=>r.setUniform1f(e,t(o,s),n))}}},27374:(e,t,n)=>{n.d(t,{o:()=>o});var r=n(87003);class o extends r.n{constructor(e,t){super(e,"sampler2D",2,(n,r,o)=>n.bindTexture(e,t(r,o)))}}},31432:(e,t,n)=>{n.d(t,{Y:()=>r});const r=class{};new r},34981:(e,t,n)=>{function r(e){return 4===e||5===e||6===e||7===e||8===e}function o(e){return p(e)||3===e}function s(e){return 9===e||10===e}function i(e){return u(e)||s(e)}function u(e){return 0===e}function a(e){return u(e)||f(e)}function c(e){return a(e)||10===e}function l(e){return a(e)||s(e)}function p(e){return l(e)||d(e)}function d(e){return 2===e}function f(e){return 1===e}function h(e){return d(e)||r(e)}n.d(t,{Bf:()=>r,CL:()=>s,Dz:()=>h,LG:()=>f,Mb:()=>l,QG:()=>c,RN:()=>a,T2:()=>p,_o:()=>u,eh:()=>d,i3:()=>i,iq:()=>o})},42717:(e,t,n)=>{n.d(t,{NL:()=>h});var r=n(34981),o=n(95352),s=n(94759),i=n(72468),u=n(5517),a=n(19771),c=n(21390),l=n(86955),p=n(27374),d=n(70367);n(75803);const f=1;function h(e,t){if(!(0,r.RN)(t.output))return;e.fragment.include(s.C);const{emissionSource:n,hasEmissiveTextureTransform:h,bindType:g}=t,v=3===n||4===n||5===n;v&&(e.include(o.r,t),e.fragment.uniforms.add(1===g?new d.N("texEmission",e=>e.textureEmissive):new p.o("texEmission",e=>e.textureEmissive)));const m=2===n||v;m&&e.fragment.uniforms.add(1===g?new u.t("emissiveBaseColor",e=>e.emissiveBaseColor):new i.W("emissiveBaseColor",e=>e.emissiveBaseColor));const y=0!==n;y&&7!==n&&6!==n&&4!==n&&5!==n&&e.fragment.uniforms.add(1===g?new c.m("emissiveStrength",e=>e.emissiveStrength):new a.J("emissiveStrength",e=>e.emissiveStrength));const x=7===n,C=5===n,b=1===n||6===n||x;e.fragment.code.add(l.H`
    vec4 getEmissions(vec3 symbolColor) {
      vec4 emissions = ${m?C?"emissiveSource == 0 ? vec4(emissiveBaseColor, 1.0): vec4(linearizeGamma(symbolColor), 1.0)":"vec4(emissiveBaseColor, 1.0)":b?x?"emissiveSource == 0 ? vec4(0.0): vec4(linearizeGamma(symbolColor), 1.0)":"vec4(linearizeGamma(symbolColor), 1.0)":"vec4(0.0)"};
      ${(0,l.If)(v,`${(0,l.If)(C,`if(emissiveSource == 0) {\n              vec4 emissiveFromTex = textureLookup(texEmission, ${h?"emissiveUV":"vuv0"});\n              emissions *= vec4(linearizeGamma(emissiveFromTex.rgb), emissiveFromTex.a);\n           }`,`vec4 emissiveFromTex = textureLookup(texEmission, ${h?"emissiveUV":"vuv0"});\n           emissions *= vec4(linearizeGamma(emissiveFromTex.rgb), emissiveFromTex.a);`)}\n        emissions.w = emissions.rgb == vec3(0.0) ? 0.0: emissions.w;`)}
      ${(0,l.If)(y,`emissions.rgb *= emissiveStrength * ${l.H.float(f)};`)}
      return emissions;
    }
  `)}},51990:(e,t,n)=>{n.d(t,{K_:()=>r});n(15941);function r(e,t){for(let n=0;n<4;n++)e[n]=o(t[n]);return e}function o(e){return isNaN(e)?255:e*(254/255)}},56002:(e,t,n)=>{function r(e){let t,n,r=[],o=!1;return function(){for(var s=arguments.length,i=new Array(s),u=0;u<s;u++)i[u]=arguments[u];return o&&t===this&&function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(i,r)||(n=e.apply(this,i),t=this,r=i,o=!0),n}}n.d(t,{B:()=>r})},59696:(e,t,n)=>{n.d(t,{A:()=>r});class r{constructor(e){this._material=e.material,this._techniques=e.techniques,this._output=e.output}dispose(){}get _stippleTextures(){return this._techniques.context?.stippleTextures}get _markerTextures(){return this._techniques.context?.markerTextures}getTechnique(e,t){return this._techniques.get(e,this._material.getConfiguration(this._output,t))}ensureResources(e){return 2}}},64232:(e,t,n)=>{n.d(t,{W:()=>u,g:()=>i});var r=n(9392),o=n(56611),s=n(45308);function i(e,t,n,r){if((0,o.canProjectWithoutEngine)(e.spatialReference,n)){a[0]=e.x,a[1]=e.y;const o=e.z;return a[2]=o??r??0,(0,s.projectBuffer)(a,e.spatialReference,0,t,n,0)}const i=(0,o.tryProjectWithZConversion)(e,n);return!!i&&(t[0]=i?.x,t[1]=i?.y,t[2]=i?.z??r??0,!0)}async function u(e,t,n,r,s){return await(0,o.initializeProjection)(e.spatialReference,n,null,s),i(e,t,n,r)}const a=(0,r.vt)()},70367:(e,t,n)=>{n.d(t,{N:()=>o});var r=n(87003);class o extends r.n{constructor(e,t){super(e,"sampler2D",1,(n,r,o)=>n.bindTexture(e,t(r,o)))}}},72468:(e,t,n)=>{n.d(t,{W:()=>o});var r=n(87003);class o extends r.n{constructor(e,t,n){super(e,"vec3",2,(r,o,s,i)=>r.setUniform3fv(e,t(o,s,i),n))}}},75803:(e,t,n)=>{n.d(t,{NV:()=>c,m8:()=>u});var r=n(30726),o=n(50346),s=n(59696),i=n(31432);class u extends s.A{constructor(e){super(e),this._numLoading=0,this._disposed=!1,this._textures=e.textures,this.updateTexture(e.textureId),this._acquire(e.normalTextureId,e=>this._textureNormal=e),this._acquire(e.emissiveTextureId,e=>this._textureEmissive=e),this._acquire(e.occlusionTextureId,e=>this._textureOcclusion=e),this._acquire(e.metallicRoughnessTextureId,e=>this._textureMetallicRoughness=e)}dispose(){super.dispose(),this._texture=(0,r.Gz)(this._texture),this._textureNormal=(0,r.Gz)(this._textureNormal),this._textureEmissive=(0,r.Gz)(this._textureEmissive),this._textureOcclusion=(0,r.Gz)(this._textureOcclusion),this._textureMetallicRoughness=(0,r.Gz)(this._textureMetallicRoughness),this._disposed=!0}ensureResources(e){return 0===this._numLoading?2:1}get textureBindParameters(){return new c(this._texture?.glTexture??null,this._textureNormal?.glTexture??null,this._textureEmissive?.glTexture??null,this._textureOcclusion?.glTexture??null,this._textureMetallicRoughness?.glTexture??null)}updateTexture(e){null!=this._texture&&e===this._texture.id||(this._texture=(0,r.Gz)(this._texture),this._acquire(e,e=>this._texture=e))}_acquire(e,t){if(null==e)return void t(null);const n=this._textures.acquire(e);if((0,o.$X)(n))return++this._numLoading,void n.then(e=>{if(this._disposed)return(0,r.Gz)(e),void t(null);t(e)}).finally(()=>--this._numLoading);t(n)}}class a extends i.Y{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;super(),this.textureEmissive=e}}class c extends a{constructor(e,t,n,r,o,s,i){super(n),this.texture=e,this.textureNormal=t,this.textureOcclusion=r,this.textureMetallicRoughness=o,this.scale=s,this.normalTextureTransformMatrix=i}}},78315:(e,t,n)=>{n.d(t,{A:()=>m,B:()=>j,N:()=>f,a:()=>_,b:()=>I,c:()=>g,d:()=>D,e:()=>y,f:()=>h,g:()=>S,h:()=>E,j:()=>v,k:()=>C,m:()=>M,n:()=>T,o:()=>F,p:()=>G,q:()=>A,s:()=>W,w:()=>k,x:()=>R,y:()=>q});n(81806),n(76460);var r=n(15941),o=n(34761),s=n(20664),i=n(9392),u=n(55855),a=n(53494),c=n(95925);function l(e,t){const n=(0,s.b)(e),o=(0,r.YN)(e[2]/n),i=Math.atan2(e[1]/n,e[0]/n);return(0,s.j)(t,n,o,i),t}var p=n(96190),d=n(75762);const f=g();function h(e,t,n,r){return new Array(e,t,n,r)}function g(){return h(0,0,0,0)}function v(e,t){return h(e[0],e[1],e[2],t)}function m(e){return h(e[0],e[1],e[2],e[3])}function y(e,t,n){return x(e,t[0],t[1],t[2],n)}function x(e,t,n,r,o){return e[0]=t,e[1]=n,e[2]=r,e[3]=o,e}function C(e,t){return b(e,t)}function b(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]}function M(e,t){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function I(e,t){return e[0]=0,e[1]=0,e[2]=0,e[3]=t,e}function S(e){return e[3]}function T(e,t){return(0,s.j)(t,e[0],e[1],e[2])}function _(e){return(0,s.j)(O,e[0],e[1],e[2])}function F(e,t){e[0]=t[0],e[1]=t[1],e[2]=t[2]}function R(e,t){e[0]=t[0],e[1]=t[1],e[2]=t[2]}function A(e,t,n){F(e,(0,s.t)(O,t,n))}function q(e){return(0,u.fA)(e[0],e[1],e[2],e[3])}function z(e,t,n){if(null==t)return!1;if(!P(e,t,w))return!1;let{t0:r,t1:o}=w;if((r<0||o<r&&o>0)&&(r=o),r<0)return!1;if(n){const{origin:e,direction:o}=t;n[0]=e[0]+o[0]*r,n[1]=e[1]+o[1]*r,n[2]=e[2]+o[2]*r}return!0}function E(e,t,n){const r=(0,c.Cr)(t,n);if(!P(e,r,w))return[];const{origin:o,direction:u}=r,{t0:l,t1:p}=w,d=t=>{const n=(0,i.vt)();return(0,s.c)(n,o,u,t),G(e,n,n)};return Math.abs(l-p)<(0,a.FD)()?[d(l)]:[d(l),d(p)]}const w={t0:0,t1:0};function P(e,t,n){const{origin:r,direction:o}=t,s=Z;s[0]=r[0]-e[0],s[1]=r[1]-e[1],s[2]=r[2]-e[2];const i=o[0]*o[0]+o[1]*o[1]+o[2]*o[2];if(0===i)return!1;const u=2*(o[0]*s[0]+o[1]*s[1]+o[2]*s[2]),a=u*u-4*i*(s[0]*s[0]+s[1]*s[1]+s[2]*s[2]-e[3]*e[3]);if(a<0)return!1;const c=Math.sqrt(a);return n.t0=(-u-c)/(2*i),n.t1=(-u+c)/(2*i),!0}const Z=(0,i.vt)();function k(e,t){return z(e,t,null)}function B(e,t,n){const r=d.rq.get(),i=d.Rc.get();(0,s.i)(r,t.origin,t.direction);const u=S(e);(0,s.i)(n,r,t.origin),(0,s.h)(n,n,1/(0,s.b)(n)*u);const a=U(e,t.origin),c=(0,p.g7)(t.origin,n);return(0,o.$0)(i,c+a,r),(0,s.t)(n,n,i),n}function D(e,t,n,r){const o=S(e),s=o*o,i=t+.5*Math.PI,u=n*n+s-2*Math.cos(i)*n*o,a=Math.sqrt(u),c=u-s;if(c<=0)return.5;const l=Math.sqrt(c),p=Math.acos(l/a)-Math.asin(o/(a/Math.sin(i)));return Math.min(1,(p+.5*r)/r)}function G(e,t,n){const r=(0,s.e)(d.rq.get(),t,_(e)),o=(0,s.h)(d.rq.get(),r,e[3]/(0,s.b)(r));return(0,s.g)(n,o,_(e))}function U(e,t){const n=(0,s.e)(d.rq.get(),t,_(e)),o=(0,s.b)(n),i=S(e),u=i+Math.abs(i-o);return(0,r.XM)(i/u)}const $=(0,i.vt)();function L(e,t,n,r){const o=(0,s.e)($,t,_(e));switch(n){case 0:{const e=l(o,$)[2];return(0,s.j)(r,-Math.sin(e),Math.cos(e),0)}case 1:{const e=l(o,$),t=e[1],n=e[2],i=Math.sin(t);return(0,s.j)(r,-i*Math.cos(n),-i*Math.sin(n),Math.cos(t))}case 2:return(0,s.n)(r,o);default:return}}function N(e,t){const n=(0,s.e)(Q,t,_(e));return(0,s.b)(n)-e[3]}function j(e,t){const n=(0,s.s)(_(e),t),r=S(e);return n<=r*r}const O=(0,i.vt)(),V=(0,i.vt)(),H=g(),Q=(0,i.vt)(),W=Object.freeze(Object.defineProperty({__proto__:null,NullSphere:f,altitudeAt:N,angleToSilhouette:U,axisAt:L,cameraFrustumCoverage:D,clear:function(e){e[0]=0,e[1]=0,e[2]=0,e[3]=0},clone:function(e){return h(e[0],e[1],e[2],e[3])},closestPoint:function(e,t,n){return z(e,t,n)?n:((0,c.oC)(t,_(e),n),G(e,n,n))},closestPointOnSilhouette:B,containsPoint:j,copy:M,copyCenter:R,create:g,distanceToSilhouette:function(e,t){const n=(0,s.e)(d.rq.get(),t,_(e)),r=(0,s.m)(n),o=e[3]*e[3];return Math.sqrt(Math.abs(r-o))},elevate:function(e,t,n){return e!==n&&(n[0]=e[0],n[1]=e[1],n[2]=e[2]),n[3]=e[3]+t,n},equals:b,exactEquals:C,fromCenterAndRadius:v,fromRadius:I,fromValues:h,fromVec4:m,getCenter:T,getCenterTemp:_,getExtent:function(e,t){return t},getRadius:S,intersectLine:E,intersectRay:z,intersectRayClosestSilhouette:function(e,t,n){if(z(e,t,n))return n;const r=B(e,t,d.rq.get());return(0,s.g)(n,t.origin,(0,s.h)(d.rq.get(),t.direction,(0,s.k)(t.origin,r)/(0,s.b)(t.direction))),n},intersectsRay:k,projectPoint:G,set:x,setAltitudeAt:function(e,t,n,r){const o=N(e,t),i=L(e,t,2,Q),u=(0,s.h)(Q,i,n-o);return(0,s.g)(r,t,u)},setCenter:F,setCenterFromValues:function(e,t,n,r){e[0]=t,e[1]=n,e[2]=r},setExtent:function(e,t,n){return e!==n&&M(e,n),n},setFromCenterAndRadius:y,setFromValues:function(e,t,n,r,o){e[0]=t,e[1]=n,e[2]=r,e[3]=o},setTransformedCenter:A,tmpSphere:H,toVec4:q,union:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:g();const r=(0,s.k)(_(e),T(t,V)),o=e[3],i=t[3];return r+i<o?(M(e,n),n):r+o<i?(M(t,n),n):((0,s.l)(O,_(e),T(t,V),(r+i-o)/(2*r)),y(n,O,(r+o+i)/2),n)}},Symbol.toStringTag,{value:"Module"}))},86955:(e,t,n)=>{n.d(t,{H:()=>r,If:()=>o});const r=function(e){let t="";for(let n=0;n<(arguments.length<=1?0:arguments.length-1);n++)t+=e[n]+(n+1<1||arguments.length<=n+1?void 0:arguments[n+1]);return t+=e[e.length-1],t};function o(e,t){return e?t:arguments.length>2&&void 0!==arguments[2]?arguments[2]:""}r.int=e=>Math.round(e).toString(),r.float=e=>e.toPrecision(8)},87003:(e,t,n)=>{n.d(t,{n:()=>r});n(81806);class r{constructor(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;if(this.name=e,this.type=t,this.arraySize=o,this.bind={0:null,1:null,2:null},r)switch(n){case void 0:break;case 0:this.bind[0]=r;break;case 1:this.bind[1]=r;break;case 2:this.bind[2]=r}}equals(e){return this.type===e.type&&this.name===e.name&&this.arraySize===e.arraySize}}},90992:(e,t,n)=>{n.d(t,{E5:()=>i,JU:()=>s,Of:()=>o,g7:()=>u,j:()=>a});n(50076);var r=n(81806);function o(e){return e&&"function"==typeof e.highlight}function s(e,t,n){return null==e||e>=n&&(0===t||e<=t)}function i(e,t){if(t&&e){const{minScale:n,maxScale:r}=e;if(function(e,t){return null!=e&&e>0||null!=t&&t>0}(n,r))return s(t,n,r)}return!0}function u(e){return!e?.minScale||!e.maxScale||e.minScale>=e.maxScale}const a=()=>!(0,r.A)("disable-feature:layer-based-scale-visibility")},94759:(e,t,n)=>{n.d(t,{C:()=>s});var r=n(99746),o=n(86955);function s(e){e.code.add(o.H`
    const float GAMMA = ${o.H.float(r.Tf)};
    const float INV_GAMMA = ${o.H.float(1/r.Tf)};

    vec4 delinearizeGamma(vec4 color) {
      return vec4(pow(color.rgb, vec3(INV_GAMMA)), color.a);
    }

    vec3 linearizeGamma(vec3 color) {
      return pow(color, vec3(GAMMA));
    }
  `)}},95352:(e,t,n)=>{n.d(t,{r:()=>i});var r=n(97808),o=n(86955);function s(e){e.fragment.code.add(o.H`vec4 textureAtlasLookup(sampler2D tex, vec2 textureCoordinates, vec4 atlasRegion) {
vec2 atlasScale = atlasRegion.zw - atlasRegion.xy;
vec2 uvAtlas = fract(textureCoordinates) * atlasScale + atlasRegion.xy;
float maxdUV = 0.125;
vec2 dUVdx = clamp(dFdx(textureCoordinates), -maxdUV, maxdUV) * atlasScale;
vec2 dUVdy = clamp(dFdy(textureCoordinates), -maxdUV, maxdUV) * atlasScale;
return textureGrad(tex, uvAtlas, dUVdx, dUVdy);
}`)}function i(e,t){const{textureCoordinateType:n}=t;if(0===n||3===n)return;e.include(r.U,t);const i=2===n;i&&e.include(s),e.fragment.code.add(o.H`
    vec4 textureLookup(sampler2D tex, vec2 uv) {
      return ${i?"textureAtlasLookup(tex, uv, vuvRegion)":"texture(tex, uv)"};
    }
  `)}},95925:(e,t,n)=>{n.d(t,{C:()=>p,Cr:()=>d,LV:()=>l,fA:()=>f,kb:()=>h,oC:()=>g,vt:()=>a});n(18690);var r=n(97467),o=(n(86300),n(44680)),s=n(20664),i=n(9392),u=n(75762);function a(e){return e?c((0,i.o8)(e.origin),(0,i.o8)(e.direction)):c((0,i.vt)(),(0,i.vt)())}function c(e,t){return{origin:e,direction:t}}function l(e,t){const n=v.get();return n.origin=e,n.direction=t,n}function p(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a();return f(e.origin,e.direction,t)}function d(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a();return(0,s.d)(n.origin,e),(0,s.e)(n.direction,t,e),n}function f(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a();return(0,s.d)(n.origin,e),(0,s.d)(n.direction,t),n}function h(e,t){const n=(0,s.i)(u.rq.get(),(0,s.n)(u.rq.get(),e.direction),(0,s.e)(u.rq.get(),t,e.origin));return(0,s.f)(n,n)}function g(e,t,n){const r=(0,s.f)(e.direction,(0,s.e)(n,t,e.origin));return(0,s.g)(n,e.origin,(0,s.h)(n,e.direction,r)),n}const v=new r.I(()=>a());(0,i.vt)(),(0,i.vt)(),(0,i.vt)(),(0,o.vt)()},96854:(e,t,n)=>{n.d(t,{A:()=>i,Y:()=>u});var r=n(34154),o=n(53430),s=n(76386);async function i(e,t,n,s){const i=new Array(t.length),u=new Map,a=new Map,c=(0,o.hL)(e.fieldsIndex,n.outFields),l=!0===e.capabilities?.operations?.supportsQuery&&null!=e.queryFeatures,p=s?.hasRequiredFields??o.Kl;for(let r=0;r<t.length;r++){const e=t[r];if(l&&!e.isAggregate){if(n.returnGeometry||!p(e,c)){const t=e.getObjectId();if(null!=t){u.set(t,{graphic:e,index:r});continue}const n=e.getGlobalId();if(null!=n){a.set(n,{graphic:e,index:r});continue}}i[r]=e}else i[r]=e}if(!l||!e.queryFeatures||0===u.size&&0===a.size)return i.filter(Boolean);const d=[],f=(e,t)=>{t&&(e.outFields??=[],e.outFields.includes(t)||e.outFields.push(t))};if(u.size>0){const t=n.clone();f(t,e.objectIdField),"uniqueIdFields"in e&&e.uniqueIdFields?.length&&(t.outFields??=[],t.outFields.push(...e.uniqueIdFields)),t.objectIds=Array.from(u.keys()),d.push({type:"object-id",query:t,map:u})}const h="globalIdField"in e?e.globalIdField:null;if(null!=h&&a.size>0){const e=n.clone();f(e,h);const t=Array.from(a.keys());e.where=(0,r.mA)(n.where,`${h} IN (${t.map(e=>`'${e}'`).join(",")})`),d.push({type:"global-id",query:e,map:a})}const g=s?.updateSourceAttributes??!1;for(const{type:r,query:o,map:v}of d)try{const t=await e.queryFeatures(o,s);for(const e of t.features){const t="object-id"===r?e.getObjectId():e.getGlobalId();if(null==t)continue;const n=v.get(t);if(!n)continue;const{graphic:o,index:s}=n;if(g&&e.attributes){o.attributes??={};for(const t of c)t in e.attributes&&(o.attributes[t]=e.attributes[t])}const{geometry:u,origin:a}=o;e.geometry||=u,e.origin=a,i[s]=e}}catch{}return i.filter(Boolean)}async function u(e){if(e.expressionInfos?.length||Array.isArray(e.content)&&e.content.some(e=>"expression"===e.type))return(0,s.l)()}},97467:(e,t,n)=>{n.d(t,{I:()=>o});var r=n(77944);class o{constructor(e){this._allocator=e,this._items=[],this._itemsPtr=0,this._grow()}get(){return 0===this._itemsPtr&&(0,r.d)(()=>this._reset()),this._itemsPtr===this._items.length&&this._grow(),this._items[this._itemsPtr++]}_reset(){const e=Math.min(3*Math.max(8,this._itemsPtr),this._itemsPtr+3*s);this._items.length=Math.min(e,this._items.length),this._itemsPtr=0}_grow(){for(let e=0;e<Math.max(8,Math.min(this._items.length,s));e++)this._items.push(this._allocator())}}const s=1024},97808:(e,t,n)=>{n.d(t,{U:()=>s});var r=n(4212),o=n(86955);function s(e,t){switch(t.textureCoordinateType){case 1:return e.attributes.add("uv0","vec2"),e.varyings.add("vuv0","vec2"),void e.vertex.code.add(o.H`void forwardTextureCoordinates() { vuv0 = uv0; }`);case 2:return e.attributes.add("uv0","vec2"),e.attributes.add("uvRegion","vec4"),e.varyings.add("vuv0","vec2"),e.varyings.add("vuvRegion","vec4"),void e.vertex.code.add(o.H`void forwardTextureCoordinates() {
vuv0 = uv0;
vuvRegion = uvRegion;
}`);default:(0,r.Xb)(t.textureCoordinateType);case 0:return void e.vertex.code.add(o.H`void forwardTextureCoordinates() {}`);case 3:return}}}}]);
//# sourceMappingURL=5263.ec258aae.chunk.js.map