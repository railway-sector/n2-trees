"use strict";(self.webpackChunkn2_trees=self.webpackChunkn2_trees||[]).push([[8384],{1736:(e,t,n)=>{n.d(t,{d:()=>u,e:()=>l,s:()=>c});var r=n(97799),s=n(49262),i=n(31633),o=n(58067);const a=new class{getOperatorType(){return 10100}supportsCurves(){return!0}accelerateGeometry(e,t,n){return!1}canAccelerateGeometry(e){return!1}execute(e,t,n){return this.executeEx(e,t,n,null,null,Number.NaN)}executeEx(e,t,n,i,o,a){if(e.isEmpty()||t.isEmpty())return Number.NaN;(0,r.c)(e),(0,r.c)(t);const l=e,c=t;Number.isNaN(a)&&(a=Number.POSITIVE_INFINITY);const u=new s.D(a,n).calculate(l,c,i,o);return Number.isFinite(u)?u:Number.NaN}};function l(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{unit:r}=n;let s=a.execute((0,o.fromGeometry)(e),(0,o.fromGeometry)(t),null);if(s&&r){const t=(0,o.getSpatialReference)(e);s=(0,i.PQ)(s,t,r)}return s}const c=a.supportsCurves(),u=Object.freeze(Object.defineProperty({__proto__:null,execute:l,supportsCurves:c},Symbol.toStringTag,{value:"Module"}))},42151:(e,t,n)=>{n.d(t,{E5:()=>h,ZP:()=>f});var r=n(18690),s=n(94967),i=n(99809),o=n(60008),a=n(4336),l=n(20664),c=n(9392),u=n(19247);function m(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return null!=n?[e,t,n]:[e,t]}function h(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return null!=n?{x:e,y:t,z:n}:{x:e,y:t}}class p{constructor(e){this.spatialReference=e}mapToLocalMultiple(e){return e.map(e=>this.mapToLocal(e)).filter(r.Ru)}get doUnnormalization(){return!1}}class y extends p{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;super(t),this._defaultZ=n,this.transform=(0,i.vt)(),this.transformInv=(0,i.vt)(),this.transform=(0,i.o8)(e),(0,s.B8)(this.transformInv,this.transform)}makeMapPoint(e,t){return m(e,t,this._defaultZ)}mapToLocal(e){return h(this.transform[0]*e[0]+this.transform[2]*e[1]+this.transform[4],this.transform[1]*e[0]+this.transform[3]*e[1]+this.transform[5])}localToMap(e){return m(this.transformInv[0]*e.x+this.transformInv[2]*e.y+this.transformInv[4],this.transformInv[1]*e.x+this.transformInv[3]*e.y+this.transformInv[5],this._defaultZ)}}class g extends p{constructor(e,t){super(e.spatialReference),this.view=e,this.defaultZ=null,this.pWS=(0,c.vt)(),this.tangentFrameUpWS=(0,c.vt)(),this.tangentFrameRightWS=(0,c.vt)(),this.tangentFrameForwardWS=(0,c.vt)(),this.localFrameRightWS=(0,c.vt)(),this.localFrameUpWS=(0,c.vt)(),this.worldToLocalTransform=(0,a.vt)(),this.localToWorldTransform=(0,a.vt)(),this.scale=1,this.scale=e.resolution,this.referenceMapPoint=t,this.defaultZ=t.hasZ?t.z:null;const n=e.state.camera.viewRight;this.view.renderCoordsHelper.toRenderCoords(this.referenceMapPoint,this.pWS),this.view.renderCoordsHelper.worldBasisAtPosition(this.pWS,0,this.tangentFrameRightWS),this.view.renderCoordsHelper.worldBasisAtPosition(this.pWS,1,this.tangentFrameUpWS),this.view.renderCoordsHelper.worldBasisAtPosition(this.pWS,2,this.tangentFrameForwardWS);const r=(0,c.vt)();(0,l.h)(r,this.tangentFrameForwardWS,(0,l.f)(n,this.tangentFrameForwardWS)),(0,l.e)(this.localFrameRightWS,n,r),(0,l.n)(this.localFrameRightWS,this.localFrameRightWS),(0,l.i)(this.localFrameUpWS,this.tangentFrameForwardWS,this.localFrameRightWS),(0,o.Yc)(this.worldToLocalTransform,this.localFrameRightWS,this.tangentFrameRightWS),(0,o.B8)(this.localToWorldTransform,this.worldToLocalTransform)}get doUnnormalization(){return"global"===this.view.viewingMode}makeMapPoint(e,t){return m(e,t,this.defaultZ)}mapToLocal(e){const t=(0,c.vt)();this.view.renderCoordsHelper.toRenderCoords(new u.A({x:e[0],y:e[1],spatialReference:this.spatialReference}),t),(0,l.v)(t,t,this.worldToLocalTransform);const n=this.view.renderCoordsHelper.fromRenderCoords(t,new u.A({spatialReference:this.view.spatialReference}));return null!=n?h(n.x/this.scale,n.y/this.scale):null}localToMap(e){const t=(0,c.vt)();this.view.renderCoordsHelper.toRenderCoords(new u.A({x:e.x*this.scale,y:e.y*this.scale,spatialReference:this.spatialReference}),t),(0,l.v)(t,t,this.localToWorldTransform);const n=this.view.renderCoordsHelper.fromRenderCoords(t,new u.A({spatialReference:this.view.spatialReference}));return null!=n?m(n.x,n.y,this.defaultZ):null}}function f(e,t){if("2d"===e.type)return new y(e.state.transform,e.spatialReference,t.length>2?t[2]:null);if("3d"===e.type){const n=t.length>2?new u.A({x:t[0],y:t[1],z:t[2],spatialReference:e.spatialReference}):new u.A({x:t[0],y:t[1],spatialReference:e.spatialReference});return new g(e,n)}return null}},48384:(e,t,n)=>{n.d(t,{zV:()=>Y,zd:()=>z,eq:()=>S,N6:()=>G,LZ:()=>T,_T:()=>A,GF:()=>q});var r,s=n(18690),i=n(53084),o=n(31633),a=n(20664),l=n(9392),c=n(6326),u=n(46053),m=(n(81806),n(76460),n(47249),n(87990)),h=n(34111),p=n(19247),y=n(65215),g=n(13312),f=n(7137),d=n(45417),v=n(85996);let _=r=class extends y.A{constructor(e){super(e),this.center=null,this.geodesic=!1,this.numberOfPoints=60,this.radius=1e3,this.radiusUnit="meters"}initialize(){const e=this.center,t=this.numberOfPoints;if(this.hasZ=e?.hasZ??!1,0!==this.rings.length||!e)return;const n=(0,o.oU)(this.radius,this.radiusUnit,"meters"),r=e.spatialReference;let s,i="geographic";if(r.isWebMercator?i="webMercator":(null!=(r.wkid&&v.A[r.wkid])||(r.wkt2||r.wkt)&&(0,o.x1)(r.wkt2||r.wkt))&&(i="projected"),this.geodesic){let r;switch(i){case"webMercator":r=(0,d.ci)(e);break;case"projected":console.error("Creating a geodesic circle requires the center to be specified in web mercator or geographic coordinate system");break;case"geographic":r=e}s=this._createGeodesicCircle(r,n,t),"webMercator"===i&&(s=(0,d.Gh)(s))}else{let r;"webMercator"===i||"projected"===i?r=n/(0,o.Ao)(e.spatialReference):"geographic"===i&&(r=(0,o.vl)(n,"meters",(0,h.tO)(e.spatialReference).radius)),s=this._createPlanarCircle(e,r,t)}this.spatialReference=s.spatialReference,this.addRing(s.rings[0])}clone(){const{center:e,numberOfPoints:t,radius:n,radiusUnit:s,geodesic:i}=this;return new r({center:e?.clone(),numberOfPoints:t,radius:n,radiusUnit:s,geodesic:i})}_createGeodesicCircle(e,t,n){const r=[],s=[e.x,e.y];for(let i=0;i<360;i+=360/n){const n=this.hasZ?[0,0,e.z??0]:[0,0];(0,f.vN)(n,s,i,t,g.A.WGS84),r.push(n)}return r.push(r[0]),new y.A({rings:[r]})}_createPlanarCircle(e,t,n){const r=[],s=2*Math.PI/n;for(let i=0;i<n;++i){const n=s*i,o=[e.x+Math.cos(-n)*t,e.y+Math.sin(-n)*t];this.hasZ&&o.push(e.z??0),r.push(o)}return r.push(r[0]),new y.A({spatialReference:e.spatialReference,rings:[r]})}};(0,c.Cg)([(0,u.MZ)({type:p.A})],_.prototype,"center",void 0),(0,c.Cg)([(0,u.MZ)()],_.prototype,"geodesic",void 0),(0,c.Cg)([(0,u.MZ)()],_.prototype,"numberOfPoints",void 0),(0,c.Cg)([(0,u.MZ)()],_.prototype,"radius",void 0),(0,c.Cg)([(0,u.MZ)()],_.prototype,"radiusUnit",void 0),_=r=(0,c.Cg)([(0,m.$)("esri.geometry.Circle")],_);const x=_;var D=n(66388),M=n(23701),N=n(1736),P=n(78496),E=n(5262),I=n(80963),w=n(42151);function b(e,t){const n=new p.A({x:e[0],y:e[1],spatialReference:t});return e.length>2&&(n.z=e[2]),n}function S(e,t){return new D.A({points:e,spatialReference:t})}function T(e,t,n){const r=new M.A({paths:e,spatialReference:t});return n&&(0,E._7)(r),r}function G(e,t,n){let r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const o=(0,i.o8)(e);o.forEach(e=>{const t=e[0],n=e[e.length-1];(0,s.aI)(t,n)&&1!==e.length||e.push(e[0])});let a=new y.A({rings:o,spatialReference:t});return a.rings.forEach(e=>{(0,E.$3)(e)||e.reverse()}),n&&(0,E._7)(a),r&&!(0,P.i)(a)&&(0,I.fn)(t)&&(a=(0,P.e)(a)||a),a}function q(e,t,n){const r=t.mapToLocalMultiple(e),i=[],o={x:r[0].x,y:r[0].y},a=r[1].x,l=r[1].y,c=Math.round(a-o.x),u=Math.round(l-o.y),m=Math.max(Math.abs(c),Math.abs(u));if(n){const e={x:o.x+m,y:o.y+m},t={x:o.x-m,y:o.y-m};i.push((0,w.E5)(e.x,t.y),(0,w.E5)(t.x,t.y),(0,w.E5)(t.x,e.y),(0,w.E5)(e.x,e.y))}else{const e={x:c>0?o.x+m:o.x-m,y:u>0?o.y+m:o.y-m};i.push((0,w.E5)(o.x,o.y),(0,w.E5)(e.x,o.y),(0,w.E5)(e.x,e.y),(0,w.E5)(o.x,e.y))}return C(G([i.map(e=>t.localToMap(e)).filter(s.Ru)],t.spatialReference,t.doUnnormalization,!0),i,t)}function A(e,t,n){let r=t.mapToLocalMultiple(e);if(1===r.length){const e=48,t=r[0];r=[(0,w.E5)(t.x-e,t.y+e),(0,w.E5)(t.x+e,t.y-e),(0,w.E5)(t.x+e,t.y-e),(0,w.E5)(t.x-e,t.y+e)]}const i=[],o={x:r[0].x,y:r[0].y},a={x:r[1].x,y:r[1].y};if(n){const e=Math.round(a.x-o.x),t=Math.round(a.y-o.y);i.push((0,w.E5)(o.x-e,o.y-t),(0,w.E5)(a.x,o.y-t),(0,w.E5)(a.x,a.y),(0,w.E5)(o.x-e,a.y))}else i.push((0,w.E5)(o.x,o.y),(0,w.E5)(a.x,o.y),(0,w.E5)(a.x,a.y),(0,w.E5)(o.x,a.y));return C(G([i.map(e=>t.localToMap(e)).filter(s.Ru)],t.spatialReference,t.doUnnormalization,!0),i,t)}function C(e,t,n){const r=R(t[3],t[2],n),s=R(t[1],t[2],n),i=R(t[0],t[1],n),o=R(t[0],t[3],n);return{geometry:e,midpoints:null!=r&&null!=s&&null!=i&&null!=o?{top:r,right:s,bottom:i,left:o}:null}}function R(e,t,n){F[0]=e.x,F[1]=e.y,F[2]=0,W[0]=t.x,W[1]=t.y,W[2]=0,(0,a.l)(F,F,W,.5),B.x=F[0],B.y=W[1],B.z=W[2];const r=n.localToMap(B);return null!=r?b(r,n.spatialReference):null}const B=(0,w.E5)(0,0,0),F=(0,l.vt)(),W=(0,l.vt)();function Y(e,t,n,r){const s=t.mapToLocalMultiple(e);let i=null,a=null;if(n)i=s[0],a=s[1];else{const e=s[0],t=s[1],n=Math.round(t.x-e.x),r=Math.round(t.y-e.y),o=Math.max(Math.abs(n),Math.abs(r));i=(0,w.E5)(n>0?e.x+o/2:e.x-o/2,r>0?e.y+o/2:e.y-o/2),a=(0,w.E5)(Math.abs(n)>Math.abs(r)?i.x-o/2:i.x,Math.abs(n)>Math.abs(r)?i.y:i.y-o/2)}const l=t.localToMap(i),c=t.localToMap(a);if(null==l||null==c)return null;t.doUnnormalization&&(0,E.JM)([[l,c]],t.spatialReference);const u=b(l,t.spatialReference),m=b(c,t.spatialReference),h=(0,o.GA)(t.spatialReference);let p=0;if((0,I.fn)(t.spatialReference))p=h*(0,N.e)(u,m);else{const e=i.x-a.x,t=i.y-a.y;p=h*Math.sqrt(e*e+t*t)*(r||1)}const y=new x({center:u,radius:p,radiusUnit:"meters",spatialReference:t.spatialReference});return{geometry:G(y.rings,y.spatialReference,!1),center:u,edge:m}}function z(e,t,n){const r=t.mapToLocalMultiple(e),i=r[0],o=r[1],a=Math.round(o.x-i.x),l=Math.round(o.y-i.y),c=(0,w.E5)(n?i.x:i.x+a/2,n?i.y:i.y+l/2),u=n?a:a/2,m=n?l:l/2,h=[],p=2*Math.PI/60;function y(e){const t=Math.cos(e),n=Math.sin(e);return(0,w.E5)(u*t+c.x,m*n+c.y)}for(let s=0;s<60;s++)h.push(y(s*p));h.push(h[0]);const{spatialReference:g,doUnnormalization:f}=t,d=G([h.map(e=>t.localToMap(e)).filter(s.Ru)],g,f,!1),v=t.localToMap(y(Math.PI/2)),_=t.localToMap(y(0)),x=t.localToMap(y(-Math.PI/2)),D=t.localToMap(y(Math.PI));return{geometry:d,midpoints:null!=v&&null!=_&&null!=x&&null!=D?{top:b(v,g),right:b(_,g),bottom:b(x,g),left:b(D,g)}:null}}},49262:(e,t,n)=>{n.d(t,{D:()=>x,m:()=>u,s:()=>d,w:()=>f});var r=n(6326),s=n(97799),i=n(63331),o=n(56175),a=n(26871),l=n(21557),c=n(91523);function u(){return{outPoint:new a.P,index:-1,t:Number.NaN}}function m(e,t,n){return{outPoint:e.clone(),index:t,t:n}}function h(e,t,n,r){e.outPoint.assign(t),e.index=n,e.t=r}function p(e,t){e.outPoint.assign(t.outPoint),e.index=t.index,e.t=t.t}function y(e,t,n,r){e.index=n,e.t=r,t.queryCoord2D(e.t,e.outPoint)}function g(e,t){const n=u();p(n,e),p(e,t),p(t,n)}function f(e,t,n,r,i,a){if(e.getGeometryType()===s.G.enumPolygon){for(;r.nextPath();)if(r.hasNextSegment()){const t=r.nextSegment();if(0!==(0,o.H)(e,t.getEndXY(),0))return h(i,t.getEndXY(),-1,Number.NaN),h(a,t.getEndXY(),-1,Number.NaN),!0}r.resetToFirstPath()}if(t.getGeometryType()===s.G.enumPolygon){for(;n.nextPath();)if(n.hasNextSegment()){const e=n.nextSegment();if(0!==(0,o.H)(t,e.getEndXY(),0))return h(i,e.getEndXY(),-1,Number.NaN),h(a,e.getEndXY(),-1,Number.NaN),!0}n.resetToFirstPath()}return!1}function d(e){const t=e.getPathCount(),n=(0,a.d)(e.getSegmentCount(),0);let r=0;for(let s=0;s<t;++s){const t=r+e.getSegmentCountPath(s);for(let i=r,o=e.getPathStart(s);i<t;++i,++o)n[i]=o;r=t}return(0,i.s)(e.getPointCount(),n),n}function v(e,t){return!!Number.isNaN(t)||e<=t}function _(e){const t=new i.a;return t.addEnvelope(e,!1),t}class x{constructor(e,t){if(this.m_env2DgeometryA=null,this.m_env2DgeometryB=null,this.m_progressCounter=0,this.m_progressTracker=t,this.m_maxSqrDistance=e*e,this.m_maxDistance=e,this.m_bIsNearCalc=!1,Number.isNaN(this.m_maxDistance)?this.m_maxDistance=Number.POSITIVE_INFINITY:this.m_maxDistance=e,this.m_maxSqrDistance=this.m_maxDistance*this.m_maxDistance,Number.isFinite(this.m_maxSqrDistance)){let e=Math.sqrt(this.m_maxSqrDistance);for(;e<this.m_maxDistance;)this.m_maxSqrDistance*=1+Number.EPSILON,e=Math.sqrt(this.m_maxSqrDistance)}}calculate(e,t,n,r){if((e.getGeometryType()!==c.P.type||t.getGeometryType()!==c.P.type)&&(this.m_env2DgeometryA=new l.Envelope2D,this.m_env2DgeometryB=new l.Envelope2D,e.queryEnvelope(this.m_env2DgeometryA),t.queryEnvelope(this.m_env2DgeometryB),!v(this.m_env2DgeometryA.distanceFromEnvelope(this.m_env2DgeometryB),this.m_maxDistance)))return Number.POSITIVE_INFINITY;const s=m(new a.P,(0,a.j)(),Number.NaN),i=m(new a.P,(0,a.j)(),Number.NaN),o=this._ExecuteBruteForce(e,t,s,i);return v(o,this.m_maxDistance)?(null!==n&&p(n,s),null!==r&&p(r,i),o):Number.POSITIVE_INFINITY}isNear(e,t){if(this.m_bIsNearCalc=!0,e.isEmpty()||t.isEmpty())return!1;if(e===t)return!0;let n=!0;if(e.getGeometryType()!==c.P.type&&e.getGeometryType()!==c.E.type||t.getGeometryType()!==c.P.type&&t.getGeometryType()!==c.E.type||(n=!1),n){if(this.m_env2DgeometryA=new l.Envelope2D,this.m_env2DgeometryB=new l.Envelope2D,e.queryEnvelope(this.m_env2DgeometryA),t.queryEnvelope(this.m_env2DgeometryB),!(this.m_env2DgeometryA.sqrMaxMinDistanceEnvelope(this.m_env2DgeometryB)>this.m_maxSqrDistance))return!0;if(this.m_env2DgeometryA.sqrDistanceEnvelope(this.m_env2DgeometryB,null,null)>this.m_maxSqrDistance)return!1}const r=m(new a.P,(0,a.j)(),Number.NaN),s=m(new a.P,(0,a.j)(),Number.NaN);return this._ExecuteBruteForce(e,t,r,s)<=this.m_maxDistance}progress_(){}_ExecuteBruteForce(e,t,n,r){switch(e.getGeometryType()){case s.G.enumPoint:return this.distancePointGeometry(e,t,n,r);case s.G.enumMultiPoint:return this.distanceMultipointGeometry(e,t,n,r);case s.G.enumEnvelope:return this.distanceEnvelopeGeometry(e,t,n,r);case s.G.enumPolyline:case s.G.enumPolygon:return this.distanceMultipathGeometry(e,t,n,r);default:return Number.NaN}}distancePointGeometry(e,t,n,r){switch(t.getGeometryType()){case s.G.enumPoint:return this.distancePointPoint(e,t,n,r);case s.G.enumMultiPoint:return this.distancePointMultipoint(e,t,n,r);case s.G.enumPolyline:case s.G.enumPolygon:return this.distancePointMultipath(e,t,n,r);case s.G.enumEnvelope:return this.distancePointEnvelope(e,t,n,r);default:return Number.NaN}}distancePointPoint(e,t,n,r){const s=e.getXY(),i=t.getXY();return h(n,s,0,0),h(r,i,0,0),Math.sqrt(a.P.sqrDistance(s,i))}distancePointMultipoint(e,t,n,r){const s=e.getXY();let i=this.m_maxSqrDistance,o=i,l=!1;const c=t.getPointCount(),u=new a.P;for(let m=0;m<c;++m)if(t.queryXY(m,u),o=a.P.sqrDistance(s,u),this.m_bIsNearCalc){if(o<=i)return 0}else if(!(o>i)&&(!l&&o===i||o<i)&&(i=o,h(n,s,0,0),h(r,u,m,0),l=!0,0===i))return 0;return l?Math.sqrt(i):Number.POSITIVE_INFINITY}distancePointMultipath(e,t,n,r){const i=!this.m_env2DgeometryA.isIntersecting(this.m_env2DgeometryB),c=e.getXY();if(!i&&t.getGeometryType()===s.G.enumPolygon&&0!==(0,o.H)(t,c,0))return h(n,c,0,0),h(r,c,-1,Number.NaN),0;t.getImpl().getAccelerators();let u=this.m_maxSqrDistance,m=u,p=-1;const y=new l.Envelope2D,g=t.querySegmentIterator();let f=!1;for(;g.nextPath();)for(;g.hasNextSegment();){const e=g.nextSegment();e.queryEnvelope(y);const t=y.sqrDistance(c);if(t>u)continue;if(!this.m_bIsNearCalc&&f&&t===u)continue;p=e.getClosestCoordinate(c,!1);const s=e.getCoord2D(p);if(m=a.P.sqrDistance(c,s),this.m_bIsNearCalc){if(m<=u)return 0}else if(!(m>u)&&(!f||m<u)&&(u=m,h(n,c,0,0),h(r,s,g.getStartPointIndex(),p),f=!0,0===u))return 0}return f?Math.sqrt(u):Number.POSITIVE_INFINITY}distancePointEnvelope(e,t,n,r){const s=e.getXY();h(n,s,0,0),h(r,s,-1,Number.NaN);const i=t.asEnvelope2D();return i.contains(s)?0:Math.sqrt(i.sqrDistance(s,r.outPoint))}distanceMultipointGeometry(e,t,n,r){switch(t.getGeometryType()){case s.G.enumPoint:{this.m_env2DgeometryB=(0,a.c)(this.m_env2DgeometryA,this.m_env2DgeometryA=this.m_env2DgeometryB);const s=this.distancePointMultipoint(t,e,r,n);return this.m_env2DgeometryB=(0,a.c)(this.m_env2DgeometryA,this.m_env2DgeometryA=this.m_env2DgeometryB),s}case s.G.enumMultiPoint:return this.distanceMultipointMultipoint(e,t,n,r,1,1);case s.G.enumPolyline:case s.G.enumPolygon:return this.distanceMultipointMultipath(e,t,n,r);case s.G.enumEnvelope:return this.distanceMultipointMultipath(e,_(t),n,r);default:return Number.NaN}}distanceMultipointMultipoint(e,t,n,s,i,o){const l={stack:[],error:void 0,hasError:!1};try{if(this.m_bIsNearCalc&&1===i&&1===o){const r=Math.trunc((0,a.s)(Math.sqrt(e.getPointCount())+1,1,(0,a.i)())),i=Math.trunc((0,a.s)(Math.sqrt(t.getPointCount())+1,1,(0,a.i)()));if((r>=4||i>=4)&&this.distanceMultipointMultipoint(e,t,n,s,r,i)<=this.m_maxSqrDistance)return 0}let c=this.m_maxSqrDistance;const u=[e],m=[t],p=this.swapGeometriesIfBGtA(u,m);p&&(this.m_env2DgeometryB=(0,a.c)(this.m_env2DgeometryA,this.m_env2DgeometryA=this.m_env2DgeometryB),o=(0,a.c)(i,i=o),g(n,s)),(0,r.mS)(l,(0,a.h)(()=>{g(n,s),this.m_env2DgeometryB=(0,a.c)(this.m_env2DgeometryA,this.m_env2DgeometryA=this.m_env2DgeometryB)},!p),!1);const y=u[0].getImpl(),f=m[0].getImpl(),d=y.getPointCount(),v=f.getPointCount(),_=v>1;let x=!1;const D=new a.P,M=new a.P;for(let e=0;e<d;e+=i){if(y.queryXY(e,D),_){const e=this.m_env2DgeometryB.sqrDistance(D);if(this.m_bIsNearCalc){if(e>c)continue;if(this.m_env2DgeometryB.sqrMaxMinDistance(D)<=c)return 0}else if(e>=c)continue}for(let t=0;t<v;t+=o){f.queryXY(t,M);const r=a.P.sqrDistance(D,M);if(this.m_bIsNearCalc){if(r<=c)return 0}else if(!(r>c||x&&r===c)&&(!x||r<c)&&(h(n,D,e,0),h(s,M,t,0),x=!0,c=r,0===c))return x?Math.sqrt(c):Number.POSITIVE_INFINITY}}return x?Math.sqrt(c):Number.POSITIVE_INFINITY}catch(c){l.error=c,l.hasError=!0}finally{(0,r.hk)(l)}}distanceMultipointMultipath(e,t,n,r){let i=!!this.m_env2DgeometryA.isIntersecting(this.m_env2DgeometryB)&&t.getGeometryType()===s.G.enumPolygon;const c=t.querySegmentIterator();c.stripAttributes();const u=new l.Envelope2D,m=new a.P;let p=this.m_maxSqrDistance;const y=e.getImpl(),g=y.getPointCount(),f=g>1;let d=!1;for(;c.nextPath();)for(;c.hasNextSegment();){const e=c.nextSegment();if(e.queryLooseEnvelope(u),f){const e=u.sqrDistanceEnvelope(this.m_env2DgeometryA,null,null);if(this.m_bIsNearCalc){if(e>p)continue}else if(e>p||d&&e===p)continue}for(let s=0;s<g;s++){if(y.queryXY(s,m),i&&0!==(0,o.H)(t,m,0))return h(n,m,-1,Number.NaN),h(r,m,s,0),0;{const e=u.sqrDistance(m);if(this.m_bIsNearCalc){if(e>p)continue}else if(e>p)continue}const a=e.getClosestCoordinate(m,!1),l=e.getCoord2D(a);m.subThis(l);const g=m.sqrLength();if(this.m_bIsNearCalc){if(g<=p)return 0}else if(!(g>p)&&(!d||g<p)&&(p=g,h(n,y.getXY(s),s,0),h(r,l,c.getStartPointIndex(),a),d=!0,0===p))return 0}i=!1}return d?Math.sqrt(p):Number.POSITIVE_INFINITY}distanceEnvelopeGeometry(e,t,n,r){switch(t.getGeometryType()){case s.G.enumPoint:return this.distancePointEnvelope(t,e,r,n);case s.G.enumMultiPoint:{this.m_env2DgeometryB=(0,a.c)(this.m_env2DgeometryA,this.m_env2DgeometryA=this.m_env2DgeometryB);const s=this.distanceMultipointMultipath(t,_(e),r,n);return this.m_env2DgeometryB=(0,a.c)(this.m_env2DgeometryA,this.m_env2DgeometryA=this.m_env2DgeometryB),s}case s.G.enumPolyline:case s.G.enumPolygon:return this.distanceMultipathMultipath(_(e),t,n,r);case s.G.enumEnvelope:return this.distanceEnvelopeEnvelope(e,t,n,r);default:return Number.NaN}}distanceEnvelopeEnvelope(e,t,n,r){n.t=Number.NaN,n.index=-1,r.t=Number.NaN,r.index=-1;const s=e.asEnvelope2D(),i=t.asEnvelope2D();return Math.sqrt(s.sqrDistanceEnvelope(i,n.outPoint,r.outPoint))}distanceMultipathGeometry(e,t,n,r){switch(t.getGeometryType()){case s.G.enumPoint:{this.m_env2DgeometryB=(0,a.c)(this.m_env2DgeometryA,this.m_env2DgeometryA=this.m_env2DgeometryB);const s=this.distancePointMultipath(t,e,r,n);return this.m_env2DgeometryB=(0,a.c)(this.m_env2DgeometryA,this.m_env2DgeometryA=this.m_env2DgeometryB),s}case s.G.enumMultiPoint:{this.m_env2DgeometryB=(0,a.c)(this.m_env2DgeometryA,this.m_env2DgeometryA=this.m_env2DgeometryB);const s=this.distanceMultipointMultipath(t,e,r,n);return this.m_env2DgeometryB=(0,a.c)(this.m_env2DgeometryA,this.m_env2DgeometryA=this.m_env2DgeometryB),s}case s.G.enumPolyline:case s.G.enumPolygon:return this.distanceMultipathMultipath(e,t,n,r);case s.G.enumEnvelope:return this.distanceMultipathMultipath(e,_(t),n,r);default:return Number.NaN}}distanceMultipathMultipath(e,t,n,s){const o={stack:[],error:void 0,hasError:!1};try{const c=[e],m=[t],h=this.swapGeometriesIfAGtB(c,m);h&&(this.m_env2DgeometryB=(0,a.c)(this.m_env2DgeometryA,this.m_env2DgeometryA=this.m_env2DgeometryB),g(n,s)),(0,r.mS)(o,(0,a.h)(()=>{g(n,s),this.m_env2DgeometryB=(0,a.c)(this.m_env2DgeometryA,this.m_env2DgeometryA=this.m_env2DgeometryB)},!h),!1);const v=c[0],_=m[0],x=v.querySegmentIterator();x.stripAttributes();const D=_.querySegmentIterator();if(D.stripAttributes(),this.m_bIsNearCalc&&this.m_env2DgeometryA.sqrMaxMinDistanceEnvelope(this.m_env2DgeometryB)<=this.m_maxSqrDistance)return 0;if(this.m_bIsNearCalc){const e=Math.trunc((0,a.s)(Math.sqrt(v.getPointCount())+1,1,(0,a.i)())),t=Math.trunc((0,a.s)(Math.sqrt(v.getPointCount())+1,1,(0,a.i)()));if(this.distanceMultipointMultipoint(v,_,n,s,e,t)<=this.m_maxSqrDistance)return 0}if(this.m_env2DgeometryA.isIntersecting(this.m_env2DgeometryB)){const e=u(),t=u();if(f(v,_,x,D,e,t))return p(n,e),p(s,t),0}const M=d(v),N=[],P=new i.S,E=new l.Envelope2D,I=new l.Envelope2D,w=new l.Envelope2D;let b=this.m_maxSqrDistance,S=!0,T=!1;for(let e=0,t=M.length;e<t;++e){v.querySegment(M[e],P,!0);const t=P.get();if(t.queryEnvelope(E),!(E.sqrDistanceEnvelope(this.m_env2DgeometryB,null,null)>b)){if(this.m_bIsNearCalc&&E.sqrMaxDistanceEnvelope(this.m_env2DgeometryB)<=b)return 0;for(;D.nextPath();){if(this.progress_(),S)_.queryPathEnvelope(D.getPathIndex(),w),N[D.getPathIndex()]=w.clone();else if(E.sqrDistanceEnvelope(N[D.getPathIndex()],null,null)>b)continue;for(;D.hasNextSegment();){const r=D.nextSegment();if(r.queryEnvelope(I),E.sqrDistanceEnvelope(I,null,null)<=b){const i=!E.isIntersecting(I),o=[0],a=[0];let l=t.distance(r,i,o,a);if(l*=l,this.m_bIsNearCalc&&l<=this.m_maxSqrDistance)return 0;if(l<b||l===b&&M[e]<n.index){if(T=!0,y(n,t,M[e],o[0]),y(s,r,D.getStartPointIndex(),a[0]),0===l)return 0;b=l}}}}D.resetToFirstPath(),S=!1}}return T?Math.sqrt(b):Number.POSITIVE_INFINITY}catch(c){o.error=c,o.hasError=!0}finally{(0,r.hk)(o)}}swapGeometriesIfAGtB(e,t){return(0,s.v)(e[0])>(0,s.v)(t[0])&&(t[0]=(0,a.c)(e[0],e[0]=t[0]),!0)}swapGeometriesIfBGtA(e,t){return this.swapGeometriesIfAGtB(t,e)}}},50360:(e,t,n)=>{n.d(t,{Pg:()=>l,fz:()=>c,g7:()=>o,zo:()=>a});var r=n(68707),s=(n(97799),n(63331),n(56175));n(91523);const i=new s.D;function o(e,t,n){return i.execute(e,t,n,null)}function a(e,t,n){const s=i.executeMany(new r.S(e),t,n,null);return Array.from(s)}function l(e,t,n){return i.isSimpleAsFeature(e,t,n,null,null)}function c(){return i.supportsCurves()}},78496:(e,t,n)=>{n.d(t,{e:()=>i,i:()=>o,s:()=>l});var r=n(50360),s=n(58067);function i(e){const t=(0,s.getSpatialReference)(e);return(0,s.toGeometry)((0,r.g7)((0,s.fromGeometry)(e),(0,s.fromSpatialReference)(t),!1),t)}function o(e){return(0,r.Pg)((0,s.fromGeometry)(e),(0,s.fromSpatialReference)((0,s.getSpatialReference)(e)),!1)}const a=(0,r.fz)(),l=Object.freeze(Object.defineProperty({__proto__:null,execute:i,executeMany:function(e){const t=e.map(s.fromGeometry),n=(0,s.getSpatialReference)(e);return(0,r.zo)(t,(0,s.fromSpatialReference)(n),!1).map(e=>(0,s.toGeometry)(e,n))},isSimple:o,supportsCurves:a},Symbol.toStringTag,{value:"Module"}))}}]);
//# sourceMappingURL=8384.d75b0c25.chunk.js.map