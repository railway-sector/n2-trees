{"version":3,"file":"static/js/8699.cbdb2424.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/views/3d/environment/CloudyWeather.js","../node_modules/@arcgis/core/views/3d/environment/FoggyWeather.js","../node_modules/@arcgis/core/views/3d/environment/RainyWeather.js","../node_modules/@arcgis/core/views/3d/environment/SnowyWeather.js","../node_modules/@arcgis/core/views/3d/environment/SunnyWeather.js","../node_modules/@arcgis/core/views/3d/environment/weather.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/RenderGeometry.js","../node_modules/@arcgis/core/views/3d/terrain/interfaces.js","../node_modules/@arcgis/core/chunks/HighlightDownsample.glsl.js","../node_modules/@arcgis/core/views/3d/support/renderInfoUtils/line.js","../node_modules/@arcgis/core/views/3d/terrain/OverlayContent.js","../node_modules/@arcgis/core/views/3d/terrain/Overlay.js","../node_modules/@arcgis/core/views/3d/terrain/OverlayFramebufferObject.js","../node_modules/@arcgis/core/views/3d/terrain/OverlayRenderTargets.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/renderPasses/RenderPassIdentifier.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/terrain/Overlay.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/effects/highlight/HighlightApplyTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/effects/highlight/HighlightBlurTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/effects/highlight/HighlightDownsampleTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/effects/highlight/HighlightPassParameters.js","../node_modules/@arcgis/core/views/3d/webgl-engine/effects/highlight/HighlightToSingleTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/DefaultVertexBufferLayouts.js","../node_modules/@arcgis/core/views/3d/webgl-engine/effects/highlight/Highlight.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/GLMaterialParameters.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/GLMaterialRepository.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/Update.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/BindParameters.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/RenderContext.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/CascadeCamera.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/ShadowMap.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/TextureTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/TextureTechniqueConfiguration.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/OverlayCompositingTechnique.js","../node_modules/@arcgis/core/views/3d/terrain/OverlayRenderer.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/Gamma.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/ScreenSpaceReflections.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/LookupCloudsFromTextureArray.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Texture2DArrayBindUniform.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/CloudsParallaxShading.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/Water.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/FoamRendering.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/lineStippleUtils.js","../node_modules/@arcgis/core/chunks/ColorMaterial.glsl.js","../node_modules/@arcgis/core/chunks/HighlightBlur.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Integer2PassUniform.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/HighlightCellGridScreenSpacePass.glsl.js","../node_modules/@arcgis/core/views/3d/environment/Clouds.js","../node_modules/@arcgis/core/chunks/TextureOnly.glsl.js","../node_modules/@arcgis/core/views/3d/support/buffer/glUtil.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/ModelDirtyTypes.js","../node_modules/@arcgis/core/views/3d/webgl-engine/effects/RenderPlugin.js","../node_modules/@arcgis/core/chunks/HighlightApply.glsl.js","../node_modules/@arcgis/core/chunks/HighlightToSingle.glsl.js","../node_modules/@arcgis/core/views/3d/environment/CloudsParameters.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/TriangleMaterial.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/VertexArrayObject.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Texture2DUintPassUniform.js","../node_modules/@arcgis/core/views/3d/support/engineContent/line.js","../node_modules/@arcgis/core/core/NestedMap.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/ColorMaterialTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/ColorMaterialTechniqueConfiguration.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/ColorMaterial.js","../node_modules/@arcgis/core/chunks/OverlayCompositing.glsl.js","../node_modules/@arcgis/core/layers/graphics/sources/interfaces.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/DefaultLayouts.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../chunks/tslib.es6.js\";import r from\"../../../core/JSONSupport.js\";import{property as e}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{enumeration as s}from\"../../../core/accessorSupport/decorators/enumeration.js\";import{subclass as t}from\"../../../core/accessorSupport/decorators/subclass.js\";var c;let p=c=class extends r{constructor(o){super(o),this.type=\"cloudy\",this.cloudCover=.5}clone(){return new c({cloudCover:this.cloudCover})}};o([s({cloudy:\"cloudy\"}),e({json:{write:{isRequired:!0}}})],p.prototype,\"type\",void 0),o([e({type:Number,nonNullable:!0,range:{min:0,max:1},json:{write:!0}})],p.prototype,\"cloudCover\",void 0),p=c=o([t(\"esri.views.3d.environment.CloudyWeather\")],p);const i=p;export{i as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../chunks/tslib.es6.js\";import r from\"../../../core/JSONSupport.js\";import{property as e}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{enumeration as t}from\"../../../core/accessorSupport/decorators/enumeration.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";var p;let c=p=class extends r{constructor(o){super(o),this.type=\"foggy\",this.fogStrength=.5}clone(){return new p({fogStrength:this.fogStrength})}};o([t({foggy:\"foggy\"}),e({json:{write:{isRequired:!0}}})],c.prototype,\"type\",void 0),o([e({type:Number,nonNullable:!0,range:{min:0,max:1},json:{write:!0}})],c.prototype,\"fogStrength\",void 0),c=p=o([s(\"esri.views.3d.environment.FoggyWeather\")],c);const i=c;export{i as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../chunks/tslib.es6.js\";import r from\"../../../core/JSONSupport.js\";import{property as e}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{enumeration as t}from\"../../../core/accessorSupport/decorators/enumeration.js\";import{subclass as i}from\"../../../core/accessorSupport/decorators/subclass.js\";var s;let p=s=class extends r{constructor(o){super(o),this.type=\"rainy\",this.cloudCover=.5,this.precipitation=.5}clone(){return new s({cloudCover:this.cloudCover,precipitation:this.precipitation})}};o([t({rainy:\"rainy\"}),e({json:{write:{isRequired:!0}}})],p.prototype,\"type\",void 0),o([e({type:Number,nonNullable:!0,range:{min:0,max:1},json:{write:!0}})],p.prototype,\"cloudCover\",void 0),o([e({type:Number,nonNullable:!0,range:{min:0,max:1},json:{write:!0}})],p.prototype,\"precipitation\",void 0),p=s=o([i(\"esri.views.3d.environment.RainyWeather\")],p);const n=p;export{n as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../chunks/tslib.es6.js\";import r from\"../../../core/JSONSupport.js\";import{property as e}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{enumeration as t}from\"../../../core/accessorSupport/decorators/enumeration.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";var i;let p=i=class extends r{constructor(o){super(o),this.type=\"snowy\",this.cloudCover=.5,this.precipitation=.5,this.snowCover=\"disabled\"}clone(){return new i({cloudCover:this.cloudCover,precipitation:this.precipitation,snowCover:this.snowCover})}};o([t({snowy:\"snowy\"}),e({json:{write:{isRequired:!0}}})],p.prototype,\"type\",void 0),o([e({type:Number,nonNullable:!0,range:{min:0,max:1},json:{write:!0}})],p.prototype,\"cloudCover\",void 0),o([e({type:Number,nonNullable:!0,range:{min:0,max:1},json:{write:!0}})],p.prototype,\"precipitation\",void 0),o([e({type:[\"enabled\",\"disabled\"],nonNullable:!0,json:{write:!0}})],p.prototype,\"snowCover\",void 0),p=i=o([s(\"esri.views.3d.environment.SnowyWeather\")],p);const n=p;export{n as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../chunks/tslib.es6.js\";import r from\"../../../core/JSONSupport.js\";import{property as e}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{enumeration as s}from\"../../../core/accessorSupport/decorators/enumeration.js\";import{subclass as t}from\"../../../core/accessorSupport/decorators/subclass.js\";var c;let n=c=class extends r{constructor(o){super(o),this.type=\"sunny\",this.cloudCover=.5}clone(){return new c({cloudCover:this.cloudCover})}};o([s({sunny:\"sunny\"}),e({json:{write:{isRequired:!0}}})],n.prototype,\"type\",void 0),o([e({type:Number,nonNullable:!0,range:{min:0,max:1},json:{write:!0}})],n.prototype,\"cloudCover\",void 0),n=c=o([t(\"esri.views.3d.environment.SunnyWeather\")],n);const p=n;export{p as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport e from\"./CloudyWeather.js\";import r from\"./FoggyWeather.js\";import o from\"./RainyWeather.js\";import t from\"./SnowyWeather.js\";import y from\"./SunnyWeather.js\";const n={key:\"type\",base:y,typeMap:{sunny:y,cloudy:e,rainy:o,snowy:t,foggy:r}},a=Object.keys(n.typeMap);function s(e,r){return!!a.includes(e)||(r.error(`\"${e}\" is not a valid weather type`),!1)}const p=1e4,i=1e5;export{i as cloudsHeight,p as heightLimit,s as validateWeatherType,n as weatherTypes,a as weatherTypesArray};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{generateUID as t}from\"../../../../core/uid.js\";import{copy as r,multiply as i}from\"../../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as e}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{t as s}from\"../../../../chunks/vec32.js\";import{N as o,c as n,a as h}from\"../../../../chunks/sphere.js\";import{maxScale as a}from\"../../support/mathUtils.js\";class g{constructor(r,i={}){this.geometry=r,this.screenToWorldRatio=1,this._transformation=e(),this._shaderTransformation=null,this._boundingSphere=null,this.id=t(),this.layerViewUid=i.layerViewUid,this.graphicUid=i.graphicUid,this.castShadow=i.castShadow??!1,i.objectShaderTransformation&&this.objectShaderTransformationChanged(i.objectShaderTransformation)}get transformation(){return this._transformation}set transformation(t){r(this._transformation,t),this._boundingSphere=null}get boundingInfo(){return this.geometry.boundingInfo}objectShaderTransformationChanged(t){null==t?this._shaderTransformation=null:(this._shaderTransformation??=e(),i(this._shaderTransformation,t,this.geometry.transformation)),this._boundingSphere=null}get boundingSphere(){return this.boundingInfo?(null==this._boundingSphere&&(this._boundingSphere??=n(),s(h(this._boundingSphere),this.boundingInfo.center,this.shaderTransformation),this._boundingSphere[3]=this.boundingInfo.radius*a(this.shaderTransformation)),this._boundingSphere):o}get material(){return this.geometry.material}get type(){return this.geometry.type}get shaderTransformation(){return this._shaderTransformation??this.transformation}get attributes(){return this.geometry.attributes}get highlight(){return this.geometry.highlights}foreachHighlightOptions(t){this.geometry.foreachHighlightOptions(t)}get hasHighlights(){return this.geometry.hasHighlights}get occludees(){return this.geometry.occludees}get visible(){return this.geometry.visible}set visible(t){this.geometry.visible=t}}class m extends g{}export{g as RenderGeometry,m as ValidatedRenderGeometry};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nvar E,A,O;!function(E){E[E.INNER=0]=\"INNER\",E[E.OUTER=1]=\"OUTER\"}(E||(E={})),function(E){E[E.REGULAR=0]=\"REGULAR\",E[E.HAS_NORTH_POLE=1]=\"HAS_NORTH_POLE\",E[E.HAS_SOUTH_POLE=2]=\"HAS_SOUTH_POLE\",E[E.HAS_BOTH_POLES=3]=\"HAS_BOTH_POLES\"}(A||(A={})),function(E){E[E.FADING=0]=\"FADING\",E[E.IMMEDIATE=1]=\"IMMEDIATE\",E[E.UNFADED=2]=\"UNFADED\"}(O||(O={}));export{E as OverlayIndex,A as PatchType,O as TextureUpdate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{ScreenSpacePass as e}from\"../views/3d/webgl-engine/core/shaderLibrary/ScreenSpacePass.glsl.js\";import{glsl as t}from\"../views/3d/webgl-engine/core/shaderModules/glsl.js\";import{Texture2DUintPassUniform as i}from\"../views/3d/webgl-engine/core/shaderModules/Texture2DUintPassUniform.js\";import{NoParameters as l}from\"../views/webgl/NoParameters.js\";import{ShaderBuilder as r}from\"../views/webgl/ShaderBuilder.js\";class o extends l{}function c(){const l=new r,{outputs:o,fragment:c}=l;return l.include(e),c.uniforms.add(new i(\"highlightTexture\",(e=>e.highlightTexture))),c.constants.add(\"outlineWidth\",\"int\",Math.ceil(n)),c.constants.add(\"cellSize\",\"int\",u),o.add(\"fragGrid\",\"uvec2\"),c.main.add(t`ivec2 inputTextureSize = textureSize(highlightTexture, 0);\nivec2 cellBottomLeftCornerInput = ivec2(ivec2(floor(gl_FragCoord.xy) * vec2(cellSize)));\nivec2 coordMid =  cellBottomLeftCornerInput + ivec2(cellSize >> 1);\nuvec2 centreTexel = texelFetch(highlightTexture, coordMid, 0).rg & uvec2(0x55u);\nfloat marginSquare = float(outlineWidth*outlineWidth);\nuvec2 outputValue = centreTexel & uvec2(0x55u);\nfor(int y = -outlineWidth; y <= cellSize + outlineWidth; y+=2) {\nint dy = y < 0 ? -y : y > cellSize ? y-cellSize : 0;\nint xMargin = dy > 0 ? int(ceil(sqrt(marginSquare - float(dy*dy)))) : outlineWidth;\nfor(int x = -xMargin; x <= cellSize + xMargin; x+=2) {\nivec2 coord = cellBottomLeftCornerInput + ivec2(x, y);\nuvec2[4] texels = uvec2[4] (\ntexelFetch(highlightTexture,coord+ivec2(0,0),0).rg & uvec2(0x55u),\ntexelFetch(highlightTexture,coord+ivec2(1,0),0).rg & uvec2(0x55u),\ntexelFetch(highlightTexture,coord+ivec2(0,1),0).rg & uvec2(0x55u),\ntexelFetch(highlightTexture,coord+ivec2(1,1),0).rg & uvec2(0x55u)\n);\nif (texels[0] == texels[1] && texels[1] == texels[2] && texels[2] == texels[3] && texels[3] ==  centreTexel) {\ncontinue;\n}\nfor (int i=0; i<4; ++i){\noutputValue |= ((texels[i] ^ centreTexel) << 1);\noutputValue |= texels[i];\n}\n}\n}\nfragGrid = outputValue;`),l}const u=32,n=9,s=.4,a=Object.freeze(Object.defineProperty({__proto__:null,HighlightDownsampleDrawParameters:o,blurSize:s,build:c,gridCellPixelSize:u,outlineSize:n},Symbol.toStringTag,{value:\"Module\"}));export{o as H,a,s as b,c,u as g,n as o};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{projectBuffer as o}from\"../../../../geometry/projection/projectBuffer.js\";import{newDoubleArray as e,doubleSubArray as t}from\"../../../../geometry/support/DoubleArray.js\";import{CounterClockwiseMode as n,ringsToTriangulationInfo as r}from\"../../../../geometry/support/triangulationUtils.js\";import{applyPerVertexElevationAlignment as i}from\"../../layers/graphics/elevationAlignmentUtils.js\";import{drapedZ as s}from\"../../terrain/OverlayRenderer.js\";function p(o,t,s,p){const l=\"polygon\"===o.type?n.CCW_IS_HOLE:n.NONE,a=\"polygon\"===o.type?o.rings:o.paths,{position:u,outlines:f}=r(a,!!o.hasZ,l,o.spatialReference),m=e(u.length),g=i(u,o.spatialReference,0,m,0,u,0,u.length/3,t,s,p),y=null!=g;return{lines:y?c(f,u,m):[],projectionSuccess:y,sampledElevation:g}}function l(e,t){const i=\"polygon\"===e.type?n.CCW_IS_HOLE:n.NONE,p=\"polygon\"===e.type?e.rings:e.paths,{position:l,outlines:a}=r(p,!1,i),u=o(l,e.spatialReference,0,l,t,0);for(let o=2;o<l.length;o+=3)l[o]=s;return{lines:u?c(a,l):[],projectionSuccess:u}}function c(o,e,n=null){const r=new Array;for(const{index:i,count:s}of o){if(s<=1)continue;const o=3*i,p=3*s;r.push({position:t(e,3*i,3*s),mapPositions:null!=n?t(n,o,p):void 0})}return r}export{p as geometryToRenderInfo,l as geometryToRenderInfoDraped};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nvar o;!function(o){o[o.Color=0]=\"Color\",o[o.ColorNoRasterImage=1]=\"ColorNoRasterImage\",o[o.Highlight=2]=\"Highlight\",o[o.WaterNormal=3]=\"WaterNormal\",o[o.Occluded=4]=\"Occluded\",o[o.ObjectAndLayerIdColor=5]=\"ObjectAndLayerIdColor\"}(o||(o={}));export{o as OverlayContent};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{create as e,offset as t,copy as s}from\"../../../geometry/support/aaBoundingRect.js\";import{fromValues as i}from\"../webgl-engine/lib/LocalOriginFactory.js\";class n{constructor(){this._extent=e(),this.resolution=0,this.renderLocalOrigin=i(0,0,0,\"O\"),this.pixelRatio=1,this.mapUnitsPerPixel=1,this.canvasGeometries=new r}get extent(){return this._extent}setupGeometryViews(e){if(this._setupGeometryView(),!e)return;const s=.001*e.range;if(this._extent[0]-s<=e.min){const s=this.canvasGeometries.extents[this.canvasGeometries.numViews++];t(this._extent,e.range,0,s)}if(this._extent[2]+s>=e.max){const s=this.canvasGeometries.extents[this.canvasGeometries.numViews++];t(this._extent,-e.range,0,s)}}_setupGeometryView(){this.canvasGeometries.numViews=1,s(this.canvasGeometries.extents[0],this._extent)}hasSomeSizedView(){for(let e=0;e<this.canvasGeometries.numViews;e++){const t=this.canvasGeometries.extents[e];if(t[0]!==t[2]&&t[1]!==t[3])return!0}return!1}}class r{constructor(){this.extents=[e(),e(),e()],this.numViews=0}}export{n as Overlay};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{releaseMaybe as e}from\"../../../core/maybe.js\";class t{constructor(e,t,h){this._fbos=e,this._format=t,this._name=h}get valid(){return null!=this._handle?.getTexture()}dispose(){this._handle=e(this._handle)}get texture(){return this._handle?.getTexture()}bind(e,t,h){this._handle&&this._handle.fbo?.width===t&&this._handle.fbo?.height===h||(this._handle?.release(),this._handle=this._fbos.acquire(t,h,this._name,this._format)),e.bindFramebuffer(this._handle?.fbo)}generateMipMap(){this._handle?.getTexture()?.descriptor?.hasMipmap&&this._handle?.getTexture()?.generateMipmap()}}export{t as OverlayFramebufferObject};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{OverlayContent as e}from\"./OverlayContent.js\";import{OverlayFramebufferObject as r}from\"./OverlayFramebufferObject.js\";import{ColorFormat as o}from\"../webgl-engine/core/FBOCacheFormats.js\";import{ShaderOutput as t}from\"../webgl-engine/core/shaderLibrary/ShaderOutput.js\";import{olidEnabled as l}from\"../webgl-engine/effects/geometry/olidUtils.js\";class s{constructor(e,t,l,s,i=o.RGBA8UNORM_MIPMAP){this.output=l,this.content=s,this.fbo=new r(e,i,t)}get valid(){return this.fbo.valid}}class i{constructor(r){this.targets=[new s(r,\"overlay color\",t.Color,e.Color),new s(r,\"overlay IM color\",t.Color,e.ColorNoRasterImage),new s(r,\"overlay highlight\",t.Highlight,e.Highlight,o.RG8UINT),new s(r,\"overlay water\",t.Normal,e.WaterNormal),new s(r,\"overlay occluded\",t.Color,e.Occluded)],l()&&this.targets.push(new s(r,\"overlay olid\",t.ObjectAndLayerIdColor,e.ObjectAndLayerIdColor,o.RGBA8UNORM))}getTexture(e){return this.targets[e]?.fbo.texture}dispose(){for(const e of this.targets)e.fbo.dispose()}computeValidity(){return this.targets.reduce(((e,r,o)=>r.valid?e|=1<<o:e),0)}}export{i as OverlayRenderTargets,s as RenderTargetDescriptor};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nvar a;!function(a){a[a.Material=0]=\"Material\",a[a.ShadowMap=1]=\"ShadowMap\",a[a.Highlight=2]=\"Highlight\",a[a.ViewshedShadowMap=3]=\"ViewshedShadowMap\"}(a||(a={}));export{a as RenderPassIdentifier};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{create as e}from\"../../../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{hasArea as o,width as r,height as t}from\"../../../../../../geometry/support/aaBoundingRect.js\";import{OverlayIndex as a}from\"../../../../terrain/interfaces.js\";import{OverlayContent as l}from\"../../../../terrain/OverlayContent.js\";import{RenderPassIdentifier as i}from\"../../renderPasses/RenderPassIdentifier.js\";import{ShaderOutput as n,isColorOrColorEmission as d}from\"../ShaderOutput.js\";import{addMainLightDirection as s,addMainLightIntensity as v}from\"../shading/MainLighting.glsl.js\";import{PBRMode as c}from\"../shading/PhysicallyBasedRenderingParameters.glsl.js\";import{Water as u}from\"../shading/Water.glsl.js\";import{Float4DrawUniform as x}from\"../../shaderModules/Float4DrawUniform.js\";import{FloatPassUniform as y}from\"../../shaderModules/FloatPassUniform.js\";import{glsl as m}from\"../../shaderModules/glsl.js\";import{Texture2DPassUniform as p}from\"../../shaderModules/Texture2DPassUniform.js\";import{Texture2DUintPassUniform as f}from\"../../shaderModules/Texture2DUintPassUniform.js\";import{Uniform as g}from\"../../../../../webgl/Uniform.js\";var h;function C(e,o){const{vertex:r,fragment:t}=e;r.uniforms.add(new x(\"overlayTexOffset\",((e,o)=>V(e,o))),new x(\"overlayTexScale\",((e,o)=>I(e,o)))),t.constants.add(\"overlayOpacity\",\"float\",1),t.uniforms.add(new p(\"ovColorTex\",((e,o)=>b(e,o)))),T(e,o)}function O(e,o){const{vertex:r,fragment:t}=e,{output:a}=o;r.uniforms.add(new M(\"overlayTexOffset\"),new M(\"overlayTexScale\")),t.uniforms.add(new y(\"overlayOpacity\",(e=>e.overlayOpacity))),a!==n.Highlight&&t.uniforms.add(new p(\"ovColorTex\",((e,o)=>o.overlay?.getTexture(e.overlayContent)))),T(e,o)}function T(e,o){const r=o.pbrMode===c.Water||o.pbrMode===c.WaterOnIntegratedMesh||o.pbrMode===c.TerrainWithWater;r&&e.include(u,o);const{vertex:t,fragment:a,varyings:i}=e;i.add(\"vtcOverlay\",\"vec4\");const{output:d}=o,x=d===n.Highlight;t.code.add(m`void setOverlayVTC(in vec2 uv) {\nvtcOverlay = vec4(uv, uv) * overlayTexScale + overlayTexOffset;\n}`),a.code.add(m`bool isValid(vec2 uv, vec2 dxdy) {\nreturn (uv.x >= 0.0 + dxdy.x) && (uv.x <= 1.0 - dxdy.x) && (uv.y >= 0.0 + dxdy.y) && (uv.y <= 1.0 - dxdy.y);\n}\nvec4 getOverlayColor(sampler2D ov0Tex, vec4 texCoords) {\nvec4 color0 = texture(ov0Tex, vec2(texCoords.x * 0.5, texCoords.y));\nvec4 color1 = texture(ov0Tex, vec2(texCoords.z * 0.5 + 0.5, texCoords.w));\nbool isValid0 = isValid(texCoords.xy, fwidth(texCoords.xy));\nbool isValid1 = isValid(texCoords.zw, vec2(0.0, 0.0));\nreturn mix(color1 * float(isValid1), color0, float(isValid0));\n}`),x?a.uniforms.add(new f(\"overlayHighlightTexture\",((e,o)=>o.overlay?.getTexture(l.Highlight)))).code.add(m`uvec2 getAllOverlayHighlightValuesEncoded() {\nvec4 texCoords = vtcOverlay;\nvec2 uvInner = texCoords.xy;\nvec2 uvOuter = texCoords.zw;\nbool isValidInner = isValid(uvInner, fwidth(uvInner));\nbool isValidOuter = isValid(uvOuter, vec2(0.0, 0.0));\nvec2 texelCoordInner = uvInner * vec2(0.5, 1.0);\nvec2 texelCoordOuter = uvOuter * vec2(0.5, 1.0) + vec2(0.5,0.0);\nvec2 texDim =  vec2(textureSize(overlayHighlightTexture, 0));\nuvec2 texelValueInner = texelFetch(overlayHighlightTexture, ivec2(texelCoordInner * texDim), 0).rg;\nuvec2 texelValueOuter = texelFetch(overlayHighlightTexture, ivec2(texelCoordOuter * texDim), 0).rg;\nreturn\nisValidInner ? texelValueInner :\nisValidOuter ? texelValueOuter :\nuvec2(0);\n}`):(a.code.add(m`vec4 getCombinedOverlayColor() {\nreturn overlayOpacity * getOverlayColor(ovColorTex, vtcOverlay);\n}`),a.code.add(m`vec4 getOverlayColorTexel() {\nvec4 texCoords = vtcOverlay;\nvec2 texDim =  vec2(textureSize(ovColorTex, 0));\nvec4 color0 = texelFetch(ovColorTex, ivec2(vec2(texCoords.x * 0.5, texCoords.y) * texDim), 0);\nvec4 color1 = texelFetch(ovColorTex, ivec2(vec2(texCoords.z * 0.5 + 0.5, texCoords.w) * texDim), 0);\nbool isValid0 = isValid(texCoords.xy, fwidth(texCoords.xy));\nbool isValid1 = isValid(texCoords.zw, vec2(0.0, 0.0));\nreturn mix(color1 * float(isValid1), color0, float(isValid0));\n}`)),r&&(s(a),v(a),a.code.add(m`vec4 getOverlayWaterColor(vec4 maskInput, vec4 colorInput, vec3 vposEyeDir,\nfloat shadow, vec3 localUp, mat3 tbn, vec3 position, vec3 positionWorld) {\nvec3 n = normalize(tbn *  (2.0 * maskInput.rgb - vec3(1.0)));\nvec3 v = vposEyeDir;\nvec3 final = getSeaColor(n, v, mainLightDirection, colorInput.rgb, mainLightIntensity, localUp, 1.0 - shadow, maskInput.w, position, positionWorld);\nreturn vec4(final, colorInput.w);\n}`))}function b(e,o){return e.identifier===i.Material&&d(e.output)?e.occludedGround?o.overlay?.getTexture(l.Occluded):o.overlay?.getTexture(l.ColorNoRasterImage):e.identifier===i.Material&&e.output===n.ObjectAndLayerIdColor?o.overlay?.getTexture(l.ObjectAndLayerIdColor):e.identifier===i.Highlight?o.overlay?.getTexture(l.Highlight):null}function V(e,l){const i=l.overlay?.overlays[a.INNER]?.extent;o(i)&&(w[0]=e.toMapSpace[0]/r(i)-i[0]/r(i),w[1]=e.toMapSpace[1]/t(i)-i[1]/t(i));const n=l.overlay?.overlays[a.OUTER]?.extent;return o(n)&&(w[2]=e.toMapSpace[0]/r(n)-n[0]/r(n),w[3]=e.toMapSpace[1]/t(n)-n[1]/t(n)),w}function I(e,l){const i=l.overlay?.overlays[a.INNER]?.extent;o(i)&&(w[0]=e.toMapSpace[2]/r(i),w[1]=e.toMapSpace[3]/t(i));const n=l.overlay?.overlays[a.OUTER]?.extent;return o(n)&&(w[2]=e.toMapSpace[2]/r(n),w[3]=e.toMapSpace[3]/t(n)),w}!function(e){e[e.Disabled=0]=\"Disabled\",e[e.Enabled=1]=\"Enabled\",e[e.EnabledWithWater=2]=\"EnabledWithWater\",e[e.COUNT=3]=\"COUNT\"}(h||(h={}));const w=e();class M extends g{constructor(e){super(e,\"vec4\")}}export{C as OverlayIM,h as OverlayMode,O as OverlayTerrain,b as getIMColorTexture};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{ReloadableShaderModule as e}from\"../../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as r}from\"../../core/shaderTechnique/ShaderTechnique.js\";import{H as i}from\"../../../../../chunks/HighlightApply.glsl.js\";import{makePipelineState as o,defaultColorWrite as s,unpremultipliedAlphaToPremultipliedAlpha as l}from\"../../../../webgl/renderState.js\";class t extends r{constructor(r,o){super(r,o,new e(i,(()=>import(\"../../shaders/HighlightApply.glsl.js\"))))}initializePipeline(){return o({blending:l,colorWrite:s})}}export{t as HighlightApplyTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{ReloadableShaderModule as e}from\"../../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as r}from\"../../core/shaderTechnique/ShaderTechnique.js\";import{a as i}from\"../../../../../chunks/HighlightBlur.glsl.js\";import{makePipelineState as o,defaultColorWrite as s}from\"../../../../webgl/renderState.js\";class l extends r{constructor(r,o){super(r,o,new e(i,(()=>import(\"../../shaders/HighlightBlur.glsl.js\"))))}initializePipeline(){return o({colorWrite:s})}}export{l as HighlightBlurTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{ReloadableShaderModule as e}from\"../../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as r}from\"../../core/shaderTechnique/ShaderTechnique.js\";import{a as o}from\"../../../../../chunks/HighlightDownsample.glsl.js\";import{makePipelineState as s,defaultColorWrite as i}from\"../../../../webgl/renderState.js\";class l extends r{constructor(r,s){super(r,s,new e(o,(()=>import(\"../../shaders/HighlightDownsample.glsl.js\"))))}initializePipeline(){return s({colorWrite:i})}}export{l as HighlightDownsampleTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{defaultOccludedFactor as t}from\"../../../../support/HighlightDefaults.js\";import{NoParameters as o}from\"../../../../webgl/NoParameters.js\";class e extends o{constructor(){super(...arguments),this.occludedFactor=t,this.verticalCellCount=0,this.horizontalCellCount=0,this.highlightLevel=0,this.pixelRatio=1}}export{e as HighlightPassParameters};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{ReloadableShaderModule as e}from\"../../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as r}from\"../../core/shaderTechnique/ShaderTechnique.js\";import{H as i}from\"../../../../../chunks/HighlightToSingle.glsl.js\";import{makePipelineState as o,defaultColorWrite as s}from\"../../../../webgl/renderState.js\";class l extends r{constructor(r,o){super(r,o,new e(i,(()=>import(\"../../shaders/HighlightToSingle.glsl.js\"))))}initializePipeline(){return o({colorWrite:s})}}export{l as HighlightToSingleTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{VertexAttribute as e}from\"./VertexAttribute.js\";import{DataType as O}from\"../../../webgl/enums.js\";import{VertexElementDescriptor as r}from\"../../../webgl/VertexElementDescriptor.js\";const t=[],T=[new r(e.POSITION,3,O.FLOAT,0,12)],n=[new r(e.POSITION,2,O.FLOAT,0,8)],o=[new r(e.POSITION,2,O.FLOAT,0,12),new r(e.UV0,2,O.HALF_FLOAT,8,12)],m=[new r(e.POSITION,2,O.FLOAT,0,16),new r(e.UV0,2,O.FLOAT,8,16)];export{t as NoVertex,n as Pos2,o as Pos2TexF16,m as Pos2TexF32,T as Pos3};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import\"../../../../../core/has.js\";import{releaseMaybe as t,disposeMaybe as r}from\"../../../../../core/maybe.js\";import{watch as i,initial as s}from\"../../../../../core/reactiveUtils.js\";import{property as o}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/RandomLCG.js\";import{subclass as h}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{set as n}from\"../../../../../core/libs/gl-matrix-2/math/vec2.js\";import{InternalRenderCategory as l}from\"../../../webgl.js\";import a from\"../../../webgl/RenderNode.js\";import{ColorFormat as g}from\"../../core/FBOCacheFormats.js\";import{HighlightApplyTechnique as c}from\"./HighlightApplyTechnique.js\";import{HighlightBlurTechnique as u}from\"./HighlightBlurTechnique.js\";import{HighlightDownsampleTechnique as m}from\"./HighlightDownsampleTechnique.js\";import{HighlightPassParameters as p}from\"./HighlightPassParameters.js\";import{HighlightToSingleTechnique as d}from\"./HighlightToSingleTechnique.js\";import{RenderRequestType as f}from\"../../lib/basicInterfaces.js\";import{Default3D as T}from\"../../lib/DefaultVertexAttributeLocations.js\";import{NoVertex as b}from\"../../lib/DefaultVertexBufferLayouts.js\";import{VertexArrayObject as w}from\"../../lib/VertexArrayObject.js\";import{H as x}from\"../../../../../chunks/HighlightBlur.glsl.js\";import{H as C,g as v}from\"../../../../../chunks/HighlightDownsample.glsl.js\";import{BufferObject as _}from\"../../../../webgl/BufferObject.js\";import{PixelFormat as j,TextureSamplingMode as O,FramebufferBit as R,Usage as H,PrimitiveType as P,DataType as q,TextureType as D}from\"../../../../webgl/enums.js\";import{Texture as I}from\"../../../../webgl/Texture.js\";import{TextureDescriptor as U}from\"../../../../webgl/TextureDescriptor.js\";let y=class extends a{constructor(){super(...arguments),this.produces=l.HIGHLIGHTS,this.consumes={required:[l.HIGHLIGHTS,\"highlights\"]},this._downsampleDrawParameters=new C,this._passParameters=new p,this._highlightBlurDrawParameters=new x,this._grid=new A}initialize(){this.addHandles([i((()=>this._updateOptionsTexture()),(()=>{}),s)])}destroy(){this._grid.coverage=t(this._grid.coverage),this._grid.vao=r(this._grid.vao),this._passParameters.highlightOptionsTexture=t(this._passParameters.highlightOptionsTexture)}_updateOptionsTexture(){if(null==this._passParameters.highlightOptionsTexture){const e=new U(16,2);e.internalFormat=j.RGBA,e.samplingMode=O.NEAREST,this._passParameters.highlightOptionsTexture=new I(this.renderingContext,e,null)}this._passParameters.highlightOptionsTexture.setData(E(this.view.state.highlights)),this.requestRender(f.UPDATE)}precompile(){this.techniques.precompile(m),this.techniques.precompile(d),this.techniques.precompile(u),this.techniques.precompile(c)}render(e){const t=e.find((({name:e})=>e===l.HIGHLIGHTS)),{techniques:r,bindParameters:i,_passParameters:s,renderingContext:o}=this;if(!i.decorations)return t;const h=r.get(m);if(!h.compiled)return this.requestRender(f.UPDATE),t;const n=e.find((({name:e})=>\"highlights\"===e)).getTexture();s.highlightTexture=n;const a=()=>{this._gridUpdateResources(n);const e=this._gridComputeCoverage(h,n,i),{horizontalCellCount:t,verticalCellCount:r}=e;return s.horizontalCellCount=t,s.verticalCellCount=r,s.coverageTexture=e.coverage?.getTexture(),e},g=e=>{const t=e.verticalCellCount*e.horizontalCellCount;o.bindVAO(e.vao),o.drawElementsInstanced(P.TRIANGLES,6,q.UNSIGNED_BYTE,0,t)},{camera:c}=i,u=()=>{o.bindFramebuffer(t.fbo),o.setViewport4fv(c.fullViewport)};return this._renderHighlightPostprocess(n,a,g,u),s.highlightTexture=null,s.coverageTexture=null,t}_renderHighlightPostprocess(e,t,r,i){const{fboCache:s,techniques:o,bindParameters:h,_passParameters:l,renderingContext:a}=this,m=o.get(d),p=o.get(u),T=o.get(c);if(!T.compiled||!p.compiled||!m.compiled)return void this.requestRender(f.UPDATE);l.highlightTexture=e;const b=t(),{width:w,height:x}=e.descriptor;l.highlightTexture=e;const{camera:C}=h,{fullWidth:v,fullHeight:_,pixelRatio:j}=C,O=Math.ceil(v/j),H=Math.ceil(_/j),{_highlightBlurDrawParameters:P}=this,q=this.view.stage.renderView.renderer,{highlights:D}=h;for(let c=0;c<D.length;++c){const{name:e}=D[c];if(!q.hasHighlight(e))continue;l.highlightLevel=c,a.setClearColor(0,0,0,0);const t=s.acquire(w,x,\"single highlight\",g.RG8UNORM);a.bindFramebuffer(t.fbo),a.setViewport(0,0,w,x),a.clear(R.COLOR),a.bindTechnique(m,h,l),r(b),P.blurInput=t.getTexture(),n(P.blurSize,1/O,0);const o=s.acquire(O,H,\"single highlight blur h\",g.RG8UNORM);a.unbindTexture(o.fbo?.colorTexture),a.bindFramebuffer(o.fbo),a.setViewport(0,0,O,H),a.clear(R.COLOR),a.bindTechnique(p,h,l,P),r(b),t.release(),n(P.blurSize,0,1/H),l.highlightBlurTexture=o.getTexture(),i(),a.bindTechnique(T,h,l,P),r(b),o.release()}}_gridUpdateResources(e){const t=this._grid,{width:r,height:i}=e.descriptor;if(t.horizontalCellCount=Math.ceil(r/v),t.verticalCellCount=Math.ceil(i/v),t.vao)return;const s=this.renderingContext,o=_.createIndex(s,H.STATIC_DRAW,L);t.vao=new w(s,T,new Map([[\"geometry\",b]]),new Map([[\"geometry\",_.createVertex(s,H.STATIC_DRAW)]]),o)}_gridComputeCoverage(e,t,r){const i=this.renderingContext,s=this._grid,o=t.descriptor,h=Math.ceil(o.width/v),n=Math.ceil(o.height/v);this._downsampleDrawParameters.input=t;const{highlights:l}=r;s.coverage?.release();const a=this.fboCache.acquire(h,n,\"highlight coverage\",l.length>B?g.RG8UINT:g.R8UINT);return s.coverage=a,i.bindFramebuffer(a.fbo),i.bindTechnique(e,r,this._passParameters,this._downsampleDrawParameters),i.setViewport(0,0,h,n),i.screen.draw(),s}get test(){}};e([o()],y.prototype,\"produces\",void 0),e([o()],y.prototype,\"consumes\",void 0),y=e([h(\"esri.views.3d.webgl-engine.effects.highlight.Highlight\")],y);class A{constructor(){this.coverage=null,this.vao=null,this.verticalCellCount=0,this.horizontalCellCount=0,this.viewportWidth=0,this.viewportHeight=0}}function E(e){const t=new Uint8Array(128);let r=0;for(const i of e){const e=4*r,s=4*r+64;++r;const{color:o}=i,h=i.haloColor??o;t[e+0]=o.r,t[e+1]=o.g,t[e+2]=o.b,t[e+3]=i.fillOpacity*o.a*255,t[s+0]=h.r,t[s+1]=h.g,t[s+2]=h.b,t[s+3]=i.haloOpacity*h.a*255}return t}let S=0;function G(e){let t=0;for(const i of e){const{name:e}=i;t+=e.length;const{color:r,fillOpacity:s,haloColor:o,haloOpacity:h}=i;t+=r.r+r.g+r.b+r.a+s,t+=o?o.r+o.g+o.b+o.a+h:0}const r=e.at(0);if(r){const{shadowOpacity:e,shadowDifference:i,shadowColor:s}=r;t+=e+i+s.r+s.g+s.b+s.a}return S+++(t>=0?0:1)}const L=new Uint8Array([0,1,2,2,1,3]);function M(e,t,r,i,s,o=0){const{highlights:h}=i,l=h.length>1?t.acquire(r.width,r.height,\"highlight mix\",h.length>B?g.RG8UINT:g.R8UINT):null,{gl:a}=e;if(l){const t=e.getBoundFramebufferObject();e.bindFramebuffer(l.fbo),a.clearBufferuiv(a.COLOR,0,[0,0,0,0]),e.bindFramebuffer(t)}const c=l?.getTexture();i.highlightMixTexture=c,n(i.highlightMixOrigin,o,0),h.forEach(((t,h)=>{if(h>0){const t=I.TEXTURE_UNIT_FOR_UPDATES;e.bindTexture(c,t),e.setActiveTexture(t),a.copyTexSubImage2D(D.TEXTURE_2D,0,0,0,o,0,r.width,r.height),e.bindTexture(null,t)}e.clear(R.DEPTH),i.highlightLevel=h,s()})),i.highlightLevel=null,i.highlightMixTexture=null,l?.release()}const B=4;export{y as Highlight,B as maxHighlightsPerChannel,M as renderHighlightBuffer,G as trackHighlightOptions};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nclass t{constructor(t,s,e,i){this.material=t,this.output=s,this.techniques=e,this.textures=i}}export{t as GLMaterialParameters};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Logger.js\";import{disposeMaybe as t}from\"../../../../core/maybe.js\";import{NestedMap as r}from\"../../../../core/NestedMap.js\";import{GLMaterialParameters as i}from\"./GLMaterialParameters.js\";import{assert as s}from\"./Util.js\";class a{constructor(e,t,i,s){this._textures=e,this._techniques=t,this.materialChanged=i,this.requestRender=s,this._id2glMaterialRef=new r}dispose(){this._textures.destroy()}acquire(e,t,r){this._ownMaterial(e);const s=e.produces.get(t);if(!s?.(r))return null;let a=this._id2glMaterialRef.get(r,e.id);if(null==a){const t=e.createGLMaterial(new i(e,r,this._techniques,this._textures));a=new o(t),this._id2glMaterialRef.set(r,e.id,a)}return a.ref(),a.glMaterial}release(e,r){const i=this._id2glMaterialRef.get(r,e.id);null!=i&&(i.unref(),i.referenced||(t(i.glMaterial),this._id2glMaterialRef.delete(r,e.id)))}_ownMaterial(t){t.repository&&t.repository!==this&&e.getLogger(\"esri.views.3d.webgl-engine.lib.GLMaterialRepository\").error(\"Material is already owned by a different material repository\"),t.repository=this}}class o{constructor(e){this.glMaterial=e,this._refCnt=0}ref(){++this._refCnt}unref(){--this._refCnt,s(this._refCnt>=0)}get referenced(){return this._refCnt>0}}export{a as GLMaterialRepository};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nvar e;!function(e){e[e.Immediate=0]=\"Immediate\",e[e.FadeWithWeather=1]=\"FadeWithWeather\"}(e||(e={}));export{e as Update};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{create as i}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{create as t}from\"../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{CloudsParameters as h}from\"../../environment/CloudsParameters.js\";import e from\"../../webgl/RenderCamera.js\";import{HUDRenderStyle as s}from\"../core/shaderLibrary/hud/HUDRenderStyle.js\";import{OITPass as r}from\"./OITPass.js\";import{RenderSlot as g}from\"./RenderSlot.js\";import{Update as n}from\"./Update.js\";import{SceneLighting as l}from\"../lighting/SceneLighting.js\";class o{constructor(i,t){this.width=i,this.height=t}}class a{constructor(i){this.shadowMap=i,this.slot=g.OPAQUE_MATERIAL,this.slicePlane=null,this.hasOccludees=!1,this.enableFillLights=!0,this.oitPass=r.NONE,this.alignPixelEnabled=!1,this.decorations=!0,this.overlayStretch=1,this.viewshedEnabled=!1,this._camera=new e,this._inverseViewport=t(),this._oldLighting=new l,this._newLighting=new l,this._fadedLighting=new l,this._lighting=this._newLighting,this.ssr=new c,this.terrainDepthTest=!1,this.cullAboveTerrain=!1,this.highlights=new Array,this.highlightOrderMap=new Map,this.highlightMixOrigin=t(),this.highlightMixTexture=null,this.hudRenderStyle=s.Occluded,this.hudOccludedFragmentOpacity=1,this.snowCover=!1,this.clouds=new h,this.shadowHighlightsVisible=!1}get camera(){return this._camera}set camera(i){this._camera=i,this._inverseViewport[0]=1/i.fullViewport[2],this._inverseViewport[1]=1/i.fullViewport[3]}get inverseViewport(){return this._inverseViewport}get lighting(){return this._lighting}fadeLighting(){switch(this.clouds.fadeFactor){case 0:this._lighting=this._oldLighting;break;default:this._fadedLighting.lerpLighting(this._oldLighting,this._newLighting,this.clouds.fadeFactor),this._lighting=this._fadedLighting;break;case 1:this._lighting=this._newLighting,this._oldLighting.copyFrom(this._newLighting)}}updateLighting(i,t,h,e){this._oldLighting.copyFrom(this.lighting),this._newLighting.noonFactor=t,this._newLighting.globalFactor=h,this._newLighting.set(i),e===n.FadeWithWeather&&this.clouds.requestFade(),this.fadeLighting()}get highlight(){return null==this.highlightLevel?null:this.highlights[this.highlightLevel]}}class c{constructor(){this.fadeFactor=1,this.reprojectionMatrix=i()}}export{a as BindParameters,o as ViewportSize};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{Milliseconds as r}from\"../../../../core/time.js\";import e from\"../../webgl/RenderCamera.js\";import{ShaderOutput as t}from\"../core/shaderLibrary/ShaderOutput.js\";import{BindParameters as i}from\"./BindParameters.js\";import{RenderOccludedFlag as s}from\"./Material.js\";class a{constructor(s,a,o){this.rctx=s,this.techniques=o,this.lastFrameCamera=new e,this.output=t.Color,this.renderOccludedMask=n,this.time=r(0),this.bind=new i(a),this.bind.alignPixelEnabled=!0}}const n=s.Occlude|s.OccludeAndTransparent|s.OccludeAndTransparentStencil;export{a as RenderContext,n as defaultRenderOccludedMask};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../../chunks/tslib.es6.js\";import{property as o}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as e}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{create as t}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import s from\"../../webgl/RenderCamera.js\";let i=class extends s{constructor(){super(...arguments),this._projectionMatrix=t()}get projectionMatrix(){return this._projectionMatrix}};r([o()],i.prototype,\"_projectionMatrix\",void 0),r([o({readOnly:!0})],i.prototype,\"projectionMatrix\",null),i=r([e(\"esri.views.3d.webgl-engine.lib.CascadeCamera\")],i);export{i as CascadeCamera};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport has from\"../../../../core/has.js\";import{clamp as t,lerp as s,acosClamped as e}from\"../../../../core/mathUtils.js\";import{releaseMaybe as i}from\"../../../../core/maybe.js\";import{create as a}from\"../../../../core/libs/gl-matrix-2/factories/mat3f64.js\";import{translate as r,multiply as h,invert as o,lookAt as n}from\"../../../../core/libs/gl-matrix-2/math/mat4.js\";import{IDENTITY as c,create as l}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{set as d,add as u,scale as m,lerp as _,squaredDistance as f,subtract as g,dot as p,negate as x,normalize as b,copy as w}from\"../../../../core/libs/gl-matrix-2/math/vec2.js\";import{create as M}from\"../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{q as C,c as j,u as y,t as H,i as v}from\"../../../../chunks/vec32.js\";import{create as D}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{s as S,t as O}from\"../../../../chunks/vec42.js\";import{create as T}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{ViewingMode as F}from\"../../../ViewingMode.js\";import{DepthFormat as B}from\"../core/FBOCacheFormats.js\";import{CascadeCamera as Q}from\"./CascadeCamera.js\";import{applyTextureResizeModulo as V}from\"./textureUtils.js\";import{assert as L,logWithBase as N,verify as q,rayRay2D as R}from\"./Util.js\";import{DepthStencilAttachment as W,FramebufferBit as z}from\"../../../webgl/enums.js\";var E;!function(t){t[t.Highlight=0]=\"Highlight\",t[t.ExcludeHighlight=1]=\"ExcludeHighlight\"}(E||(E={}));class P{constructor(){this.camera=new Q,this.lightMat=l()}}class A{constructor(){this.maxNumCascadesHighQuality=4,this.maxNumCascadesLowQuality=4,this.textureSizeModHighQuality=1.3,this.textureSizeModLowQuality=.9,this.splitSchemeLambda=0}}class I{constructor(t,s){this._fbos=t,this._viewingMode=s,this._snapshots=new Array,this._textureHeight=0,this._numCascades=1,this.settings=new A,this._projectionView=l(),this._projectionViewInverse=l(),this._modelViewLight=l(),this._cascadeDistances=[0,0,0,0,0],this._usedCascadeDistances=T(),this._cascades=[new P,new P,new P,new P],this._lastOrigin=null,this._enabled=!1,this._maxTextureWidth=Math.min(has(\"esri-mobile\")?4096:16384,t.rctx.parameters.maxTextureSize)}dispose(){this.enabled=!1,this.disposeOffscreenBuffers()}get depthTexture(){return this._handle?.getTexture(W)}get _textureWidth(){return this._textureHeight*this._numCascades}get numCascades(){return this._numCascades}get cascadeDistances(){return S(this._usedCascadeDistances,this._cascadeDistances[0],this._numCascades>1?this._cascadeDistances[1]:1/0,this._numCascades>2?this._cascadeDistances[2]:1/0,this._numCascades>3?this._cascadeDistances[3]:1/0)}disposeMainBuffer(){this._handle=i(this._handle)}disposeOffscreenBuffers(){this.disposeMainBuffer(),this._discardSnapshots()}set maxCascades(s){this.settings.maxNumCascadesHighQuality=t(Math.floor(s),1,4)}get maxCascades(){return this.settings.maxNumCascadesHighQuality}set enabled(t){this._enabled=t,t||this.disposeOffscreenBuffers()}get enabled(){return this._enabled}get ready(){return this._enabled&&null!=this.depthTexture}get cascades(){for(let t=0;t<this._numCascades;++t)tt[t]=this._cascades[t];return tt.length=this._numCascades,tt}start(t,s,e,i,a){L(this.enabled);const{near:r,far:h}=Mt(e);this._computeCascadeDistances(r,h,i),this._textureHeight=this._computeTextureHeight(t,a,i),this._setupMatrices(t,s);const{viewMatrix:o,projectionMatrix:n}=t;for(let c=0;c<this._numCascades;++c)this._constructCascade(c,n,o,s);this._lastOrigin=null,this.clear()}finish(){L(this.enabled)}getShadowMapMatrices(t){if(!this._lastOrigin||!C(t,this._lastOrigin)){this._lastOrigin=this._lastOrigin||D(),j(this._lastOrigin,t);for(let s=0;s<this._numCascades;++s){r(st,this._cascades[s].lightMat,t);for(let t=0;t<16;++t)et[16*s+t]=st[t]}}return et}moveSnapshot(t){L(this.enabled),this._snapshots[t]?.release(),this._snapshots[t]=this._handle,this._handle?.setName(t===E.Highlight?\"shadow map highlight\":\"shadow map excluding highlight\"),this._handle=null}copySnapshot(t){if(!this.enabled)return;const s=this._handle?.getTexture(W)?.descriptor;if(!s)return;this._snapshots[t]?.release();const e=t===E.Highlight?\"shadow map highlight\":\"shadow map excluding highlight\",i=this._acquireFBO(e);this._snapshots[t]=i;const a=this._handle?.fbo;if(!a||!i?.fbo)return void console.error(\"No FBO\");const{rctx:r}=this._fbos;r.blitFramebuffer(a,i.fbo,z.DEPTH)}getSnapshot(t){return this.enabled?this._snapshots[t]?.getTexture(W):null}clear(){this._ensureFbo(),this.bindFbo(),this._fbos.rctx.clear(z.DEPTH)}_computeTextureHeight({pixelRatio:t,fullWidth:s,fullHeight:e},i,a){const r=Math.min(window.devicePixelRatio,i)/t,h=a?this.settings.textureSizeModHighQuality:this.settings.textureSizeModLowQuality;return V(Math.max(s,e)*r*h,this._maxTextureWidth/this._numCascades)}_ensureFbo(){this._handle?.fbo?.width===this._textureWidth&&this._handle?.fbo.height===this._textureHeight||(this._handle?.release(),this._handle=this._acquireFBO(\"shadow map\"))}_acquireFBO(t){const s=this._fbos.acquire(this._textureWidth,this._textureHeight,t,B.DEPTH16);return s.getTexture(W)?.setShadowFiltering(!0),s}_discardSnapshot(t){this._snapshots[t]=i(this._snapshots[t])}_discardSnapshots(){for(let t=0;t<this._snapshots.length;++t)this._discardSnapshot(t);this._snapshots.length=0}bindFbo(){this._fbos.rctx.bindFramebuffer(this._handle?.fbo)}_constructCascade(t,s,e,i){const a=this._cascades[t],o=-this._cascadeDistances[t],n=-this._cascadeDistances[t+1],c=(s[10]*o+s[14])/Math.abs(s[11]*o+s[15]),l=(s[10]*n+s[14])/Math.abs(s[11]*n+s[15]);L(c<l);for(let r=0;r<8;++r){S(k,r%4==0||r%4==3?-1:1,r%4==0||r%4==1?-1:1,r<4?c:l,1);const t=G[r];O(t,k,this._projectionViewInverse),t[0]/=t[3],t[1]/=t[3],t[2]/=t[3]}y($,G[0]),a.camera.viewMatrix=r(U,this._modelViewLight,$);for(let r=0;r<8;++r)H(G[r],G[r],a.camera.viewMatrix);let d=G[0][2],u=G[0][2];for(let r=1;r<8;++r)d=Math.min(d,G[r][2]),u=Math.max(u,G[r][2]);d-=200,u+=200,a.camera.near=-u,a.camera.far=-d,wt(e,i,d,u,a.camera),h(a.lightMat,a.camera.projectionMatrix,a.camera.viewMatrix);const m=this._textureHeight;a.camera.viewport=[t*m,0,m,m]}_setupMatrices(t,s){h(this._projectionView,t.projectionMatrix,t.viewMatrix),o(this._projectionViewInverse,this._projectionView);const e=this._viewingMode===F.Global?t.eye:v($,0,0,1);n(this._modelViewLight,[0,0,0],[-s[0],-s[1],-s[2]],e)}_computeCascadeDistances(t,e,i){const a=i?this.settings.maxNumCascadesHighQuality:this.settings.maxNumCascadesLowQuality;this._numCascades=Math.min(1+Math.floor(N(e/t,4)),a);const r=(e-t)/this._numCascades,h=(e/t)**(1/this._numCascades);let o=t,n=t;for(let c=0;c<this._numCascades+1;++c)this._cascadeDistances[c]=s(o,n,this.settings.splitSchemeLambda),o*=h,n+=r}get test(){}}const U=l(),k=T(),G=[];for(let Ct=0;Ct<8;++Ct)G.push(T());const J=M(),K=M(),X=M(),Y=M(),Z=M(),$=D(),tt=[],st=l(),et=c.concat(c,c,c,c),it=M(),at=M(),rt=[M(),M(),M(),M()],ht=M(),ot=M(),nt=M(),ct=M(),lt=M(),dt=M(),ut=M();function mt(t,s,e,i,a,r,h,o){d(it,0,0);for(let d=0;d<4;++d)u(it,it,t[d]);m(it,it,.25),d(at,0,0);for(let d=4;d<8;++d)u(at,at,t[d]);m(at,at,.25),_(rt[0],t[4],t[5],.5),_(rt[1],t[5],t[6],.5),_(rt[2],t[6],t[7],.5),_(rt[3],t[7],t[4],.5);let n=0,c=f(rt[0],it);for(let d=1;d<4;++d){const t=f(rt[d],it);t<c&&(c=t,n=d)}g(ht,rt[n],t[n+4]);const l=ht[0];let M,C;ht[0]=-ht[1],ht[1]=l,g(ot,at,it),p(ot,ht)<0&&x(ht,ht),_(ht,ht,ot,e),b(ht,ht),M=C=p(g(nt,t[0],it),ht);for(let d=1;d<8;++d){const s=p(g(nt,t[d],it),ht);s<M?M=s:s>C&&(C=s)}w(i,it),m(nt,ht,M-s),u(i,i,nt);let j=-1,y=1,H=0,v=0;for(let d=0;d<8;++d){g(ct,t[d],i),b(ct,ct);const s=ht[0]*ct[1]-ht[1]*ct[0];s>0?s>j&&(j=s,H=d):s<y&&(y=s,v=d)}q(j>0,\"leftArea\"),q(y<0,\"rightArea\"),m(lt,ht,M),u(lt,lt,it),m(dt,ht,C),u(dt,dt,it),ut[0]=-ht[1],ut[1]=ht[0];const D=R(i,t[v],dt,u(nt,dt,ut),1,a),S=R(i,t[H],dt,nt,1,r),O=R(i,t[H],lt,u(nt,lt,ut),1,h),T=R(i,t[v],lt,nt,1,o);q(D,\"rayRay\"),q(S,\"rayRay\"),q(O,\"rayRay\"),q(T,\"rayRay\")}function _t(t,s){return 3*s+t}const ft=M();function gt(t,s){return d(ft,t[s],t[s+3]),ft}const pt=M(),xt=a();function bt(t,s,e,i,a){g(pt,e,i),m(pt,pt,.5),xt[0]=pt[0],xt[1]=pt[1],xt[2]=0,xt[3]=pt[1],xt[4]=-pt[0],xt[5]=0,xt[6]=pt[0]*pt[0]+pt[1]*pt[1],xt[7]=pt[0]*pt[1]-pt[1]*pt[0],xt[8]=1,xt[_t(0,2)]=-p(gt(xt,0),t),xt[_t(1,2)]=-p(gt(xt,1),t);let r=p(gt(xt,0),e)+xt[_t(0,2)],h=p(gt(xt,1),e)+xt[_t(1,2)],o=p(gt(xt,0),i)+xt[_t(0,2)],n=p(gt(xt,1),i)+xt[_t(1,2)];r=-(r+o)/(h+n),xt[_t(0,0)]+=xt[_t(1,0)]*r,xt[_t(0,1)]+=xt[_t(1,1)]*r,xt[_t(0,2)]+=xt[_t(1,2)]*r,r=1/(p(gt(xt,0),e)+xt[_t(0,2)]),h=1/(p(gt(xt,1),e)+xt[_t(1,2)]),xt[_t(0,0)]*=r,xt[_t(0,1)]*=r,xt[_t(0,2)]*=r,xt[_t(1,0)]*=h,xt[_t(1,1)]*=h,xt[_t(1,2)]*=h,xt[_t(2,0)]=xt[_t(1,0)],xt[_t(2,1)]=xt[_t(1,1)],xt[_t(2,2)]=xt[_t(1,2)],xt[_t(1,2)]+=1,r=p(gt(xt,1),s)+xt[_t(1,2)],h=p(gt(xt,2),s)+xt[_t(2,2)],o=p(gt(xt,1),e)+xt[_t(1,2)],n=p(gt(xt,2),e)+xt[_t(2,2)],r=-.5*(r/h+o/n),xt[_t(1,0)]+=xt[_t(2,0)]*r,xt[_t(1,1)]+=xt[_t(2,1)]*r,xt[_t(1,2)]+=xt[_t(2,2)]*r,r=p(gt(xt,1),s)+xt[_t(1,2)],h=p(gt(xt,2),s)+xt[_t(2,2)],o=-h/r,xt[_t(1,0)]*=o,xt[_t(1,1)]*=o,xt[_t(1,2)]*=o,a[0]=xt[0],a[1]=xt[1],a[2]=0,a[3]=xt[2],a[4]=xt[3],a[5]=xt[4],a[6]=0,a[7]=xt[5],a[8]=0,a[9]=0,a[10]=1,a[11]=0,a[12]=xt[6],a[13]=xt[7],a[14]=0,a[15]=xt[8]}function wt(t,s,i,a,r){const h=1/G[0][3],o=1/G[4][3];L(h<o);let n=h+Math.sqrt(h*o);const c=Math.sin(e(t[2]*s[0]+t[6]*s[1]+t[10]*s[2]));n/=c,mt(G,n,c,J,K,X,Y,Z),bt(J,K,Y,Z,r.projectionMatrix),r.projectionMatrix[10]=2/(i-a),r.projectionMatrix[14]=-(i+a)/(i-a)}function Mt(t){let{near:s,far:e}=t;return s<2&&(s=2),e<2&&(e=2),s>=e&&(s=2,e=4),{near:s,far:e}}export{I as ShadowMap,E as SnapshotSlot};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{a as e}from\"../../../../chunks/TextureOnly.glsl.js\";import{ReloadableShaderModule as r}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as o}from\"../core/shaderTechnique/ShaderTechnique.js\";import{makePipelineState as i,defaultColorWrite as l,unpremultipliedAlphaToPremultipliedAlpha as s}from\"../../../webgl/renderState.js\";class t extends o{constructor(o,i){super(o,i,new r(e,(()=>import(\"../core/shaderLibrary/util/TextureOnly.glsl.js\"))))}initializePipeline(e){return e.hasAlpha?i({blending:s,colorWrite:l}):i({colorWrite:l})}}export{t as TextureTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as s}from\"../../../../chunks/tslib.es6.js\";import{parameter as e,ShaderTechniqueConfiguration as o}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";class r extends o{constructor(){super(...arguments),this.hasAlpha=!1}}s([e()],r.prototype,\"hasAlpha\",void 0);export{r as TextureTechniqueConfiguration};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{ReloadableShaderModule as e}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as r}from\"../core/shaderTechnique/ShaderTechnique.js\";import{a as o}from\"../../../../chunks/OverlayCompositing.glsl.js\";class s extends r{constructor(r,s){super(r,s,new e(o,(()=>import(\"./OverlayCompositing.glsl.js\"))))}}export{s as OverlayCompositingTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import r from\"../../../core/Evented.js\";import\"../../../core/has.js\";import{someMap as t}from\"../../../core/MapUtils.js\";import{disposeMaybe as s}from\"../../../core/maybe.js\";import i from\"../../../core/PooledArray.js\";import{watch as n,on as o,syncAndInitial as a,initial as h}from\"../../../core/reactiveUtils.js\";import{someSet as l}from\"../../../core/SetUtils.js\";import{property as d}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as c}from\"../../../core/accessorSupport/decorators/subclass.js\";import{ortho as u,fromTranslation as p}from\"../../../core/libs/gl-matrix-2/math/mat4.js\";import{i as g}from\"../../../chunks/vec32.js\";import{ones as _}from\"../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{DrapeTargetType as m,DrapeSourceType as f,DrapedRenderGroup as y}from\"../layers/interfaces.js\";import{debugFlags as R}from\"../support/debugFlags.js\";import{OverlayIndex as b}from\"./interfaces.js\";import{Overlay as T}from\"./Overlay.js\";import{OverlayContent as w}from\"./OverlayContent.js\";import{OverlayRenderTargets as x}from\"./OverlayRenderTargets.js\";import D from\"../webgl/RenderCamera.js\";import{ShaderOutput as v}from\"../webgl-engine/core/shaderLibrary/ShaderOutput.js\";import{OverlayMode as C}from\"../webgl-engine/core/shaderLibrary/terrain/Overlay.glsl.js\";import{T as O}from\"../../../chunks/TextureOnly.glsl.js\";import{SyncRenderPlugin as S}from\"../webgl-engine/effects/RenderPlugin.js\";import{trackHighlightOptions as E,renderHighlightBuffer as P}from\"../webgl-engine/effects/highlight/Highlight.js\";import{RenderRequestType as j}from\"../webgl-engine/lib/basicInterfaces.js\";import{GLMaterialRepository as A}from\"../webgl-engine/lib/GLMaterialRepository.js\";import{GridLocalOriginFactory as M}from\"../webgl-engine/lib/GridLocalOriginFactory.js\";import{RenderOccludedFlag as W}from\"../webgl-engine/lib/Material.js\";import{OITPass as I}from\"../webgl-engine/lib/OITPass.js\";import{RenderContext as q,defaultRenderOccludedMask as L}from\"../webgl-engine/lib/RenderContext.js\";import{RenderSlot as N}from\"../webgl-engine/lib/RenderSlot.js\";import{ShadowMap as V}from\"../webgl-engine/lib/ShadowMap.js\";import{TextureTechnique as F}from\"../webgl-engine/lib/TextureTechnique.js\";import{TextureTechniqueConfiguration as H}from\"../webgl-engine/lib/TextureTechniqueConfiguration.js\";import{Update as k}from\"../webgl-engine/lib/Update.js\";import{UpdatePolicy as G}from\"../webgl-engine/lib/UpdatePolicy.js\";import{AmbientLight as U}from\"../webgl-engine/lighting/Lightsources.js\";import{O as B}from\"../../../chunks/OverlayCompositing.glsl.js\";import{OverlayCompositingTechnique as z}from\"../webgl-engine/shaders/OverlayCompositingTechnique.js\";import{TaskPriority as Y,noBudget as X}from\"../../support/Scheduler.js\";import{FramebufferBit as K,TextureSamplingMode as J}from\"../../webgl/enums.js\";import{Texture as Q}from\"../../webgl/Texture.js\";import{TextureDescriptor as Z}from\"../../webgl/TextureDescriptor.js\";let $=class extends S{constructor(e){super(e),this._overlays=null,this._renderTargets=null,this._overlayParameters=new B,this.hasHighlights=!1,this._hasWater=!1,this._renderers=new Map,this._sortedDrapeSourceRenderersDirty=!1,this._sortedRenderers=new i,this._passParameters=new O,this._screenToWorldRatio=1,this._localOriginFactory=null,this.unloadedMemory=0,this.ignoresMemoryFactor=!1,this._camera=new D,this.events=new r,this.longitudeCyclical=null,this.produces=new Map([[N.DRAPED_MATERIAL,e=>e!==v.Highlight||this.hasHighlights],[N.DRAPED_WATER,()=>this._hasWater]]),this._hasTargetWithoutRasterImage=!1,this._hasDrapedFeatureSource=!1,this._hasDrapedRasterSource=!1}initialize(){const e=this._view,r=e.stage,t=r.renderer.fboCache,{waterTextures:s,techniques:i}=r.renderView;this._renderContext=new q(this._rctx,new V(t,e.state.viewingMode),i),this.addHandles([n((()=>s.updating),(()=>this.events.emit(\"content-changed\")),a),n((()=>this.spatialReference),(e=>this._localOriginFactory=new M(e)),a),o((()=>e.allLayerViews),\"after-changes\",(()=>this._sortedDrapeSourceRenderersDirty=!0)),n((()=>E(e.state.highlights)),(()=>this._sortedDrapeSourceRenderersDirty=!0),h),n((()=>e.state.highlights),(r=>{this._bindParameters.highlights=r,this._bindParameters.highlightOrderMap=e.state.highlightOrderMap}),h),e.resourceController.scheduler.registerTask(Y.OVERLAY_RENDERER,this)]);const{_bindParameters:l,_camera:d}=this;d.near=1,d.far=1e4,d.relativeElevation=null,l.slot=N.DRAPED_MATERIAL,l.mainDepth=null,l.camera=d,l.oitPass=I.NONE,l.updateLighting([new U(_())],0,0,k.Immediate)}destroy(){this._renderers.forEach((e=>e.destroy())),this._renderers.clear(),this._passParameters.texture=s(this._passParameters.texture),this.disposeOverlays()}get _bindParameters(){return this._renderContext.bind}get _rctx(){return this._stage.renderView.renderingContext}get _view(){return this.parent.view}get _stage(){return this.parent.view.stage}get spatialReference(){return this.parent.spatialReference}get _techniques(){return this._stage.renderView.techniques}get rctx(){return this._rctx}get materials(){return this._pluginContext.materials}get screenToWorldRatio(){return this._screenToWorldRatio}get localOriginFactory(){return this._localOriginFactory}get pluginContext(){return this._pluginContext}initializeRenderContext(e){const r=new A(this._view.stage.renderView.textures,this._techniques,(()=>{this.notifyChange(\"rendersOccludedDraped\"),this.events.emit(\"content-changed\"),this.notifyChange(\"updating\"),this.notifyChange(\"isEmpty\")}),(()=>this.events.emit(\"content-changed\")));this._pluginContext={...e,materials:r},this._techniques.precompile(z)}uninitializeRenderContext(){}acquireTechniques(){return[]}render(){}get updating(){return this._sortedDrapeSourceRenderersDirty||t(this._renderers,(e=>e.updating||e.canCompact))}get hasOverlays(){return null!=this._overlays&&null!=this._renderTargets}getMaterialRenderer(e){for(const r of this._renderers.values()){const t=r.getMaterialRenderer(e);if(t)return t}return null}get layers(){return this._sortedDrapeSourceRenderersDirty&&this._updateSortedDrapeSourceRenderers(),this._sortedRenderers.map((e=>e.drapeSource.layer)).filter((e=>!!e))}registerDrapeSource(e,r){const t=this._renderers.get(e);null!=t&&t.destroy(),this._renderers.set(e,r),this._sortedDrapeSourceRenderersDirty=!0,\"fullOpacity\"in e&&this.addHandles(n((()=>e.fullOpacity),(()=>this.events.emit(\"content-changed\"))),e)}removeDrapeSourceRenderer(e){if(null==e)return;const r=this._renderers.get(e);null!=r&&(this._sortedDrapeSourceRenderersDirty=!0,this._renderers.delete(e),this.removeHandles(e),r.destroy())}computeValidity(){return this._renderTargets?.computeValidity()??0}releaseRenderTargets(){this._renderTargets?.dispose()}get overlays(){return this._overlays??[]}ensureDrapeTargets(e){this._hasTargetWithoutRasterImage=!!this._overlays&&l(e,(e=>e.drapeTargetType===m.WithoutRasterImage))}ensureDrapeSources(e){this._overlays?(this._hasDrapedFeatureSource=l(e,(e=>e.drapeSourceType===f.Features)),this._hasDrapedRasterSource=l(e,(e=>e.drapeSourceType===f.RasterImage))):this._hasDrapedFeatureSource=this._hasDrapedRasterSource=!1}get _needsColorWithoutRasterImage(){return this._hasDrapedRasterSource&&this._hasDrapedFeatureSource&&this._hasTargetWithoutRasterImage}ensureOverlays(e,r,t=this._bindParameters.overlayStretch){null==this._overlays&&(this._renderTargets=new x(this._stage.renderer.fboCache),this._overlays=[new T,new T]),this.ensureDrapeTargets(e),this.ensureDrapeSources(r),this._bindParameters.overlayStretch=t}disposeOverlays(){this._overlays=null,this._renderTargets=s(this._renderTargets),this.events.emit(\"textures-disposed\")}getTexture(e){return e===w.ColorNoRasterImage&&!this._needsColorWithoutRasterImage&&this._hasDrapedFeatureSource?this._renderTargets?.getTexture(w.Color):this._renderTargets?.getTexture(e)}get running(){return this.updating}runTask(e){this._processDrapeSources(e,(()=>!0))}_processDrapeSources(e,r){let s=!1;for(const[t,i]of this._renderers){if(e.done)break;(t.destroyed||r(t))&&(i.commitChanges()&&(s=!0,e.madeProgress()))}this._sortedDrapeSourceRenderersDirty&&(this._sortedDrapeSourceRenderersDirty=!1,s=!0,this._updateSortedDrapeSourceRenderers(),e.madeProgress()),this.compact(e),s&&(null!=this._overlays&&0===this._renderers.size&&this.disposeOverlays(),this.notifyChange(\"updating\"),this.notifyChange(\"isEmpty\"),this.events.emit(\"content-changed\"),this.hasHighlights=t(this._renderers,(e=>e.hasHighlights)),this.notifyChange(\"rendersOccludedDraped\"))}compact(e){let r=!1;for(const t of this._renderers.values()){if(e.done)break;r=t.compact(e)||r}return r&&this.notifyChange(\"updating\"),r}hasHighlight(e){return t(this._renderers,(r=>r.hasHighlight(e)))}processSyncDrapeSources(){this._processDrapeSources(X,(e=>e.updatePolicy===G.SYNC))}get isEmpty(){return!R.OVERLAY_DRAW_DEBUG_TEXTURE&&!t(this._renderers,(e=>!e.isEmpty))}get hasWater(){const e=t(this._renderers,(({hasWater:e})=>e));return e!==this._hasWater&&(this._hasWater=e,this.events.emit(\"has-water\")),this._hasWater}get rendersOccludedDraped(){const e=this._renderContext.renderOccludedMask;this._renderContext.renderOccludedMask=se,++this._techniques.precompiling;const r=this._sortedRenderers.some((({renderer:e})=>e.precompile(this._renderContext)));return--this._techniques.precompiling,this._renderContext.renderOccludedMask=e,r}renders(e){if(R.OVERLAY_DRAW_DEBUG_TEXTURE&&e!==w.Occluded&&e!==w.Highlight)return!0;if(!this._overlays)return!1;const r=this._overlays[b.INNER];for(const i of this._overlays)i.setupGeometryViews(this.longitudeCyclical);if(!r.hasSomeSizedView())return!1;const t=this._renderContext.output;this._renderContext.output=this._renderTargets?.targets.find((r=>r.content===e))?.output??v.Color,++this._techniques.precompiling;const s=this._sortedRenderers.some((({renderer:e})=>e.precompile(this._renderContext)));return--this._techniques.precompiling,this._renderContext.output=t,s}get mode(){return this.isEmpty?C.Disabled:this.hasWater&&this.renders(w.WaterNormal)?C.EnabledWithWater:this._renderTargets?.getTexture(w.Color)?C.Enabled:C.Disabled}updateAnimation(e){let r=!1;return this._renderers.forEach((t=>r=t.updateAnimation(e)||r)),r&&this.parent.requestRender(j.BACKGROUND),r}updateDrapeSourceOrder(){this._sortedDrapeSourceRenderersDirty=!0}precompileShaders(e){if(!this._overlays||!this._renderTargets)return;const r=this._bindParameters;r.alignPixelEnabled=e.alignPixelEnabled,++this._techniques.precompiling;for(const t of this._renderTargets.targets){if(t.content===w.ColorNoRasterImage&&!this._needsColorWithoutRasterImage)continue;const e=t.output;this._renderContext.output=e,r.slot=e===v.Normal?N.DRAPED_WATER:N.DRAPED_MATERIAL,e===v.Highlight&&(r.highlightMixTexture=r.highlights.length>1?this._rctx.emptyTexture:null),t.content===w.Occluded&&(this._renderContext.renderOccludedMask=se),this._sortedRenderers.forAll((({drapeSource:e,renderer:r})=>{t.content===w.ColorNoRasterImage&&e.drapeSourceType===f.RasterImage||r.precompile(this._renderContext)})),this._renderContext.renderOccludedMask=L,r.highlightMixTexture=null}--this._techniques.precompiling}drawOverlays(e){if(this._overlays&&this._renderTargets){for(const e of this._overlays)e.setupGeometryViews(this.longitudeCyclical);this._bindParameters.alignPixelEnabled=e.alignPixelEnabled;for(const e of this._renderTargets.targets){if(e.content===w.ColorNoRasterImage&&!this._needsColorWithoutRasterImage)continue;const r=this._drawTarget(b.INNER,e),t=this._drawTarget(b.OUTER,e);(r||t)&&e.fbo.generateMipMap()}}}_drawTarget(e,r){const t=this._overlays[e],s=t.canvasGeometries;if(0===s.numViews)return!1;const i=this._view.state.contentPixelRatio;this._screenToWorldRatio=i*t.mapUnitsPerPixel/this._bindParameters.overlayStretch;const{output:n}=r;if(this.isEmpty||n===v.Normal&&!this.hasWater||!t.hasSomeSizedView())return!1;const{_rctx:o,_camera:a,_renderContext:h,_bindParameters:l}=this;if(a.pixelRatio=t.pixelRatio*i,h.output=n,l.screenToWorldRatio=this._screenToWorldRatio,l.screenToPCSRatio=this._screenToWorldRatio*this.parent.worldToPCSRatio,l.slot=n===v.Normal?N.DRAPED_WATER:N.DRAPED_MATERIAL,r.content===w.Occluded&&(h.renderOccludedMask=se),!this.renders(r.content))return h.renderOccludedMask=L,!1;const{resolution:d}=t,c=e===b.INNER,u=c?0:d;if(o.setViewport(u,0,d,d),this._bindTargetFBO(r),c)if(r.output!==v.Highlight)o.setClearColor(0,0,0,0),o.clear(K.COLOR);else{const{gl:e}=o;e.clearBufferuiv(e.COLOR,0,[0,0,0,0])}if(R.OVERLAY_DRAW_DEBUG_TEXTURE&&r.content!==w.Occluded&&r.content!==w.Highlight){this._techniques.precompile(F,ie);const r=this._techniques.get(F,ie);for(let i=0;i<s.numViews;i++)this._setViewParameters(s.extents[i],t),this._ensureDebugPatternResources(t.resolution,re[e]),o.bindTechnique(r,l,this._passParameters),o.screen.draw()}if(r.output===v.Highlight){const{fboCache:t}=this._stage.renderer,s=this._resolution;this._bindTargetFBO(r),P(o,t,{width:s,height:s},l,(()=>this._renderAllGeometry(e,r)),u)}else this._renderAllGeometry(e,r);return o.bindFramebuffer(null),h.renderOccludedMask=L,!0}_renderAllGeometry(e,r){const t=this._overlays[e],s=t.canvasGeometries;this._sortedRenderers.forAll((({drapeSource:i,renderer:n})=>{if(r.content===w.ColorNoRasterImage&&i.drapeSourceType===f.RasterImage)return;const{fullOpacity:o}=i,a=null!=o&&o<1&&r.output===v.Color&&this._bindTemporaryFBO();for(let e=0;e<s.numViews;e++)this._setViewParameters(s.extents[e],t),n.render(this._renderContext);if(a){this._bindTargetFBO(r),this._overlayParameters.texture=a.getTexture(),this._overlayParameters.opacity=o,this._overlayParameters.overlayIndex=e;const t=this._techniques.get(z);this._rctx.bindTechnique(t,this._bindParameters,this._overlayParameters),this._rctx.screen.draw(),a.release()}}))}_bindTargetFBO(e){const r=this._resolution,t=2*r;e.fbo.bind(this._rctx,t,r)}_bindTemporaryFBO(){const e=this._resolution,r=2*e,t=this._stage.renderer.fboCache,s=t.acquire(r,e,\"overlay tmp\");return t.rctx.bindFramebuffer(s.fbo),t.rctx.clear(K.COLOR),s}get _resolution(){return this._overlays?.[b.INNER].resolution??0}notifyContentChanged(){this.events.emit(\"content-changed\")}intersect(e,r,t,s){this._sortedDrapeSourceRenderersDirty&&this._updateSortedDrapeSourceRenderers();let i=0;for(const{renderer:n}of this._sortedRenderers)i=n.intersect?.(e,r,t,s,i)??i}_updateSortedDrapeSourceRenderers(){if(this._sortedRenderers.clear(),0===this._renderers.size)return;const e=this._view.map.allLayers,r=e.length;this._renderers.forEach(((t,s)=>{const i=e.indexOf(s.layer),n=i>=0,o=s.renderGroup??(n?y.MapLayer:y.ViewLayer),a=s.drapeSourcePriorityOffset??0,h=r*o+(n?i:0)+a;this._sortedRenderers.push(new ee(s,t,h))})),this._sortedRenderers.sort(((e,r)=>e.index-r.index))}_setViewParameters(e,r){const t=this._camera;t.viewport=[0,0,r.resolution,r.resolution],u(t.projectionMatrix,0,e[2]-e[0],0,e[3]-e[1],t.near,t.far),p(t.viewMatrix,[-e[0],-e[1],0])}_ensureDebugPatternResources(e,r){if(g(this._passParameters.color,r[0],r[1],r[2]),this._passParameters.texture)return;const t=new Uint8Array(e*e*4);let s=0;for(let n=0;n<e;n++)for(let r=0;r<e;r++){const i=Math.floor(r/10),o=Math.floor(n/10);i<2||o<2||10*i>e-20||10*o>e-20?(t[s++]=255,t[s++]=255,t[s++]=255,t[s++]=255):(t[s++]=255,t[s++]=255,t[s++]=255,t[s++]=1&i&&1&o?1&r^1&n?0:255:1&i^1&o?0:128)}const i=new Z(e);i.samplingMode=J.NEAREST,this._passParameters.texture=new Q(this._rctx,i,t)}get test(){}};e([d()],$.prototype,\"hasHighlights\",void 0),e([d()],$.prototype,\"_sortedDrapeSourceRenderersDirty\",void 0),e([d({constructOnly:!0})],$.prototype,\"parent\",void 0),e([d({readOnly:!0})],$.prototype,\"_techniques\",null),e([d({type:Boolean,readOnly:!0})],$.prototype,\"updating\",null),e([d()],$.prototype,\"isEmpty\",null),e([d({readOnly:!0})],$.prototype,\"rendersOccludedDraped\",null),$=e([c(\"esri.views.3d.terrain.OverlayRenderer\")],$);class ee{constructor(e,r,t){this.drapeSource=e,this.renderer=r,this.index=t}}const re=[[1,.5,.5],[.5,.5,1]],te=-2,se=W.OccludeAndTransparent,ie=new H;ie.hasAlpha=!0;export{$ as OverlayRenderer,te as drapedZ,se as overlayRenderOccludedFlag};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{colorGamma as o}from\"../../../../../../colorUtils.js\";import{glsl as r}from\"../../shaderModules/glsl.js\";function e(e){e.code.add(r`\n    const float GAMMA = ${r.float(o)};\n    const float INV_GAMMA = ${r.float(1/o)};\n\n    vec4 delinearizeGamma(vec4 color) {\n      return vec4(pow(color.rgb, vec3(INV_GAMMA)), color.a);\n    }\n\n    vec3 linearizeGamma(vec3 color) {\n      return pow(color, vec3(GAMMA));\n    }\n  `)}export{e as Gamma};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{ReadDepth as e}from\"../output/ReadDepth.glsl.js\";import{Float2BindUniform as t}from\"../../shaderModules/Float2BindUniform.js\";import{FloatBindUniform as o}from\"../../shaderModules/FloatBindUniform.js\";import{glsl as r}from\"../../shaderModules/glsl.js\";import{Matrix4BindUniform as i}from\"../../shaderModules/Matrix4BindUniform.js\";import{Texture2DBindUniform as a}from\"../../shaderModules/Texture2DBindUniform.js\";function d(d,n){if(!n.screenSpaceReflections)return;const c=d.fragment;c.include(e),c.uniforms.add(new t(\"nearFar\",(e=>e.camera.nearFar)),new a(\"depthMap\",(e=>e.depth?.attachment)),new i(\"proj\",(e=>e.camera.projectionMatrix)),new o(\"invResolutionHeight\",(e=>1/e.camera.height)),new i(\"reprojectionMatrix\",(e=>e.ssr.reprojectionMatrix))).code.add(r`\n  vec2 reprojectionCoordinate(vec3 projectionCoordinate)\n  {\n    vec4 zw = proj * vec4(0.0, 0.0, -projectionCoordinate.z, 1.0);\n    vec4 reprojectedCoord = reprojectionMatrix * vec4(zw.w * (projectionCoordinate.xy * 2.0 - 1.0), zw.z, zw.w);\n    reprojectedCoord.xy /= reprojectedCoord.w;\n    return reprojectedCoord.xy * 0.5 + 0.5;\n  }\n\n  const int maxSteps = ${n.highStepCount?\"150\":\"75\"};\n\n  vec4 applyProjectionMat(mat4 projectionMat, vec3 x)\n  {\n    vec4 projectedCoord =  projectionMat * vec4(x, 1.0);\n    projectedCoord.xy /= projectedCoord.w;\n    projectedCoord.xy = projectedCoord.xy*0.5 + 0.5;\n    return projectedCoord;\n  }\n\n  vec3 screenSpaceIntersection(vec3 dir, vec3 startPosition, vec3 viewDir, vec3 normal)\n  {\n    vec3 viewPos = startPosition;\n    vec3 viewPosEnd = startPosition;\n\n    // Project the start position to the screen\n    vec4 projectedCoordStart = applyProjectionMat(proj, viewPos);\n    vec3  Q0 = viewPos / projectedCoordStart.w; // homogeneous camera space\n    float k0 = 1.0/ projectedCoordStart.w;\n\n    // advance the position in the direction of the reflection\n    viewPos += dir;\n\n    vec4 projectedCoordVanishingPoint = applyProjectionMat(proj, dir);\n\n    // Project the advanced position to the screen\n    vec4 projectedCoordEnd = applyProjectionMat(proj, viewPos);\n    vec3  Q1 = viewPos / projectedCoordEnd.w; // homogeneous camera space\n    float k1 = 1.0/ projectedCoordEnd.w;\n\n    // calculate the reflection direction in the screen space\n    vec2 projectedCoordDir = (projectedCoordEnd.xy - projectedCoordStart.xy);\n    vec2 projectedCoordDistVanishingPoint = (projectedCoordVanishingPoint.xy - projectedCoordStart.xy);\n\n    float yMod = min(abs(projectedCoordDistVanishingPoint.y), 1.0);\n\n    float projectedCoordDirLength = length(projectedCoordDir);\n    float maxSt = float(maxSteps);\n\n    // normalize the projection direction depending on maximum steps\n    // this determines how blocky the reflection looks\n    vec2 dP = yMod * (projectedCoordDir)/(maxSt * projectedCoordDirLength);\n\n    // Normalize the homogeneous camera space coordinates\n    vec3  dQ = yMod * (Q1 - Q0)/(maxSt * projectedCoordDirLength);\n    float dk = yMod * (k1 - k0)/(maxSt * projectedCoordDirLength);\n\n    // initialize the variables for ray marching\n    vec2 P = projectedCoordStart.xy;\n    vec3 Q = Q0;\n    float k = k0;\n    float rayStartZ = -startPosition.z; // estimated ray start depth value\n    float rayEndZ = -startPosition.z;   // estimated ray end depth value\n    float prevEstimateZ = -startPosition.z;\n    float rayDiffZ = 0.0;\n    float dDepth;\n    float depth;\n    float rayDiffZOld = 0.0;\n\n    // early outs\n    if (dot(normal, dir) < 0.0 || dot(-viewDir, normal) < 0.0)\n      return vec3(P, 0.0);\n    float dDepthBefore = 0.0;\n\n    for(int i = 0; i < maxSteps-1; i++)\n    {\n      depth = -linearDepthFromTexture(depthMap, P); // get linear depth from the depth buffer\n\n      // estimate depth of the marching ray\n      rayStartZ = prevEstimateZ;\n      dDepth = -rayStartZ - depth;\n      rayEndZ = (dQ.z * 0.5 + Q.z)/ ((dk * 0.5 + k));\n      rayDiffZ = rayEndZ- rayStartZ;\n      prevEstimateZ = rayEndZ;\n\n      if(-rayEndZ > nearFar[1] || -rayEndZ < nearFar[0] || P.y < 0.0  || P.y > 1.0 )\n      {\n        return vec3(P, 0.);\n      }\n\n      // If we detect a hit - return the intersection point, two conditions:\n      //  - dDepth > 0.0 - sampled point depth is in front of estimated depth\n      //  - if difference between dDepth and rayDiffZOld is not too large\n      //  - if difference between dDepth and 0.025/abs(k) is not too large\n      //  - if the sampled depth is not behind far plane or in front of near plane\n\n      if((dDepth) < 0.025/abs(k) + abs(rayDiffZ) && dDepth > 0.0 && depth > nearFar[0] && depth < nearFar[1] && abs(P.y - projectedCoordStart.y) > invResolutionHeight)\n      {\n        float weight = dDepth / (dDepth - dDepthBefore);\n        vec2 Pf = mix(P - dP, P, 1.0 - weight);\n        if (abs(Pf.y - projectedCoordStart.y) > invResolutionHeight) {\n          return vec3(Pf, depth);\n        }\n        else {\n          return vec3(P, depth);\n        }\n      }\n\n      // continue with ray marching\n      P = clamp(P + dP, vec2(0.0), vec2(0.999));\n      Q.z += dQ.z;\n      k += dk;\n      rayDiffZOld = rayDiffZ;\n      dDepthBefore = dDepth;\n    }\n    return vec3(P, 0.0);\n  }\n  `)}export{d as ScreenSpaceReflections};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{FloatBindUniform as r}from\"../../shaderModules/FloatBindUniform.js\";import{glsl as a}from\"../../shaderModules/glsl.js\";function e(e){e.fragment.uniforms.add(new r(\"cloudAbsorption\",(r=>r.clouds.absorption)),new r(\"cloudCoverage\",(r=>r.clouds.coverage))).code.add(a`vec4 lookupCloudsFromTextureArray(sampler2DArray cubeMap, vec3 rayDir) {\nint faceIndex;\nvec2 uv;\nif(rayDir.z <= 0.0) {\nfloat hazeFactor = smoothstep(-0.01, mix(0.0, 0.075, cloudCoverage), abs(dot(rayDir, vec3(0, 0, 1))));\nfloat shading = clamp(1.0 - cloudAbsorption, 0.6, 1.0) * (1.0 - hazeFactor);\nfloat totalTransmittance = hazeFactor;\nreturn vec4(shading, totalTransmittance, shading, totalTransmittance);\n}\nif (abs(rayDir.x) >= abs(rayDir.y) && abs(rayDir.x) >= abs(rayDir.z)) {\nif(rayDir.x > 0.0) {\nfaceIndex = 0;\nuv = rayDir.yz / rayDir.x;\nuv = vec2(-uv.x, uv.y);\n} else {\nfaceIndex = 1;\nuv = rayDir.yz / rayDir.x;\nuv = vec2(-uv.x, -uv.y);\n}\n} else if (abs(rayDir.y) >= abs(rayDir.x) && abs(rayDir.y) >= abs(rayDir.z)) {\nif(rayDir.y > 0.0) {\nfaceIndex = 2;\nuv = rayDir.xz / rayDir.y;\n} else {\nfaceIndex = 3;\nuv = rayDir.xz / rayDir.y;\nuv = vec2(uv.x, -uv.y);\n}\n} else {\nif(rayDir.y < 0.0) {\nfaceIndex = 4;\nuv = rayDir.xy / rayDir.z;\nuv = vec2(uv.x, -uv.y);\n} else {\nfaceIndex = 5;\nuv = rayDir.xy / rayDir.z;\nuv = vec2(uv.x, -uv.y);\n}\n}\nuv = 0.5 * (uv + 1.0);\nif(faceIndex != 5) {\nuv.y = uv.y - 0.5;\n}\nuv.y = uv.y * 2.0;\nvec4 s = texture(cubeMap, vec3(uv, float(faceIndex)));\nreturn s;\n}`)}export{e as LookupCloudsFromTextureArray};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{BindType as r}from\"../../../../webgl/BindType.js\";import{Uniform as e}from\"../../../../webgl/Uniform.js\";class o extends e{constructor(e,o){super(e,\"sampler2DArray\",r.Bind,((r,s)=>r.bindTexture(e,o(s))))}}export{o as Texture2DArrayBindUniform};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{fromValues as o}from\"../../../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{earth as t}from\"../../../../../../geometry/support/Ellipsoid.js\";import{CloudsTextureChannels as e}from\"../../../../environment/Clouds.js\";import{FadeState as r}from\"../../../../environment/CloudsParameters.js\";import{cloudsHeight as a}from\"../../../../environment/weather.js\";import{addMainLightDirection as i,addMainLightIntensity as d}from\"../shading/MainLighting.glsl.js\";import{LookupCloudsFromTextureArray as c}from\"./LookupCloudsFromTextureArray.glsl.js\";import{BooleanBindUniform as n}from\"../../shaderModules/BooleanBindUniform.js\";import{Float3BindUniform as l}from\"../../shaderModules/Float3BindUniform.js\";import{FloatBindUniform as s}from\"../../shaderModules/FloatBindUniform.js\";import{glsl as u}from\"../../shaderModules/glsl.js\";import{Matrix4BindUniform as m}from\"../../shaderModules/Matrix4BindUniform.js\";import{Texture2DArrayBindUniform as h}from\"../../shaderModules/Texture2DArrayBindUniform.js\";function C(t){const a=t.fragment;a.constants.add(\"radiusCloudsSquared\",\"float\",v).code.add(u`vec3 intersectWithCloudLayer(vec3 dir, vec3 cameraPosition, vec3 spherePos) {\nfloat B = 2.0 * dot(cameraPosition, dir);\nfloat C = dot(cameraPosition, cameraPosition) - radiusCloudsSquared;\nfloat det = B * B - 4.0 * C;\nfloat pointIntDist = max(0.0, 0.5 *(-B + sqrt(det)));\nreturn (cameraPosition + dir * pointIntDist) - spherePos;\n}`),a.uniforms.add(new s(\"radiusCurvatureCorrection\",(({clouds:o})=>o.parallax.radiusCurvatureCorrection))).code.add(u`vec3 correctForPlanetCurvature(vec3 dir) {\ndir.z = dir.z * (1.0 - radiusCurvatureCorrection) + radiusCurvatureCorrection;\nreturn dir;\n}`),a.code.add(u`vec3 rotateDirectionToAnchorPoint(mat4 rotMat, vec3 inVec) {\nreturn (rotMat * vec4(inVec, 0.0)).xyz;\n}`),i(a),d(a);const C=o(.28,.175,.035);a.constants.add(\"RIM_COLOR\",\"vec3\",C);const f=.3,p=140,g=.2,w=10,P=.3;a.code.add(u`\n    vec3 calculateCloudColor(vec3 cameraPosition, vec3 worldSpaceRay, vec4 clouds) {\n      float upDotLight = dot(cameraPosition, mainLightDirection);\n      float dirDotLight = max(dot(worldSpaceRay, mainLightDirection), 0.0);\n      float sunsetTransition = clamp(pow(max(upDotLight, 0.0), ${u.float(f)}), 0.0, 1.0);\n\n      // Base color of the clouds that depends on lighting of the sun and sky\n      vec3 ambientLight = calculateAmbientIrradiance(cameraPosition,  0.0);\n      vec3 combinedLight = clamp((mainLightIntensity + ambientLight )/PI, vec3(0.0), vec3(1.0));\n      vec3 baseCloudColor = pow(combinedLight * pow(clouds.xyz, vec3(GAMMA)), vec3(INV_GAMMA));\n\n      // Rim light around the edge of the clouds simulating scattering of the direct lun light\n      float scatteringMod = max(clouds.a < 0.5 ? clouds.a / 0.5 : - clouds.a / 0.5 + 2.0, 0.0);\n      float rimLightIntensity = 0.5 + 0.5 * pow(max(upDotLight, 0.0), 0.35);\n      vec3 directSunScattering = RIM_COLOR * rimLightIntensity * (pow(dirDotLight, ${u.float(p)})) * scatteringMod;\n\n      // Brighten the clouds around the sun at the sunsets\n      float additionalLight = ${u.float(g)} * pow(dirDotLight, ${u.float(w)}) * (1. - pow(sunsetTransition, ${u.float(P)})) ;\n\n      return vec3(baseCloudColor * (1.0 + additionalLight) + directSunScattering);\n    }\n  `),t.include(c),a.uniforms.add(new n(\"readChannelsRG\",(o=>o.clouds.readChannels===e.RG)),new h(\"cubeMap\",(o=>o.clouds.data?.cubeMap?.colorTexture))).code.add(u`vec4 sampleCloud(vec3 rayDir, bool readOtherChannel) {\nvec4 s = lookupCloudsFromTextureArray(cubeMap, rayDir);\nbool readRG = readChannelsRG ^^ readOtherChannel;\ns = readRG ? vec4(vec3(s.r), s.g) : vec4(vec3(s.b), s.a);\nreturn length(s) == 0.0 ? vec4(s.rgb, 1.0) : s;\n}`),a.uniforms.add(new l(\"anchorPoint\",(o=>o.clouds.parallax.anchorPoint)),new l(\"anchorPointNew\",(o=>o.clouds.parallaxNew.anchorPoint)),new m(\"rotationClouds\",(o=>o.clouds.parallax.transform)),new m(\"rotationCloudsNew\",(o=>o.clouds.parallaxNew.transform)),new s(\"cloudsOpacity\",(o=>o.clouds.opacity)),new s(\"fadeFactor\",(o=>o.clouds.fadeFactor)),new n(\"crossFade\",(o=>o.clouds.fadeState===r.CROSS_FADE))).code.add(u`vec4 renderClouds(vec3 worldRay, vec3 cameraPosition) {\nvec3 intersectionPoint = intersectWithCloudLayer(worldRay, cameraPosition, anchorPoint);\nvec3 worldRayRotated = rotateDirectionToAnchorPoint(rotationClouds, normalize(intersectionPoint));\nvec3 worldRayRotatedCorrected = correctForPlanetCurvature(worldRayRotated);\nvec4 cloudData = sampleCloud(worldRayRotatedCorrected, crossFade);\nvec3 cameraPositionN = normalize(cameraPosition);\nvec4 cloudColor = vec4(calculateCloudColor(cameraPositionN, worldRay, cloudData), cloudData.a);\nif(crossFade) {\nintersectionPoint = intersectWithCloudLayer(worldRay, cameraPosition, anchorPointNew);\nworldRayRotated = rotateDirectionToAnchorPoint(rotationCloudsNew, normalize(intersectionPoint));\nworldRayRotatedCorrected = correctForPlanetCurvature(worldRayRotated);\ncloudData = sampleCloud(worldRayRotatedCorrected, false);\nvec4 cloudColorNew = vec4(calculateCloudColor(cameraPositionN, worldRay, cloudData), cloudData.a);\ncloudColor = mix(cloudColor, cloudColorNew, fadeFactor);\n}\nfloat totalTransmittance = length(cloudColor.rgb) == 0.0 ?\n1.0 :\nclamp(cloudColor.a * cloudsOpacity + (1.0 - cloudsOpacity), 0.0 , 1.0);\nreturn vec4(cloudColor.rgb, totalTransmittance);\n}`)}const v=(t.radius+a)**2;export{C as CloudsParallaxShading};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{FoamColor as e}from\"./FoamRendering.glsl.js\";import{Gamma as o}from\"./Gamma.glsl.js\";import{PhysicallyBasedRenderingWater as t}from\"./PhysicallyBasedRendering.glsl.js\";import{distanceFadeStart as r,distanceFadeEnd as i}from\"./ScreenSpaceConstants.js\";import{ScreenSpaceReflections as n}from\"./ScreenSpaceReflections.glsl.js\";import{CloudsParallaxShading as a}from\"../util/CloudsParallaxShading.glsl.js\";import{FloatBindUniform as l}from\"../../shaderModules/FloatBindUniform.js\";import{glsl as d}from\"../../shaderModules/glsl.js\";import{Matrix4BindUniform as c}from\"../../shaderModules/Matrix4BindUniform.js\";import{Texture2DBindUniform as s}from\"../../shaderModules/Texture2DBindUniform.js\";import{ToneMapping as f}from\"../../../shaders/ToneMapping.glsl.js\";function m(m,v){const u=m.fragment;u.include(t,v),u.include(o),u.include(e),v.cloudReflections&&m.include(a),m.include(n,v),u.include(f,v),u.constants.add(\"fresnelSky\",\"vec3\",[.02,1,15]),u.constants.add(\"fresnelMaterial\",\"vec2\",[.02,.1]),u.constants.add(\"roughness\",\"float\",.015),u.constants.add(\"foamIntensityExternal\",\"float\",1.7),u.constants.add(\"ssrIntensity\",\"float\",.65),u.constants.add(\"ssrHeightFadeStart\",\"float\",r),u.constants.add(\"ssrHeightFadeEnd\",\"float\",i),u.constants.add(\"waterDiffusion\",\"float\",.92),u.constants.add(\"waterSeaColorMod\",\"float\",.8),u.constants.add(\"correctionViewingPowerFactor\",\"float\",.4),u.constants.add(\"skyZenitColor\",\"vec3\",[.52,.68,.9]),u.constants.add(\"skyColor\",\"vec3\",[.67,.79,.9]),u.constants.add(\"cloudFresnelModifier\",\"vec2\",[1.2,.01]),u.code.add(d`PBRShadingWater shadingInfo;\nvec3 getSkyGradientColor(in float cosTheta, in vec3 horizon, in vec3 zenit) {\nfloat exponent = pow((1.0 - cosTheta), fresnelSky[2]);\nreturn mix(zenit, horizon, exponent);\n}`),u.uniforms.add(new l(\"lightingSpecularStrength\",(e=>e.lighting.mainLight.specularStrength)),new l(\"lightingEnvironmentStrength\",(e=>e.lighting.mainLight.environmentStrength))),u.code.add(d`vec3 getSeaColor(in vec3 n, in vec3 v, in vec3 l, vec3 color, in vec3 lightIntensity, in vec3 localUp, in float shadow, float foamIntensity, vec3 viewPosition, vec3 position) {\nfloat reflectionHit = 0.0;\nfloat reflectionHitDiffused = 0.0;\nvec3 seaWaterColor = linearizeGamma(color);\nvec3 h = normalize(l + v);\nshadingInfo.NdotV = clamp(dot(n, v), 0.001, 1.0);\nshadingInfo.VdotN = clamp(dot(v, n), 0.001, 1.0);\nshadingInfo.NdotH = clamp(dot(n, h), 0.0, 1.0);\nshadingInfo.VdotH = clamp(dot(v, h), 0.0, 1.0);\nshadingInfo.LdotH = clamp(dot(l, h), 0.0, 1.0);\nfloat upDotV = max(dot(localUp,v), 0.0);\nvec3 skyHorizon = linearizeGamma(skyColor);\nvec3 skyZenit = linearizeGamma(skyZenitColor);\nvec3 skyColor = getSkyGradientColor(upDotV, skyHorizon, skyZenit );\nfloat upDotL = max(dot(localUp,l),0.0);\nfloat daytimeMod = 0.1 + upDotL * 0.9;\nskyColor *= daytimeMod;\nfloat shadowModifier = clamp(shadow, 0.8, 1.0);\nvec3 fresnelModifier = fresnelReflection(shadingInfo.VdotN, vec3(fresnelSky[0]), fresnelSky[1]);\nvec3 reflSky = lightingEnvironmentStrength * fresnelModifier * skyColor * shadowModifier;\nvec3 reflSea = seaWaterColor * mix(skyColor, upDotL * lightIntensity * LIGHT_NORMALIZATION, 2.0 / 3.0) * shadowModifier;\nvec3 specular = vec3(0.0);\nif(upDotV > 0.0 && upDotL > 0.0) {\nvec3 specularSun = brdfSpecularWater(shadingInfo, roughness, vec3(fresnelMaterial[0]), fresnelMaterial[1]);\nvec3 incidentLight = lightIntensity * LIGHT_NORMALIZATION * shadow;\nfloat NdotL = clamp(dot(n, l), 0.0, 1.0);\nspecular = lightingSpecularStrength * NdotL * incidentLight * specularSun;\n}\nvec3 foam = vec3(0.0);\nif(upDotV > 0.0) {\nfoam = foamIntensity2FoamColor(foamIntensityExternal, foamIntensity, skyZenitColor, daytimeMod);\n}\nfloat correctionViewingFactor = pow(max(dot(v, localUp), 0.0), correctionViewingPowerFactor);\nvec3 normalCorrectedClouds = mix(localUp, n, correctionViewingFactor);\nvec3 reflectedWorld = normalize(reflect(-v, normalCorrectedClouds));`),v.cloudReflections&&u.uniforms.add(new l(\"cloudsOpacity\",(e=>e.clouds.opacity))).code.add(d`vec4 cloudsColor = renderClouds(reflectedWorld, position);\ncloudsColor.a = 1.0 - cloudsColor.a;\ncloudsColor = pow(cloudsColor, vec4(GAMMA));\ncloudsColor *= clamp(fresnelModifier.y * cloudFresnelModifier[0] - cloudFresnelModifier[1], 0.0, 1.0) * cloudsOpacity;`),v.screenSpaceReflections?u.uniforms.add(new c(\"view\",(e=>e.camera.viewMatrix)),new s(\"lastFrameColorTexture\",(e=>e.ssr.lastFrameColor?.getTexture())),new l(\"fadeFactorSSR\",(e=>e.ssr.fadeFactor))).code.add(d`vec3 viewDir = normalize(viewPosition);\nvec4 viewNormalVectorCoordinate = view * vec4(n, 0.0);\nvec3 viewNormal = normalize(viewNormalVectorCoordinate.xyz);\nvec4 viewUp = view * vec4(localUp, 0.0);\nvec3 viewNormalCorrectedSSR = mix(viewUp.xyz, viewNormal, correctionViewingFactor);\nvec3 reflected = normalize(reflect(viewDir, viewNormalCorrectedSSR));\nvec3 hitCoordinate = screenSpaceIntersection(reflected, viewPosition, viewDir, viewUp.xyz);\nvec3 reflectedColor = vec3(0.0);\nif (hitCoordinate.z > 0.0)\n{\nvec2 reprojectedCoordinate = reprojectionCoordinate(hitCoordinate);\nvec2 dCoords = smoothstep(0.3, 0.6, abs(vec2(0.5, 0.5) - hitCoordinate.xy));\nfloat heightMod = smoothstep(ssrHeightFadeEnd, ssrHeightFadeStart, -viewPosition.z);\nreflectionHit = clamp(1.0 - (1.3 * dCoords.y), 0.0, 1.0) * heightMod * fadeFactorSSR;\nreflectionHitDiffused = waterDiffusion * reflectionHit;\nreflectedColor = linearizeGamma(texture(lastFrameColorTexture, reprojectedCoordinate).xyz) *\nreflectionHitDiffused * fresnelModifier.y * ssrIntensity;\n}\nfloat seaColorMod =  mix(waterSeaColorMod, waterSeaColorMod * 0.5, reflectionHitDiffused);\nvec3 waterRenderedColor = tonemapACES((1.0 - reflectionHitDiffused) * reflSky + reflectedColor +\nreflSea * seaColorMod + specular + foam);`):u.code.add(d`vec3 waterRenderedColor = tonemapACES(reflSky + reflSea * waterSeaColorMod + specular + foam);`),v.cloudReflections?v.screenSpaceReflections?u.code.add(d`return waterRenderedColor * (1.0 - (1.0 - reflectionHit) * cloudsColor.a) + (1.0 - reflectionHit) * cloudsColor.xyz;\n}`):u.code.add(d`return waterRenderedColor * (1.0 - cloudsColor.a) + cloudsColor.xyz;\n}`):u.code.add(d`return waterRenderedColor;\n}`)}export{m as Water};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{glsl as o}from\"../../shaderModules/glsl.js\";function t(t){t.code.add(o`float normals2FoamIntensity(vec3 n, float waveStrength){\nfloat normalizationFactor =  max(0.015, waveStrength);\nreturn max((n.x + n.y)*0.3303545/normalizationFactor + 0.3303545, 0.0);\n}`)}function n(t){t.code.add(o`vec3 foamIntensity2FoamColor(float foamIntensityExternal, float foamPixelIntensity, vec3 skyZenitColor, float dayMod){\nreturn foamIntensityExternal * (0.075 * skyZenitColor * pow(foamPixelIntensity, 4.) +  50.* pow(foamPixelIntensity, 23.0)) * dayMod;\n}`)}export{n as FoamColor,t as FoamIntensity};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nconst t={dash:[4,3],dot:[1,3],\"long-dash\":[8,3],\"short-dash\":[4,1],\"short-dot\":[1,1]},o={dash:t.dash,\"dash-dot\":[...t.dash,...t.dot],dot:t.dot,\"long-dash\":t[\"long-dash\"],\"long-dash-dot\":[...t[\"long-dash\"],...t.dot],\"long-dash-dot-dot\":[...t[\"long-dash\"],...t.dot,...t.dot],none:null,\"short-dash\":t[\"short-dash\"],\"short-dash-dot\":[...t[\"short-dash\"],...t[\"short-dot\"]],\"short-dash-dot-dot\":[...t[\"short-dash\"],...t[\"short-dot\"],...t[\"short-dot\"]],\"short-dot\":t[\"short-dot\"],solid:null},d=8;function s(t,o){return null==t?t:{pattern:t.slice(),pixelRatio:o}}function h(t){return{pattern:[t,t],pixelRatio:2}}function n(t){return\"style\"===t?.type?l(t.style):null}function l(t){return null!=t?s(o[t],d):null}export{h as createStipplePatternSimple,n as getStipplePatternForLinePattern,l as getStipplePatternForPatternStyle};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{SliceDraw as e}from\"../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js\";import{Transform as r}from\"../views/3d/webgl-engine/core/shaderLibrary/Transform.glsl.js\";import{ObjectAndLayerIdColor as o}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/ObjectAndLayerIdColor.glsl.js\";import{VertexColor as i}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/VertexColor.glsl.js\";import{terrainDepthTest as l}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/TerrainDepthTest.glsl.js\";import{VisualVariables as s}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/VisualVariables.glsl.js\";import{ColorConversion as t}from\"../views/3d/webgl-engine/core/shaderLibrary/util/ColorConversion.glsl.js\";import{addProjViewLocalOrigin as d}from\"../views/3d/webgl-engine/core/shaderLibrary/util/View.glsl.js\";import{Float4PassUniform as n}from\"../views/3d/webgl-engine/core/shaderModules/Float4PassUniform.js\";import{glsl as a}from\"../views/3d/webgl-engine/core/shaderModules/glsl.js\";import{VertexAttribute as g}from\"../views/3d/webgl-engine/lib/VertexAttribute.js\";import{outputColorHighlightOID as v}from\"../views/3d/webgl-engine/shaders/OutputColorHighlightOID.glsl.js\";import{ShaderBuilder as b}from\"../views/webgl/ShaderBuilder.js\";function c(c){const m=new b,{vertex:u,fragment:w,attributes:p,varyings:f}=m,{vvColor:C,hasVertexColors:h}=c;return d(u,c),m.include(r,c),m.include(i,c),m.include(s,c),m.include(o,c),w.include(e,c),m.include(v,c),m.include(l,c),p.add(g.POSITION,\"vec3\"),C&&p.add(g.COLORFEATUREATTRIBUTE,\"float\"),h||f.add(\"vColor\",\"vec4\"),f.add(\"vpos\",\"vec3\",{invariant:!0}),u.uniforms.add(new n(\"uColor\",(e=>e.color))),u.main.add(a`\n      vpos = position;\n      forwardNormalizedVertexColor();\n      forwardObjectAndLayerIdColor();\n\n      ${h?\"vColor *= uColor;\":C?\"vColor = uColor * interpolateVVColor(colorFeatureAttribute);\":\"vColor = uColor;\"}\n      forwardViewPosDepth((view * vec4(vpos, 1.0)).xyz);\n      gl_Position = transformPosition(proj, view, vpos);`),w.include(t),w.main.add(a`discardBySlice(vpos);\ndiscardByTerrainDepth();\noutputColorHighlightOID(vColor, vpos, vColor.rgb);`),m}const m=Object.freeze(Object.defineProperty({__proto__:null,build:c},Symbol.toStringTag,{value:\"Module\"}));export{m as C,c as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{create as e}from\"../core/libs/gl-matrix-2/factories/vec2f64.js\";import{HighlightCellGridScreenSpacePass as r}from\"../views/3d/webgl-engine/core/shaderLibrary/HighlightCellGridScreenSpacePass.glsl.js\";import{Float2DrawUniform as t}from\"../views/3d/webgl-engine/core/shaderModules/Float2DrawUniform.js\";import{glsl as i}from\"../views/3d/webgl-engine/core/shaderModules/glsl.js\";import{Texture2DDrawUniform as s}from\"../views/3d/webgl-engine/core/shaderModules/Texture2DDrawUniform.js\";import{NoParameters as u}from\"../views/webgl/NoParameters.js\";import{ShaderBuilder as l}from\"../views/webgl/ShaderBuilder.js\";class o extends u{constructor(){super(...arguments),this.blurSize=e()}}function n(){const e=new l;return e.include(r),e.outputs.add(\"fragHighlight\",\"vec2\",0),e.fragment.uniforms.add(new t(\"blurSize\",(e=>e.blurSize)),new s(\"blurInput\",(e=>e.blurInput))).main.add(i`vec2 highlightTextureSize = vec2(textureSize(blurInput,0));\nvec2 center = texture(blurInput, sUV).rg;\nif (vOutlinePossible == 0.0) {\nfragHighlight = center;\n} else {\nvec2 sum = center * 0.204164;\nsum += texture(blurInput, sUV + blurSize * 1.407333).rg * 0.304005;\nsum += texture(blurInput, sUV - blurSize * 1.407333).rg * 0.304005;\nsum += texture(blurInput, sUV + blurSize * 3.294215).rg * 0.093913;\nsum += texture(blurInput, sUV - blurSize * 3.294215).rg * 0.093913;\nfragHighlight = sum;\n}`),e}const g=Object.freeze(Object.defineProperty({__proto__:null,HighlightBlurDrawParameters:o,build:n},Symbol.toStringTag,{value:\"Module\"}));export{o as H,g as a,n as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{BindType as r}from\"../../../../webgl/BindType.js\";import{Uniform as s}from\"../../../../webgl/Uniform.js\";class e extends s{constructor(s,e){super(s,\"ivec2\",r.Pass,((r,o,i)=>r.setUniform2iv(s,e(o,i))))}}export{e as Integer2PassUniform};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{set as e}from\"../../../../../core/libs/gl-matrix-2/math/vec2.js\";import{create as l}from\"../../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{glsl as i}from\"../shaderModules/glsl.js\";import{Integer2PassUniform as t}from\"../shaderModules/Integer2PassUniform.js\";import{IntegerPassUniform as o}from\"../shaderModules/IntegerPassUniform.js\";import{Texture2DUintPassUniform as n}from\"../shaderModules/Texture2DUintPassUniform.js\";import{g as c}from\"../../../../../chunks/HighlightDownsample.glsl.js\";function s(l){const{vertex:s}=l;s.uniforms.add(new n(\"coverageTexture\",(e=>e.coverageTexture)),new t(\"highlightRenderCellCount\",(l=>e(r,l.horizontalCellCount,l.verticalCellCount))),new t(\"highlightTextureResolution\",(({highlightTexture:l})=>e(r,l.descriptor.width,l.descriptor.height))),new o(\"highlightLevel\",(e=>e.highlightLevel))).constants.add(\"cellSize\",\"int\",c),l.varyings.add(\"sUV\",\"vec2\"),l.varyings.add(\"vOutlinePossible\",\"float\"),s.code.add(i`const ivec2 cellVertices[4] = ivec2[4](ivec2(0,0), ivec2(1,0), ivec2(0,1), ivec2(1,1));`),s.main.add(i`int cellIndex = gl_InstanceID;\nint cellX = cellIndex % highlightRenderCellCount[0];\nint cellY = (cellIndex - cellX) / highlightRenderCellCount[0];\nivec2 cellPos = ivec2(cellX, cellY);\nuvec2 covTexel = texelFetch(coverageTexture, cellPos, 0).rg;\nint channelIndex = (highlightLevel >> 2) & 3;\nuint channelValue = covTexel[channelIndex];\nint highlightIndex = (highlightLevel & 3) << 1;\nbool covered = ((channelValue >> highlightIndex) & 1u) == 1u;\nif (!covered) {\ngl_Position = vec4(0.0);\nreturn;\n}\nvOutlinePossible = (((channelValue >> highlightIndex) & 2u) == 2u) ? 1.0 : 0.0;\nivec2 iPosInCell = cellVertices[gl_VertexID];\nvec2 sPos = vec2(cellPos * cellSize + iPosInCell * (cellSize));\nvec2 vPos = sPos / vec2(highlightTextureResolution);\nsUV = vPos;\ngl_Position = vec4(2.0 * vPos - vec2(1.0), 0.0, 1.0);`)}const r=l();export{s as HighlightCellGridScreenSpacePass};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nvar n,e;function d(n){return null!=n&&!n.running}!function(n){n[n.Idle=0]=\"Idle\",n[n.Rendering=1]=\"Rendering\",n[n.Ready=2]=\"Ready\",n[n.Fading=3]=\"Fading\"}(n||(n={})),function(n){n[n.RG=0]=\"RG\",n[n.BA=1]=\"BA\",n[n.COUNT=2]=\"COUNT\"}(e||(e={}));export{e as CloudsTextureChannels,n as CubeMapState,d as ensureClouds};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{fromValues as e}from\"../core/libs/gl-matrix-2/factories/vec3f64.js\";import{ScreenSpacePass as r}from\"../views/3d/webgl-engine/core/shaderLibrary/ScreenSpacePass.glsl.js\";import{Float3PassUniform as o}from\"../views/3d/webgl-engine/core/shaderModules/Float3PassUniform.js\";import{glsl as s}from\"../views/3d/webgl-engine/core/shaderModules/glsl.js\";import{Texture2DPassUniform as t}from\"../views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js\";import{NoParameters as l}from\"../views/webgl/NoParameters.js\";import{ShaderBuilder as i}from\"../views/webgl/ShaderBuilder.js\";class a extends l{constructor(){super(...arguments),this.color=e(1,1,1)}}function n(){const e=new i;return e.include(r),e.fragment.uniforms.add(new t(\"tex\",(e=>e.texture)),new o(\"uColor\",(e=>e.color))),e.fragment.main.add(s`vec4 texColor = texture(tex, uv);\nfragColor = texColor * vec4(uColor, 1.0);`),e}const m=Object.freeze(Object.defineProperty({__proto__:null,TextureOnlyPassParameters:a,build:n},Symbol.toStringTag,{value:\"Module\"}));export{a as T,m as a,n as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{DataType as e}from\"../../../webgl/enums.js\";import{VertexElementDescriptor as r}from\"../../../webgl/VertexElementDescriptor.js\";function t(e,t=0){const n=e.stride;return Array.from(e.fields.keys()).map((s=>{const i=e.fields.get(s),f=i.constructor.ElementCount,u=o(i.constructor.ElementType),c=i.offset,m=i.optional?.glNormalized??!1;return new r(s,f,u,c,n,m,t)}))}function o(e){const r=n[e];if(r)return r;throw new Error(\"BufferType not supported in WebGL\")}const n={u8:e.UNSIGNED_BYTE,u16:e.UNSIGNED_SHORT,u32:e.UNSIGNED_INT,i8:e.BYTE,i16:e.SHORT,i32:e.INT,f16:e.HALF_FLOAT,f32:e.FLOAT};export{t as glLayout};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nvar E,I;!function(E){E[E.ADD=0]=\"ADD\",E[E.UPDATE=1]=\"UPDATE\",E[E.REMOVE=2]=\"REMOVE\"}(E||(E={})),function(E){E[E.NONE=0]=\"NONE\",E[E.VISIBILITY=1]=\"VISIBILITY\",E[E.GEOMETRY=2]=\"GEOMETRY\",E[E.TRANSFORMATION=4]=\"TRANSFORMATION\",E[E.HIGHLIGHT=8]=\"HIGHLIGHT\",E[E.OCCLUDEE=16]=\"OCCLUDEE\"}(I||(I={}));export{E as DirtyOperation,I as DirtyState};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Accessor.js\";import{ShaderOutput as r}from\"../core/shaderLibrary/ShaderOutput.js\";import{RenderOccludedFlag as t}from\"../lib/Material.js\";const s={required:[]},n={required:[r.Depth]};class u extends e{precompile(e){return!!this.acquireTechniques(e)}consumes(){return s}get usedMemory(){return 0}get renderOccludedFlags(){return t.Occlude}get isDecoration(){return!1}get running(){return!1}modify(e,r){}get numGeometries(){return 0}get hasOccludees(){return!1}get hasEmissions(){return!1}forEachGeometry(e){}}class o extends u{}class c extends u{}export{c as AsyncRenderPlugin,n as ConsumesDepth,s as ConsumesNone,o as SyncRenderPlugin};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{HighlightCellGridScreenSpacePass as e}from\"../views/3d/webgl-engine/core/shaderLibrary/HighlightCellGridScreenSpacePass.glsl.js\";import{HighlightReadBitmap as t}from\"../views/3d/webgl-engine/core/shaderLibrary/HighlightReadBitmap.glsl.js\";import{Float2DrawUniform as i}from\"../views/3d/webgl-engine/core/shaderModules/Float2DrawUniform.js\";import{FloatPassUniform as l}from\"../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js\";import{glsl as r}from\"../views/3d/webgl-engine/core/shaderModules/glsl.js\";import{IntegerPassUniform as o}from\"../views/3d/webgl-engine/core/shaderModules/IntegerPassUniform.js\";import{Texture2DPassUniform as n}from\"../views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js\";import{Texture2DUintPassUniform as u}from\"../views/3d/webgl-engine/core/shaderModules/Texture2DUintPassUniform.js\";import{o as g,b as h}from\"./HighlightDownsample.glsl.js\";import{ShaderBuilder as s}from\"../views/webgl/ShaderBuilder.js\";function c(){const c=new s;c.include(e);const{fragment:a}=c;return a.uniforms.add(new n(\"blurInput\",(e=>e.highlightBlurTexture)),new i(\"blurSize\",(e=>e.blurSize)),new u(\"highlightTexture\",(e=>e.highlightTexture)),new n(\"highlightOptionsTexture\",(e=>e.highlightOptionsTexture)),new o(\"highlightLevel\",(e=>e.highlightLevel)),new l(\"occludedIntensityFactor\",(e=>e.occludedFactor))),a.constants.add(\"inner\",\"float\",1-(g-h)/g),c.include(t),a.main.add(r`vec2 highlightTextureSize = vec2(textureSize(highlightTexture,0));\nvec2 uv = sUV;\nvec2 center = texture(blurInput, uv).rg;\nvec2 blurredHighlightValue = (vOutlinePossible == 0.0)\n? center\n: center * 0.204164\n+ texture(blurInput, uv + blurSize * 1.407333).rg * 0.304005\n+ texture(blurInput, uv - blurSize * 1.407333).rg * 0.304005\n+ texture(blurInput, uv + blurSize * 3.294215).rg * 0.093913\n+ texture(blurInput, uv - blurSize * 3.294215).rg * 0.093913;\nfloat highlightIntensity = blurredHighlightValue.r;\nfloat occlusionWeight = blurredHighlightValue.g;\nif (highlightIntensity <= 0.01) {\ndiscard;\n}\nvec4 fillColor    = texelFetch(highlightOptionsTexture, ivec2(highlightLevel, 0), 0);\nvec4 outlineColor = texelFetch(highlightOptionsTexture, ivec2(highlightLevel, 1), 0);\nuvec2 centerTexel = texelFetch(highlightTexture, ivec2(uv * highlightTextureSize), 0).rg;\nuint centerBits = readLevelBits(centerTexel, highlightLevel);\nbool centerFilled = (centerBits & 1u) == 1u;\nbool centerOccluded = (centerBits & 3u) == 3u;\nbool occluded = centerOccluded || (0.5 * highlightIntensity < occlusionWeight);\nfloat occlusionFactor = occluded ? occludedIntensityFactor : 1.0;\nfloat outlineFactor = centerFilled ? 1.0 : smoothstep(0.0, inner, highlightIntensity);\nfloat fillFactor = centerFilled ? 1.0 : 0.0;\nvec4 baseColor = mix(outlineColor, fillColor, fillFactor);\nfloat intensity = baseColor.a * occlusionFactor * outlineFactor;\nfragColor = vec4(baseColor.rgb, intensity);`),c}const a=Object.freeze(Object.defineProperty({__proto__:null,build:c},Symbol.toStringTag,{value:\"Module\"}));export{a as H,c as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{HighlightCellGridScreenSpacePass as e}from\"../views/3d/webgl-engine/core/shaderLibrary/HighlightCellGridScreenSpacePass.glsl.js\";import{HighlightReadBitmap as i}from\"../views/3d/webgl-engine/core/shaderLibrary/HighlightReadBitmap.glsl.js\";import{glsl as r}from\"../views/3d/webgl-engine/core/shaderModules/glsl.js\";import{IntegerPassUniform as l}from\"../views/3d/webgl-engine/core/shaderModules/IntegerPassUniform.js\";import{Texture2DUintPassUniform as g}from\"../views/3d/webgl-engine/core/shaderModules/Texture2DUintPassUniform.js\";import{ShaderBuilder as t}from\"../views/webgl/ShaderBuilder.js\";function s(){const s=new t;s.include(e),s.include(i);const{fragment:h}=s;return s.outputs.add(\"fragSingleHighlight\",\"vec2\",0),h.uniforms.add(new g(\"highlightTexture\",(e=>e.highlightTexture)),new l(\"highlightLevel\",(e=>e.highlightLevel))),h.main.add(r`ivec2 iuv = ivec2(gl_FragCoord.xy);\nuvec2 inputTexel = texelFetch(highlightTexture, iuv, 0).rg;\nuint bits = readLevelBits(inputTexel, highlightLevel);\nbool hasHighlight = (bits & 1u) == 1u;\nbool hasOccluded  = (bits & 2u) == 2u;\nfragSingleHighlight = vec2(hasHighlight ? 1.0 : 0.0, hasOccluded ? 1.0 : 0.0);`),s}const h=Object.freeze(Object.defineProperty({__proto__:null,build:s},Symbol.toStringTag,{value:\"Module\"}));export{h as H,s as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{neverReached as a}from\"../../../core/compilerUtils.js\";import{clamp as t}from\"../../../core/mathUtils.js\";import{signal as e}from\"../../../core/signal.js\";import{rotate as s}from\"../../../core/libs/gl-matrix-2/math/mat4.js\";import{IDENTITY as i,create as r}from\"../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{k as h,n as o,g as n,c,l as d,d as l}from\"../../../chunks/vec32.js\";import{create as _,fromValues as u}from\"../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{create as F,fromPoints as f,axis as p}from\"../../../geometry/support/axisAngleDegrees.js\";import{earth as S}from\"../../../geometry/support/Ellipsoid.js\";import{CloudsTextureChannels as m,ensureClouds as E,CubeMapState as D}from\"./Clouds.js\";import{heightLimit as P}from\"./weather.js\";class x{constructor(){this.startTime=0,this._data=e(null),this.coverage=0,this.absorption=0,this._readChannels=m.RG,this.parallax=new O,this.parallaxNew=new O,this._anchorPoint=_(),this._fadeState=e(A.HIDE),this._fadeFactor=e(1)}get data(){return this._data.value}set data(a){this._data.value=a}get readChannels(){return this._readChannels}get fadeState(){return this._fadeState.value}get fadeFactor(){return this._fadeFactor.value}get opacity(){switch(this.fadeState){case A.HIDE:return 0;case A.FADE_OUT:return 1-this.fadeFactor;case A.FADE_IN:return this.fadeFactor;case A.SHOW:case A.CROSS_FADE:return 1}}fade(a,e,s){this.isFading&&this.fadeFactor<1&&(this._fadeFactor.value=s?t((e-this.startTime)/(H*s),0,1):1,1===this.fadeFactor&&this._endFade()),this._evaluateState(a,e),this._updateParallax(a)}_evaluateState(a,t){const e=a.relativeElevation,s=this._updateAnchorPoint(a);(e>1.7*P||e<-1e4||s>I)&&this.opacity>0?this._startFade(A.HIDE,t):this.isFading||(e>P||e<-.35*P||s>w*I?this.opacity>0&&this._startFade(A.FADE_OUT,t):E(this.data)&&(0===this.opacity?this._startFade(A.FADE_IN,t):this.data.state===D.Ready&&(this.fadeState===A.SHOW?this._startFade(A.CROSS_FADE,t):this._startFade(A.SHOW,t))))}_updateParallax(a){const t=h(a.eye);this.parallax.radiusCurvatureCorrection=.84*Math.sqrt(Math.max(t-S.radius*S.radius,0))/Math.sqrt(t),f(v,this.parallax.anchorPoint,C),s(this.parallax.transform,i,C[3],p(C)),f(v,this.parallaxNew.anchorPoint,C),s(this.parallaxNew.transform,i,C[3],p(C))}_updateAnchorPoint(a){return o(this._anchorPoint,a.eye),n(this._anchorPoint,this._anchorPoint,S.radius),this.fadeState===A.HIDE&&this.data?.state===D.Ready?(c(this.parallax.anchorPoint,this._anchorPoint),0):d(l(g,this.parallax.anchorPoint,this._anchorPoint))}requestFade(){this._fadeFactor.value=0}_startFade(a,t){switch(this._fadeState.value=a,this.startTime=t,a){case A.CROSS_FADE:this.requestFade(),this._switchReadChannels(),c(this.parallaxNew.anchorPoint,this._anchorPoint);break;case A.FADE_IN:this.requestFade(),this._switchReadChannels(),c(this.parallax.anchorPoint,this._anchorPoint),c(this.parallaxNew.anchorPoint,this._anchorPoint);break;case A.FADE_OUT:this.requestFade();break;case A.SHOW:this._switchReadChannels(),c(this.parallax.anchorPoint,this._anchorPoint),c(this.parallaxNew.anchorPoint,this._anchorPoint),this._endFade();break;case A.HIDE:this._endFade()}}_endFade(){switch(this._fadeFactor.value=1,this.data&&this.data.state!==D.Ready&&(this.data.state=D.Idle),this.fadeState){case A.CROSS_FADE:c(this.parallax.anchorPoint,this.parallaxNew.anchorPoint),this._fadeState.value=A.SHOW;break;case A.FADE_IN:this._fadeState.value=A.SHOW;break;case A.FADE_OUT:this._fadeState.value=A.HIDE;break;case A.SHOW:case A.HIDE:break;default:a(this.fadeState)}}_switchReadChannels(){this.data?.state===D.Ready&&(this._readChannels=1-this._readChannels,this.data.state=D.Fading)}get isFading(){return this.fadeState===A.FADE_OUT||this.fadeState===A.FADE_IN||this.fadeState===A.CROSS_FADE}}var A;!function(a){a[a.HIDE=0]=\"HIDE\",a[a.FADE_IN=1]=\"FADE_IN\",a[a.SHOW=2]=\"SHOW\",a[a.CROSS_FADE=3]=\"CROSS_FADE\",a[a.FADE_OUT=4]=\"FADE_OUT\"}(A||(A={}));class O{constructor(){this.anchorPoint=_(),this.radiusCurvatureCorrection=0,this.transform=r()}}const v=u(0,0,1),C=F(),g=_(),H=1.25,w=.5,I=2e5;export{x as CloudsParameters,A as FadeState};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{fromValues as t}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{Material as i}from\"../lib/Material.js\";import{intersectTriangleGeometry as p}from\"../lib/RayIntersections.js\";class r extends i{constructor(){super(...arguments),this._pp0=t(0,0,1),this._pp1=t(0,0,0)}intersect(t,i,r,s,e,o){return p(t,r,s,e,void 0,o)}intersectDraped(t,i,r,s){return this._pp0[0]=this._pp1[0]=r[0],this._pp0[1]=this._pp1[1]=r[1],p(t,i,this._pp0,this._pp1,void 0,s)}}export{r as TriangleMaterial};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{VertexArrayObject as e}from\"../../../webgl/VertexArrayObject.js\";class r extends e{}export{r as VertexArrayObject};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{BindType as r}from\"../../../../webgl/BindType.js\";import{Uniform as e}from\"../../../../webgl/Uniform.js\";class s extends e{constructor(e,s){super(e,\"usampler2D\",r.Pass,((r,o,t)=>r.bindTexture(e,s(o,t))))}}export{s as Texture2DUintPassUniform};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{set as t,dist as e}from\"../../../../core/libs/gl-matrix-2/math/vec2.js\";import{create as r}from\"../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{ONES as o}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{getReferenceEllipsoid as n}from\"../../../../geometry/ellipsoidUtils.js\";import{lonLatToWebMercatorComparable as i}from\"../../../../geometry/projection/projectors.js\";import{newDoubleArray as a}from\"../../../../geometry/support/DoubleArray.js\";import{newFloatArray as l}from\"../../../../geometry/support/FloatArray.js\";import{getZeroIndexArray as u}from\"../../../../geometry/support/Indices.js\";import{ViewingMode as s}from\"../../../ViewingMode.js\";import{Attribute as c}from\"../../webgl-engine/lib/Attribute.js\";import{Geometry as m}from\"../../webgl-engine/lib/Geometry.js\";import{VertexAttribute as p}from\"../../webgl-engine/lib/VertexAttribute.js\";import{GeometryType as f}from\"../../webgl-engine/lib/IntersectableGeometry.js\";function b(t,e,r=null){const o=[],n=e.mapPositions;g(e,o);const i=o[0][1].data,a=o[0][1].indices.length,l=u(a);return h(e,o,l),w(e,o,l),D(e,o,l),T(e,o,l),y(e,o,l),E(e,o,l),j(e,o,i),new m(t,o,n,f.Line,r)}function g(t,e){const{attributeData:{position:r},removeDuplicateStartEnd:o}=t,n=A(r)&&o,i=r.length/3-(n?1:0),a=new Array(2*(i-1)),l=n?r.slice(0,-3):r;let u=0;for(let s=0;s<i-1;s++)a[u++]=s,a[u++]=s+1;e.push([p.POSITION,new c(l,a,3,n)])}function h(t,e,r){if(null!=t.attributeData.colorFeature)return;const n=t.attributeData.color;e.push([p.COLOR,new c(n??o,r,4)])}function D(t,e,r){t.attributeData.normal&&e.push([p.NORMAL,new c(t.attributeData.normal,r,3)])}function T(t,e,r){null!=t.attributeData.colorFeature&&e.push([p.COLORFEATUREATTRIBUTE,new c([t.attributeData.colorFeature],r,1,!0)])}function w(t,e,r){null==t.attributeData.sizeFeature&&e.push([p.SIZE,new c([t.attributeData.size??1],r,1,!0)])}function y(t,e,r){null!=t.attributeData.sizeFeature&&e.push([p.SIZEFEATUREATTRIBUTE,new c([t.attributeData.sizeFeature],r,1,!0)])}function E(t,e,r){null!=t.attributeData.opacityFeature&&e.push([p.OPACITYFEATUREATTRIBUTE,new c([t.attributeData.opacityFeature],r,1,!0)])}function j(r,o,u){if(null==r.overlayInfo||r.overlayInfo.renderCoordsHelper.viewingMode!==s.Global||!r.overlayInfo.spatialReference.isGeographic)return;const m=a(u.length),f=n(r.overlayInfo.spatialReference);for(let t=0;t<m.length;t+=3)i(u,t,m,t,f);const b=u.length/3,g=l(b+1);let h=I,D=F,T=0,w=0;t(h,m[w++],m[w++]),w++,g[0]=0;for(let n=1;n<b+1;++n)n===b&&(w=0),t(D,m[w++],m[w++]),w++,T+=e(h,D),g[n]=T,[h,D]=[D,h];o.push([p.DISTANCETOSTART,new c(g,o[0][1].indices,1,!0)])}function A(t){const e=t.length;return t[0]===t[e-3]&&t[1]===t[e-2]&&t[2]===t[e-1]}const I=r(),F=r();function R(t,e){if(null==t||0===t.length)return[];const r=[];return t.forEach((t=>{const o=t.length,n=a(3*o);t.forEach(((t,e)=>{n[3*e]=t[0],n[3*e+1]=t[1],n[3*e+2]=t[2]}));const i={attributeData:{position:n,normal:e},removeDuplicateStartEnd:!1};r.push(i)})),r}export{b as createGeometry,R as lineStripsToParameters};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nclass t{constructor(){this._outer=new Map}clear(){this._outer.clear()}get empty(){return 0===this._outer.size}get outerSize(){return this._outer.size}get(t,e){return this._outer.get(t)?.get(e)}getInner(t){return this._outer.get(t)}set(t,e,r){const o=this._outer.get(t);o?o.set(e,r):this._outer.set(t,new Map([[e,r]]))}delete(t,e){const r=this._outer.get(t);r&&(r.delete(e),0===r.size&&this._outer.delete(t))}forEach(t){this._outer.forEach(((e,r)=>t(e,r)))}forAll(t){this._outer.forEach(((e,r)=>e.forEach(((e,o)=>t(e,r,o)))))}}export{t as NestedMap};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{ZEROS as e}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{isColorOrColorEmission as r}from\"../core/shaderLibrary/ShaderOutput.js\";import{ReloadableShaderModule as t}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as i,depthOnlyOutputBuffersOr as s}from\"../core/shaderTechnique/ShaderTechnique.js\";import{OITPass as l}from\"../lib/OITPass.js\";import{oitPolygonOffset as o,depthWrite as n,oitDepthTest as a,blending as c,getDrawBuffers as p}from\"../lib/OrderIndependentTransparency.js\";import{stencilToolMaskBaseParams as u,stencilBaseAllZerosParams as m,stencilWriteMaskOn as d}from\"../lib/StencilUtils.js\";import{VisualVariablePassParameters as f}from\"../materials/VisualVariablePassParameters.js\";import{C as h}from\"../../../../chunks/ColorMaterial.glsl.js\";import{makePipelineState as P,defaultColorWrite as j,cullingParams as g}from\"../../../webgl/renderState.js\";class b extends f{constructor(){super(...arguments),this.color=e}}class O extends i{constructor(e,r){super(e,r,new t(h,(()=>import(\"./ColorMaterial.glsl.js\"))))}_createPipeline(e,t){const{oitPass:i,output:f,transparent:h,cullFace:b,draped:O,hasOccludees:T,polygonOffset:_}=e,x=i===l.NONE;return P({blending:r(f)&&h?c(i):null,culling:g(b),depthTest:O?null:{func:a(i)},depthWrite:n(e),drawBuffers:s(f,p(i,f)),colorWrite:j,stencilWrite:T?d:null,stencilTest:T?t?u:m:null,polygonOffset:x?_?S:null:o(e)})}initializePipeline(e){return this._occludeePipelineState=this._createPipeline(e,!0),this._createPipeline(e,!1)}getPipeline(e){return e?this._occludeePipelineState:super.getPipeline()}}const S={factor:1,units:1};export{b as ColorMaterialPassParameters,O as ColorMaterialTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import{TextureCoordinateType as e}from\"../core/shaderLibrary/attributes/TextureCoordinateAttribute.glsl.js\";import{EmissionSource as o}from\"../core/shaderLibrary/output/Emissions.glsl.js\";import{parameter as r}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{CullFaceOptions as s}from\"../lib/basicInterfaces.js\";import{DefaultTechniqueConfiguration as i}from\"../materials/DefaultTechniqueConfiguration.js\";class a extends i{constructor(){super(...arguments),this.cullFace=s.None,this.hasVertexColors=!1,this.transparent=!1,this.discardInvisibleFragments=!1,this.polygonOffset=!1,this.enableOffset=!0,this.writeDepth=!0,this.hasOccludees=!1,this.terrainDepthTest=!1,this.cullAboveTerrain=!1,this.objectAndLayerIdColorInstanced=!1,this.vvColor=!1,this.draped=!1,this.textureCoordinateType=e.None,this.emissionSource=o.None,this.occlusionPass=!1,this.hasVvInstancing=!0,this.vvSize=!1,this.vvOpacity=!1,this.snowCover=!1}}t([r({count:s.COUNT})],a.prototype,\"cullFace\",void 0),t([r()],a.prototype,\"hasVertexColors\",void 0),t([r()],a.prototype,\"transparent\",void 0),t([r()],a.prototype,\"discardInvisibleFragments\",void 0),t([r()],a.prototype,\"polygonOffset\",void 0),t([r()],a.prototype,\"enableOffset\",void 0),t([r()],a.prototype,\"writeDepth\",void 0),t([r()],a.prototype,\"hasOccludees\",void 0),t([r()],a.prototype,\"terrainDepthTest\",void 0),t([r()],a.prototype,\"cullAboveTerrain\",void 0),t([r()],a.prototype,\"objectAndLayerIdColorInstanced\",void 0),t([r()],a.prototype,\"vvColor\",void 0),t([r()],a.prototype,\"draped\",void 0);export{a as ColorMaterialTechniqueConfiguration};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{ZEROS as t}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{newLayout as r}from\"../../support/buffer/InterleavedLayout.js\";import{isColorOrColorEmissionOrOID as e,isDepth as s,is2DGeometryOutput as i,isColorOrColorEmission as a,ShaderOutput as o}from\"../core/shaderLibrary/ShaderOutput.js\";import{olidEnabled as n}from\"../effects/geometry/olidUtils.js\";import{CullFaceOptions as h}from\"../lib/basicInterfaces.js\";import p from\"../lib/GLMaterial.js\";import{OITPolygonOffsetLimit as l}from\"../lib/OrderIndependentTransparency.js\";import{RenderSlot as u}from\"../lib/RenderSlot.js\";import{VertexAttribute as c}from\"../lib/VertexAttribute.js\";import{DefaultBufferWriter as f}from\"./DefaultBufferWriter.js\";import{TriangleMaterial as m}from\"./TriangleMaterial.js\";import{VisualVariablePassParameters as _}from\"./VisualVariablePassParameters.js\";import{ColorMaterialTechnique as g}from\"../shaders/ColorMaterialTechnique.js\";import{ColorMaterialTechniqueConfiguration as O}from\"../shaders/ColorMaterialTechniqueConfiguration.js\";import{alphaCutoff as T}from\"../../../../webscene/support/AlphaCutoff.js\";class A extends m{constructor(t){super(t,P),this._configuration=new O,this.supportsEdges=!0,this.produces=new Map([[u.OPAQUE_MATERIAL,t=>this._isOpaqueMaterialPass(t)],[u.OPAQUE_MATERIAL_WITHOUT_NORMALS,t=>this._isOpaqueNoSSAODepthPass(t)],[u.TRANSPARENT_MATERIAL,t=>e(t)&&this._transparent&&this.parameters.writeDepth],[u.TRANSPARENT_MATERIAL_WITHOUT_NORMALS,t=>s(t)&&this._transparent&&this.parameters.writeDepth],[u.TRANSPARENT_MATERIAL_WITHOUT_DEPTH,t=>e(t)&&this._transparent&&!this.parameters.writeDepth],[u.DRAPED_MATERIAL,t=>i(t)]])}getConfiguration(t,r){return super.getConfiguration(t,r,this._configuration),this._configuration.cullFace=this.parameters.cullFace,this._configuration.hasVertexColors=this.parameters.hasVertexColors&&!this.parameters.vvColor,this._configuration.hasSlicePlane=this.parameters.hasSlicePlane,this._configuration.transparent=this._transparent,this._configuration.discardInvisibleFragments=this._transparent&&!this._isOpaquePass(t)&&this.parameters.discardInvisibleFragments,this._configuration.polygonOffset=this.parameters.polygonOffset,this._configuration.writeDepth=this.parameters.writeDepth,this._configuration.hasOccludees=r.hasOccludees,this._configuration.oitPass=r.oitPass,this._configuration.enableOffset=r.camera.relativeElevation<l,this._configuration.terrainDepthTest=r.terrainDepthTest&&a(t),this._configuration.cullAboveTerrain=r.cullAboveTerrain,this._configuration.vvColor=!!this.parameters.vvColor,this._configuration.draped=this.parameters.draped,this._configuration}get visible(){return this.parameters.color[3]>=T}get _transparent(){return this.parameters.color[3]<1||this.parameters.forceTransparentMode}_isOpaquePass(t){return this._isOpaqueMaterialPass(t)||this._isOpaqueNoSSAODepthPass(t)}_isOpaqueMaterialPass(t){return t===o.Highlight||e(t)&&!this._transparent}_isOpaqueNoSSAODepthPass(t){return s(t)&&this.parameters.writeDepth&&!this._transparent}createGLMaterial(t){return new d(t)}createBufferWriter(){const t=r().vec3f(c.POSITION);return n()&&t.vec4u8(c.OLIDCOLOR),this.parameters.vvColor?t.f32(c.COLORFEATUREATTRIBUTE):t.vec4u8(c.COLOR),new f(t)}}class d extends p{beginSlot(t){return this.getTechnique(g,t)}}class P extends _{constructor(){super(...arguments),this.color=t,this.forceTransparentMode=!1,this.writeDepth=!0,this.hasVertexColors=!1,this.polygonOffset=!1,this.hasSlicePlane=!1,this.cullFace=h.None,this.draped=!1,this.discardInvisibleFragments=!1}}export{A as ColorMaterial,P as Parameters};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{OverlayIndex as e}from\"../views/3d/terrain/interfaces.js\";import{ScreenSpacePass as r}from\"../views/3d/webgl-engine/core/shaderLibrary/ScreenSpacePass.glsl.js\";import{FloatPassUniform as o}from\"../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js\";import{glsl as s}from\"../views/3d/webgl-engine/core/shaderModules/glsl.js\";import{IntegerPassUniform as a}from\"../views/3d/webgl-engine/core/shaderModules/IntegerPassUniform.js\";import{Texture2DPassUniform as t}from\"../views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js\";import{NoParameters as i}from\"../views/webgl/NoParameters.js\";import{ShaderBuilder as n}from\"../views/webgl/ShaderBuilder.js\";class d extends i{constructor(){super(...arguments),this.overlayIndex=e.INNER,this.opacity=1}}function l(){const e=new n;return e.include(r),e.fragment.uniforms.add(new t(\"tex\",(e=>e.texture))),e.fragment.uniforms.add(new a(\"overlayIdx\",(e=>e.overlayIndex))),e.fragment.uniforms.add(new o(\"opacity\",(e=>e.opacity))),e.fragment.main.add(s`vec2 overlayUV = overlayIdx == 0 ? vec2(uv.x * 0.5, uv.y) : vec2(uv.x * 0.5 + 0.5, uv.y);\nfragColor = texture(tex, overlayUV) * opacity;`),e}const m=Object.freeze(Object.defineProperty({__proto__:null,OverlayCompositingPassParameters:d,build:l},Symbol.toStringTag,{value:\"Module\"}));export{d as O,m as a,l as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nvar a;!function(a){a[a.EnableFastUpdates=0]=\"EnableFastUpdates\",a[a.DisableFastUpdates=1]=\"DisableFastUpdates\",a[a.UpdateFastLocalOrigin=2]=\"UpdateFastLocalOrigin\"}(a||(a={}));export{a as MeshTransformUpdateAction};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{newLayout as e}from\"../../support/buffer/InterleavedLayout.js\";import{VertexAttribute as O}from\"../lib/VertexAttribute.js\";const I=e().vec3f(O.POSITION),c=e().vec3f(O.POSITION).vec2f16(O.UV0),f=e().vec3f(O.POSITION).vec4u8(O.COLOR),v=e().vec3f(O.POSITION).vec2f16(O.UV0).vec4u8(O.OLIDCOLOR),t=e().vec3f(O.POSITION).vec2f(O.UV0),r=e().vec3f(O.POSITION).vec2f(O.UV0).vec4u8(O.OLIDCOLOR);export{f as PositionColorLayout,I as PositionLayout,c as PositionUvLayout,v as PositionUvOlidLayout,t as PositionUvf32Layout,r as PositionUvf32OlidLayout};\n"],"names":["c","p","r","constructor","o","super","this","type","cloudCover","clone","s","cloudy","e","json","write","isRequired","prototype","Number","nonNullable","range","min","max","t","i","fogStrength","foggy","precipitation","rainy","n","snowCover","snowy","sunny","key","base","typeMap","Object","keys","g","arguments","length","undefined","geometry","screenToWorldRatio","_transformation","_shaderTransformation","_boundingSphere","id","layerViewUid","graphicUid","castShadow","objectShaderTransformation","objectShaderTransformationChanged","transformation","boundingInfo","boundingSphere","h","center","shaderTransformation","radius","a","material","attributes","highlight","highlights","foreachHighlightOptions","hasHighlights","occludees","visible","E","A","O","INNER","OUTER","REGULAR","HAS_NORTH_POLE","HAS_SOUTH_POLE","HAS_BOTH_POLES","FADING","IMMEDIATE","UNFADED","l","outputs","fragment","include","uniforms","add","highlightTexture","constants","Math","ceil","u","main","freeze","defineProperty","__proto__","HighlightDownsampleDrawParameters","blurSize","build","gridCellPixelSize","outlineSize","Symbol","toStringTag","value","CCW_IS_HOLE","NONE","rings","paths","position","outlines","f","hasZ","spatialReference","m","y","lines","projectionSuccess","sampledElevation","Array","index","count","push","mapPositions","_extent","resolution","renderLocalOrigin","pixelRatio","mapUnitsPerPixel","canvasGeometries","extent","setupGeometryViews","_setupGeometryView","extents","numViews","hasSomeSizedView","Color","ColorNoRasterImage","Highlight","WaterNormal","Occluded","ObjectAndLayerIdColor","_fbos","_format","_name","valid","_handle","getTexture","dispose","texture","bind","fbo","width","height","release","acquire","bindFramebuffer","generateMipMap","descriptor","hasMipmap","generateMipmap","RGBA8UNORM_MIPMAP","output","content","targets","RG8UINT","Normal","RGBA8UNORM","computeValidity","reduce","Material","ShadowMap","ViewshedShadowMap","Disabled","Enabled","EnabledWithWater","COUNT","initializePipeline","blending","colorWrite","occludedFactor","verticalCellCount","horizontalCellCount","highlightLevel","POSITION","FLOAT","UV0","HALF_FLOAT","produces","HIGHLIGHTS","consumes","required","_downsampleDrawParameters","C","_passParameters","_highlightBlurDrawParameters","x","_grid","initialize","addHandles","_updateOptionsTexture","destroy","coverage","vao","highlightOptionsTexture","U","internalFormat","j","RGBA","samplingMode","NEAREST","I","renderingContext","setData","Uint8Array","color","haloColor","b","fillOpacity","haloOpacity","view","state","requestRender","UPDATE","precompile","techniques","d","render","find","_ref","name","bindParameters","decorations","get","compiled","_ref2","camera","_renderHighlightPostprocess","_gridUpdateResources","_gridComputeCoverage","coverageTexture","bindVAO","drawElementsInstanced","P","TRIANGLES","q","UNSIGNED_BYTE","setViewport4fv","fullViewport","fboCache","T","w","fullWidth","v","fullHeight","_","H","stage","renderView","renderer","D","hasHighlight","setClearColor","RG8UNORM","setViewport","clear","R","COLOR","bindTechnique","blurInput","unbindTexture","colorTexture","highlightBlurTexture","createIndex","STATIC_DRAW","L","Map","createVertex","input","B","R8UINT","screen","draw","test","viewportWidth","viewportHeight","S","textures","_textures","_techniques","materialChanged","_id2glMaterialRef","_ownMaterial","createGLMaterial","set","ref","glMaterial","unref","referenced","delete","repository","getLogger","error","_refCnt","Immediate","FadeWithWeather","shadowMap","slot","OPAQUE_MATERIAL","slicePlane","hasOccludees","enableFillLights","oitPass","alignPixelEnabled","overlayStretch","viewshedEnabled","_camera","_inverseViewport","_oldLighting","_newLighting","_fadedLighting","_lighting","ssr","terrainDepthTest","cullAboveTerrain","highlightOrderMap","highlightMixOrigin","highlightMixTexture","hudRenderStyle","hudOccludedFragmentOpacity","clouds","shadowHighlightsVisible","inverseViewport","lighting","fadeLighting","fadeFactor","lerpLighting","copyFrom","updateLighting","noonFactor","globalFactor","requestFade","reprojectionMatrix","rctx","lastFrameCamera","renderOccludedMask","time","Occlude","OccludeAndTransparent","OccludeAndTransparentStencil","_projectionMatrix","projectionMatrix","readOnly","ExcludeHighlight","Q","lightMat","maxNumCascadesHighQuality","maxNumCascadesLowQuality","textureSizeModHighQuality","textureSizeModLowQuality","splitSchemeLambda","_viewingMode","_snapshots","_textureHeight","_numCascades","settings","_projectionView","_projectionViewInverse","_modelViewLight","_cascadeDistances","_usedCascadeDistances","_cascades","_lastOrigin","_enabled","_maxTextureWidth","has","parameters","maxTextureSize","enabled","disposeOffscreenBuffers","depthTexture","W","_textureWidth","numCascades","cascadeDistances","disposeMainBuffer","_discardSnapshots","maxCascades","floor","ready","cascades","tt","start","near","far","Mt","_computeCascadeDistances","_computeTextureHeight","_setupMatrices","viewMatrix","_constructCascade","finish","getShadowMapMatrices","st","et","moveSnapshot","setName","copySnapshot","_acquireFBO","console","blitFramebuffer","z","DEPTH","getSnapshot","_ensureFbo","bindFbo","window","devicePixelRatio","V","DEPTH16","setShadowFiltering","_discardSnapshot","abs","k","G","$","sqrt","sin","it","at","rt","ht","M","ot","nt","ct","lt","dt","ut","mt","J","K","X","Y","Z","pt","xt","_t","gt","bt","wt","viewport","F","Global","eye","N","Ct","concat","ft","hasAlpha","_overlays","_renderTargets","_overlayParameters","_hasWater","_renderers","_sortedDrapeSourceRenderersDirty","_sortedRenderers","_screenToWorldRatio","_localOriginFactory","unloadedMemory","ignoresMemoryFactor","events","longitudeCyclical","DRAPED_MATERIAL","DRAPED_WATER","_hasTargetWithoutRasterImage","_hasDrapedFeatureSource","_hasDrapedRasterSource","_view","waterTextures","_renderContext","_rctx","viewingMode","updating","emit","allLayerViews","shadowOpacity","shadowDifference","shadowColor","_bindParameters","resourceController","scheduler","registerTask","OVERLAY_RENDERER","relativeElevation","mainDepth","forEach","disposeOverlays","_stage","parent","materials","_pluginContext","localOriginFactory","pluginContext","initializeRenderContext","notifyChange","uninitializeRenderContext","acquireTechniques","canCompact","hasOverlays","getMaterialRenderer","values","layers","_updateSortedDrapeSourceRenderers","map","drapeSource","layer","filter","registerDrapeSource","fullOpacity","removeDrapeSourceRenderer","removeHandles","releaseRenderTargets","overlays","ensureDrapeTargets","drapeTargetType","WithoutRasterImage","ensureDrapeSources","drapeSourceType","Features","RasterImage","_needsColorWithoutRasterImage","ensureOverlays","running","runTask","_processDrapeSources","done","destroyed","commitChanges","madeProgress","compact","size","processSyncDrapeSources","updatePolicy","SYNC","isEmpty","OVERLAY_DRAW_DEBUG_TEXTURE","hasWater","rendersOccludedDraped","se","precompiling","some","renders","_ref3","mode","updateAnimation","BACKGROUND","updateDrapeSourceOrder","precompileShaders","emptyTexture","forAll","_ref4","drawOverlays","_drawTarget","contentPixelRatio","screenToPCSRatio","worldToPCSRatio","_bindTargetFBO","gl","clearBufferuiv","ie","_setViewParameters","_ensureDebugPatternResources","re","_resolution","getBoundFramebufferObject","TEXTURE_UNIT_FOR_UPDATES","bindTexture","setActiveTexture","copyTexSubImage2D","TEXTURE_2D","_renderAllGeometry","_ref5","_bindTemporaryFBO","opacity","overlayIndex","notifyContentChanged","intersect","allLayers","indexOf","renderGroup","MapLayer","ViewLayer","drapeSourcePriorityOffset","ee","sort","constructOnly","Boolean","te","code","float","screenSpaceReflections","nearFar","depth","attachment","highStepCount","absorption","Bind","parallax","radiusCurvatureCorrection","readChannels","RG","data","cubeMap","anchorPoint","parallaxNew","transform","fadeState","CROSS_FADE","cloudReflections","mainLight","specularStrength","environmentStrength","lastFrameColor","dash","dot","none","solid","pattern","slice","style","vertex","varyings","vvColor","hasVertexColors","COLORFEATUREATTRIBUTE","invariant","HighlightBlurDrawParameters","Pass","setUniform2iv","Idle","Rendering","Ready","Fading","BA","TextureOnlyPassParameters","stride","from","fields","ElementCount","ElementType","offset","optional","glNormalized","Error","u8","u16","UNSIGNED_SHORT","u32","UNSIGNED_INT","i8","BYTE","i16","SHORT","i32","INT","f16","f32","ADD","REMOVE","VISIBILITY","GEOMETRY","TRANSFORMATION","HIGHLIGHT","OCCLUDEE","Depth","usedMemory","renderOccludedFlags","isDecoration","modify","numGeometries","hasEmissions","forEachGeometry","startTime","_data","_readChannels","_anchorPoint","_fadeState","HIDE","_fadeFactor","FADE_OUT","FADE_IN","SHOW","fade","isFading","_endFade","_evaluateState","_updateParallax","_updateAnchorPoint","_startFade","_switchReadChannels","_pp0","_pp1","intersectDraped","attributeData","removeDuplicateStartEnd","indices","colorFeature","sizeFeature","SIZE","normal","NORMAL","SIZEFEATUREATTRIBUTE","opacityFeature","OPACITYFEATUREATTRIBUTE","overlayInfo","renderCoordsHelper","isGeographic","DISTANCETOSTART","Line","_outer","empty","outerSize","getInner","_createPipeline","transparent","cullFace","draped","polygonOffset","culling","depthTest","func","depthWrite","drawBuffers","stencilWrite","stencilTest","_occludeePipelineState","getPipeline","factor","units","None","discardInvisibleFragments","enableOffset","writeDepth","objectAndLayerIdColorInstanced","textureCoordinateType","emissionSource","occlusionPass","hasVvInstancing","vvSize","vvOpacity","_configuration","supportsEdges","_isOpaqueMaterialPass","OPAQUE_MATERIAL_WITHOUT_NORMALS","_isOpaqueNoSSAODepthPass","TRANSPARENT_MATERIAL","_transparent","TRANSPARENT_MATERIAL_WITHOUT_NORMALS","TRANSPARENT_MATERIAL_WITHOUT_DEPTH","getConfiguration","hasSlicePlane","_isOpaquePass","forceTransparentMode","createBufferWriter","vec3f","vec4u8","OLIDCOLOR","beginSlot","getTechnique","OverlayCompositingPassParameters","EnableFastUpdates","DisableFastUpdates","UpdateFastLocalOrigin","vec2f16","vec2f"],"sourceRoot":""}