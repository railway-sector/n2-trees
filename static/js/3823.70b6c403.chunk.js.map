{"version":3,"file":"static/js/3823.70b6c403.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/AnimatedLine.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/attributes/RibbonVertexPosition.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/DirtyEvents.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/WebGLLayer.js","../node_modules/@arcgis/core/chunks/RibbonLine.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/MarkerSizing.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/NoPerspective.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/Object3D.js","../node_modules/@arcgis/core/views/3d/layers/graphics/featureExpressionInfoUtils.js","../node_modules/@arcgis/core/views/3d/layers/graphics/ElevationContext.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/RibbonLineTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/RibbonLineTechniqueConfiguration.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/RibbonLineMaterial.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/stippleTextureRepository.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/ensureColor4.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/LineStipple.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/VertexAttribute.js","../node_modules/@arcgis/core/views/3d/layers/graphics/elevationAlignmentUtils.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/testUtils.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/renderers/utils.js","../node_modules/@arcgis/core/layers/graphics/dehydratedFeatureComparison.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/LocalOriginFactory.js","../node_modules/@arcgis/core/views/3d/support/ElevationProvider.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/Octree.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/GridLocalOriginFactory.js","../node_modules/@arcgis/core/views/3d/support/engineContent/marker.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{s as e}from\"../../../../chunks/vec42.js\";import{create as t}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{Float4PassUniform as a}from\"../core/shaderModules/Float4PassUniform.js\";import{FloatPassUniform as i}from\"../core/shaderModules/FloatPassUniform.js\";import{glsl as o}from\"../core/shaderModules/glsl.js\";function m(t,m){if(!m.hasAnimation)return;const{attributes:r,varyings:d,vertex:l,fragment:T}=t;r.add(\"timeStamps\",\"vec4\"),d.add(\"vTimeStamp\",\"float\"),d.add(\"vFirstTime\",\"float\"),d.add(\"vLastTime\",\"float\"),d.add(\"vTransitionType\",\"float\"),l.main.add(o`vTimeStamp = timeStamps.x;\nvFirstTime = timeStamps.y;\nvLastTime = timeStamps.z;\nvTransitionType = timeStamps.w;`);const{animation:v}=m;3===v&&T.constants.add(\"decayRate\",\"float\",2.3),T.code.add(o`\n    float getTrailOpacity(float x) {\n      ${s(v)}\n    }`),T.uniforms.add(new i(\"timeElapsed\",e=>e.timeElapsed),new i(\"trailLength\",e=>e.trailLength),new i(\"speed\",e=>e.animationSpeed),new a(\"timingOptions\",t=>e(n,t.startTime,t.endTime,t.fadeInTime,t.fadeOutTime))),T.code.add(o`float fadeIn(float x) {\nreturn smoothstep(0.0, timingOptions[2], x);\n}\nfloat fadeOut(float x) {\nreturn isinf(timingOptions[3]) ? 1.0 : smoothstep(timingOptions[3], 0.0, x);\n}`),T.code.add(o`vec4 animate(vec4 color) {\nfloat startTime = timingOptions[0];\nfloat endTime = timingOptions[1];\nfloat totalTime = vLastTime - vFirstTime;\nfloat actualEndTime = int(vTransitionType) == 2 ? min(endTime, startTime + vLastTime / speed) : endTime;\nvec4 animatedColor = color;\nif (speed == 0.0) {\nanimatedColor.a *= getTrailOpacity((totalTime - (vTimeStamp - vFirstTime)) / trailLength);\nanimatedColor.a *= isinf(actualEndTime) ? 1.0 : fadeOut(timeElapsed - actualEndTime);\nanimatedColor.a *= fadeIn(timeElapsed - startTime);\nreturn animatedColor;\n}\nfloat relativeStartTime = mod(startTime, totalTime);\nfloat vHeadRelativeToFirst = mod((timeElapsed - relativeStartTime) * speed - vFirstTime, totalTime);\nfloat vRelativeToHead = vHeadRelativeToFirst + vFirstTime - vTimeStamp;\nbool inPreviousCycle = vRelativeToHead < 0.0;\nvRelativeToHead += inPreviousCycle ? totalTime : 0.0;\nfloat vAbsoluteTime = timeElapsed - vRelativeToHead / speed;\nif (vAbsoluteTime > actualEndTime) {\nvRelativeToHead = (timeElapsed - relativeStartTime) * speed - vTimeStamp;\nvAbsoluteTime = timeElapsed - vRelativeToHead / speed;\n}\nanimatedColor *= step(startTime, vAbsoluteTime);\nanimatedColor *= step(vAbsoluteTime, actualEndTime);\nanimatedColor.a *= isinf(actualEndTime) ? 1.0 : fadeOut(timeElapsed - actualEndTime);\nanimatedColor.a *= inPreviousCycle ? fadeOut(vHeadRelativeToFirst / speed) : 1.0;\nanimatedColor.a *= getTrailOpacity(vRelativeToHead / trailLength);\nanimatedColor.a *= int(vTransitionType) == 0 ? fadeIn(vAbsoluteTime - startTime) : 1.0;\nanimatedColor.a *= fadeIn(vTimeStamp - vFirstTime);\nreturn animatedColor;\n}`)}function s(e){switch(e){case 2:return\"return x >= 0.0 && x <= 1.0 ? 1.0 : 0.0;\";case 3:return\"float cutOff = exp(-decayRate);\\n        return (exp(-decayRate * x) - cutOff) / (1.0 - cutOff);\";default:return\"return 1.0;\"}}const n=t();export{m as AnimatedLine};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{invert as e,translate as i}from\"../../../../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as a}from\"../../../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{VisualVariables as t}from\"../shading/VisualVariables.glsl.js\";import{ScreenSizePerspective as r,addScreenSizePerspective as o}from\"../util/ScreenSizePerspective.glsl.js\";import{addCameraPosition as c}from\"../util/View.glsl.js\";import{Float3PassUniform as l}from\"../../shaderModules/Float3PassUniform.js\";import{FloatPassUniform as s}from\"../../shaderModules/FloatPassUniform.js\";import{FloatsPassUniform as v}from\"../../shaderModules/FloatsPassUniform.js\";import{glsl as n,If as p}from\"../../shaderModules/glsl.js\";import{Matrix4DrawUniform as d}from\"../../shaderModules/Matrix4DrawUniform.js\";const u=8;function f(a,f){const{vertex:S,attributes:m}=a;S.uniforms.add(new s(\"intrinsicWidth\",e=>e.width));const{hasScreenSizePerspective:y,spherical:O}=f;y?(a.include(r,f),o(S),c(S,f),S.uniforms.add(new d(\"inverseViewMatrix\",(a,t)=>e(z,i(z,t.camera.viewMatrix,a.origin)))),S.code.add(n`\n      float applyLineSizeScreenSizePerspective(float size, vec3 pos) {\n        vec3 worldPos = (inverseViewMatrix * vec4(pos, 1)).xyz;\n        vec3 groundUp = ${O?n`normalize(worldPos + localOrigin)`:n`vec3(0.0, 0.0, 1.0)`};\n        float absCosAngle = abs(dot(groundUp, normalize(worldPos - cameraPosition)));\n\n        return screenSizePerspectiveScaleFloat(size, absCosAngle, length(pos), screenSizePerspective);\n      }\n    `)):S.code.add(n`float applyLineSizeScreenSizePerspective(float size, vec3 pos) {\nreturn size;\n}`),f.hasVVSize?(m.add(\"sizeFeatureAttribute\",\"float\"),S.uniforms.add(new l(\"vvSizeMinSize\",e=>e.vvSize.minSize),new l(\"vvSizeMaxSize\",e=>e.vvSize.maxSize),new l(\"vvSizeOffset\",e=>e.vvSize.offset),new l(\"vvSizeFactor\",e=>e.vvSize.factor),new l(\"vvSizeFallback\",e=>e.vvSize.fallback)),S.code.add(n`\n    float getSize(${p(y,\"vec3 pos\")}) {\n      float size = isnan(sizeFeatureAttribute)\n        ? vvSizeFallback.x\n        : intrinsicWidth * clamp(vvSizeOffset + sizeFeatureAttribute * vvSizeFactor, vvSizeMinSize, vvSizeMaxSize).x;\n\n      return ${p(y,\"applyLineSizeScreenSizePerspective(size, pos)\",\"size\")};\n    }\n    `)):(m.add(\"size\",\"float\"),S.code.add(n`\n    float getSize(${p(y,\"vec3 pos\")}) {\n      float fullSize = intrinsicWidth * size;\n      return ${p(y,\"applyLineSizeScreenSizePerspective(fullSize, pos)\",\"fullSize\")};\n    }\n    `)),f.hasVVOpacity?(m.add(\"opacityFeatureAttribute\",\"float\"),S.constants.add(\"vvOpacityNumber\",\"int\",8),S.uniforms.add(new v(\"vvOpacityValues\",e=>e.vvOpacity.values,u),new v(\"vvOpacityOpacities\",e=>e.vvOpacity.opacityValues,u),new s(\"vvOpacityFallback\",e=>e.vvOpacity.fallback,{supportsNaN:!0})),S.code.add(n`\n    float interpolateOpacity(float value) {\n      if (value <= vvOpacityValues[0]) {\n        return vvOpacityOpacities[0];\n      }\n\n      for (int i = 1; i < vvOpacityNumber; ++i) {\n        if (vvOpacityValues[i] >= value) {\n          float f = (value - vvOpacityValues[i-1]) / (vvOpacityValues[i] - vvOpacityValues[i-1]);\n          return mix(vvOpacityOpacities[i-1], vvOpacityOpacities[i], f);\n        }\n      }\n\n      return vvOpacityOpacities[vvOpacityNumber - 1];\n    }\n\n    vec4 applyOpacity(vec4 color) {\n      if (isnan(opacityFeatureAttribute)) {\n        // If there is a color vv then it will already have taken care of applying the fallback\n        return ${p(f.hasVVColor,\"color\",\"vec4(color.rgb, vvOpacityFallback)\")};\n      }\n\n      return vec4(color.rgb, interpolateOpacity(opacityFeatureAttribute));\n    }\n    `)):S.code.add(n`vec4 applyOpacity(vec4 color) {\nreturn color;\n}`),f.hasVVColor?(a.include(t,f),m.add(\"colorFeatureAttribute\",\"float\"),S.code.add(n`vec4 getColor() {\nvec4 color = interpolateVVColor(colorFeatureAttribute);\nif (isnan(color.r)) {\nreturn vec4(0);\n}\nreturn applyOpacity(color);\n}`)):(m.add(\"color\",\"vec4\"),S.code.add(n`vec4 getColor() {\nreturn applyOpacity(color);\n}`))}const z=a();export{f as RibbonVertexPosition};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nconst e=[\"layerObjectAdded\",\"layerObjectRemoved\",\"layerObjectsAdded\",\"layerObjectsRemoved\",\"transformationChanged\",\"shaderTransformationChanged\",\"visibilityChanged\",\"occlusionChanged\",\"highlightChanged\",\"geometryAdded\",\"geometryRemoved\",\"attributesChanged\"];export{e as DirtyEventNames};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{removeUnordered as e}from\"../../../../core/arrayUtils.js\";import{toConst as t}from\"../../../../core/compilerUtils.js\";import{EventEmitter as s}from\"../../../../core/Evented.js\";import i from\"../../../../core/Handles.js\";import\"../../../../core/has.js\";import{destroyMaybe as o}from\"../../../../core/maybe.js\";import{generateUID as r}from\"../../../../core/uid.js\";import{DirtyEventNames as h}from\"./DirtyEvents.js\";import{Octree as c}from\"./Octree.js\";class d{constructor(e,t,o=\"\"){this.stage=e,this.apiLayerViewUid=o,this.id=r(),this.events=new s,this.visible=!0,this.sliceable=!1,this._objectsAdded=new Array,this._handles=new i,this._objects=new Map,this._pickable=!0,this.visible=t?.visible??!0,this._pickable=t?.pickable??!0,this.updatePolicy=t?.updatePolicy??0,e.addLayer(this);for(const s of h)this._handles.add(this.events.on(s,t=>e.handleEvent(s,t)))}destroy(){this._handles.size&&(this._handles.destroy(),this.stage.removeLayer(this),this.invalidateSpatialQueryAccelerator())}get objects(){return this._objects}getObject(e){return t(this._objects.get(e))}set pickable(e){this._pickable=e}get pickable(){return this._pickable&&this.visible}add(e){this._objects.set(e.id,e),e.layer=this,this.events.emit(\"layerObjectAdded\",e),null!=this._octree&&this._objectsAdded.push(e)}remove(t){this._objects.delete(t.id)&&(this.events.emit(\"layerObjectRemoved\",t),t.layer=null,null!=this._octree&&(e(this._objectsAdded,t)||this._octree.remove([t])))}addMany(e){for(const t of e)this._objects.set(t.id,t),t.layer=this;this.events.emit(\"layerObjectsAdded\",e),null!=this._octree&&this._objectsAdded.push(...e)}removeMany(t){const s=new Array;for(const e of t)this._objects.delete(e.id)&&s.push(e);if(0!==s.length&&(this.events.emit(\"layerObjectsRemoved\",s),s.forEach(e=>e.layer=null),null!=this._octree)){for(let t=0;t<s.length;)e(this._objectsAdded,s[t])?(s[t]=s[s.length-1],s.length-=1):++t;this._octree.remove(s)}}commit(){this.stage.commitLayer(this)}sync(){1!==this.updatePolicy&&this.stage.syncLayer(this.id)}notifyObjectBBChanged(e,t){null==this._octree||this._objectsAdded.includes(e)||this._octree.update(e,t)}getSpatialQueryAccelerator(){return null==this._octree&&this._objects.size>50?(this._octree=new c(e=>e.boundingVolumeWorldSpace.bounds),this._octree.add(this._objects.values())):null!=this._octree&&this._objectsAdded.length>0&&(this._octree.add(this._objectsAdded),this._objectsAdded.length=0),this._octree}invalidateSpatialQueryAccelerator(){this._octree=o(this._octree),this._objectsAdded.length=0}get test(){}}export{d as WebGLLayer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{SliceDraw as e}from\"../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js\";import{ObjectAndLayerIdColor as i}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/ObjectAndLayerIdColor.glsl.js\";import{RibbonVertexPosition as t}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/RibbonVertexPosition.glsl.js\";import{LineStipple as n,computePixelSize as r}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/LineStipple.glsl.js\";import{MarkerSizing as o}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/MarkerSizing.glsl.js\";import{PiUtils as a}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/PiUtils.glsl.js\";import{terrainDepthTest as s}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/TerrainDepthTest.glsl.js\";import{ColorConversion as l}from\"../views/3d/webgl-engine/core/shaderLibrary/util/ColorConversion.glsl.js\";import{NoPerspectiveWrite as p,NoPerspectiveRead as d}from\"../views/3d/webgl-engine/core/shaderLibrary/util/NoPerspective.glsl.js\";import{addProjViewLocalOrigin as c,addPixelRatio as m}from\"../views/3d/webgl-engine/core/shaderLibrary/util/View.glsl.js\";import{Float2BindUniform as v}from\"../views/3d/webgl-engine/core/shaderModules/Float2BindUniform.js\";import{Float4BindUniform as f}from\"../views/3d/webgl-engine/core/shaderModules/Float4BindUniform.js\";import{Float4PassUniform as g}from\"../views/3d/webgl-engine/core/shaderModules/Float4PassUniform.js\";import{FloatBindUniform as D}from\"../views/3d/webgl-engine/core/shaderModules/FloatBindUniform.js\";import{FloatPassUniform as S}from\"../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js\";import{glsl as h,If as x}from\"../views/3d/webgl-engine/core/shaderModules/glsl.js\";import{Matrix4BindUniform as u}from\"../views/3d/webgl-engine/core/shaderModules/Matrix4BindUniform.js\";import{AnimatedLine as L}from\"../views/3d/webgl-engine/shaders/AnimatedLine.glsl.js\";import{outputColorHighlightOID as w}from\"../views/3d/webgl-engine/shaders/OutputColorHighlightOID.glsl.js\";import{ShaderBuilder as b}from\"../views/webgl/ShaderBuilder.js\";import{alphaCutoff as y}from\"../webscene/support/AlphaCutoff.js\";const P=1;function j(j){const z=new b,{attributes:C,varyings:W,vertex:R,fragment:F}=z,{applyMarkerOffset:A,draped:V,output:T,capType:E,stippleEnabled:O,falloffEnabled:M,roundJoins:N,wireframe:$,innerColorEnabled:_,hasAnimation:k,hasScreenSizePerspective:B}=j;F.include(a),z.include(t,j),z.include(n,j),z.include(i,j),z.include(s,j),z.include(L,j);const H=A&&!V;H&&(R.uniforms.add(new S(\"markerScale\",e=>e.markerScale)),z.include(o,{space:2,hasScreenSizePerspective:B})),c(R,j),R.uniforms.add(new u(\"inverseProjectionMatrix\",e=>e.camera.inverseProjectionMatrix),new v(\"nearFar\",e=>e.camera.nearFar),new S(\"miterLimit\",e=>\"miter\"!==e.join?0:e.miterLimit),new f(\"viewport\",e=>e.camera.fullViewport)),R.constants.add(\"LARGE_HALF_FLOAT\",\"float\",65500),C.add(\"position\",\"vec3\"),C.add(\"previousDelta\",\"vec4\"),C.add(\"nextDelta\",\"vec4\"),C.add(\"lineParameters\",\"vec2\"),C.add(\"u0\",\"float\"),W.add(\"vColor\",\"vec4\"),W.add(\"vpos\",\"vec3\",{invariant:!0}),W.add(\"vLineDistance\",\"float\"),W.add(\"vLineWidth\",\"float\");const I=O;I&&W.add(\"vLineSizeInv\",\"float\");const J=2===E,U=O&&J,G=M||U;G&&W.add(\"vLineDistanceNorm\",\"float\"),J&&(W.add(\"vSegmentSDF\",\"float\"),W.add(\"vReverseSegmentSDF\",\"float\")),R.code.add(h`vec2 perpendicular(vec2 v) {\nreturn vec2(v.y, -v.x);\n}\nfloat interp(float ncp, vec4 a, vec4 b) {\nreturn (-ncp - a.z) / (b.z - a.z);\n}\nvec2 rotate(vec2 v, float a) {\nfloat s = sin(a);\nfloat c = cos(a);\nmat2 m = mat2(c, -s, s, c);\nreturn m * v;\n}`),R.code.add(h`vec4 projectAndScale(vec4 pos) {\nvec4 posNdc = proj * pos;\nposNdc.xy *= viewport.zw / posNdc.w;\nreturn posNdc;\n}`),R.code.add(h`void clip(\ninout vec4 pos,\ninout vec4 prev,\ninout vec4 next,\nbool isStartVertex\n) {\nfloat vnp = nearFar[0] * 0.99;\nif (pos.z > -nearFar[0]) {\nif (!isStartVertex) {\nif (prev.z < -nearFar[0]) {\npos = mix(prev, pos, interp(vnp, prev, pos));\nnext = pos;\n} else {\npos = vec4(0.0, 0.0, 0.0, 1.0);\n}\n} else {\nif (next.z < -nearFar[0]) {\npos = mix(pos, next, interp(vnp, pos, next));\nprev = pos;\n} else {\npos = vec4(0.0, 0.0, 0.0, 1.0);\n}\n}\n} else {\nif (prev.z > -nearFar[0]) {\nprev = mix(pos, prev, interp(vnp, pos, prev));\n}\nif (next.z > -nearFar[0]) {\nnext = mix(next, pos, interp(vnp, next, pos));\n}\n}\n}`),m(R),R.constants.add(\"aaWidth\",\"float\",O?0:1).main.add(h`bool isStartVertex = abs(abs(lineParameters.y) - 3.0) == 1.0;\nvec3 prevPosition = position + previousDelta.xyz * previousDelta.w;\nvec3 nextPosition = position + nextDelta.xyz * nextDelta.w;\nfloat coverage = 1.0;\nif (lineParameters.y == 0.0) {\ngl_Position = vec4(1e038, 1e038, 1e038, 1.0);\n}\nelse {\nvec4 pos  = view * vec4(position, 1.0);\nvec4 prev = view * vec4(prevPosition, 1.0);\nvec4 next = view * vec4(nextPosition, 1.0);\nbool isJoin = abs(lineParameters.y) < 3.0;`),H&&R.main.add(h`vec4 other = isStartVertex ? next : prev;\nbool markersHidden = areWorldMarkersHidden(pos.xyz, other.xyz);\nif (!isJoin && !markersHidden) {\npos.xyz += normalize(other.xyz - pos.xyz) * getWorldMarkerSize(pos.xyz) * 0.5;\n}`),z.include(p),R.main.add(h`\n      clip(pos, prev, next, isStartVertex);\n\n      vec3 clippedPos = pos.xyz;\n      vec3 clippedCenter = mix(pos.xyz, isStartVertex ? next.xyz : prev.xyz, 0.5);\n\n      forwardViewPosDepth(pos.xyz);\n\n      pos = projectAndScale(pos);\n      next = projectAndScale(next);\n      prev = projectAndScale(prev);\n\n      vec2 left = (pos.xy - prev.xy);\n      vec2 right = (next.xy - pos.xy);\n\n      float leftLen = length(left);\n      float rightLen = length(right);\n\n      float lineSize = getSize(${x(B,\"clippedPos\")});\n      ${x(O&&B,\"float patternLineSize = getSize(clippedCenter);\")}\n      ${x(O&&!B,\"float patternLineSize = lineSize;\")}\n\n      if (lineSize < 1.0) {\n        coverage = lineSize; // convert sub-pixel coverage to alpha\n        lineSize = 1.0;\n      }\n      lineSize += aaWidth;\n\n      float lineWidth = lineSize * pixelRatio;\n      vLineWidth = noPerspectiveWrite(lineWidth, pos.w);\n      ${I?h`vLineSizeInv = noPerspectiveWrite(1.0 / lineSize, pos.w);`:\"\"}\n  `);(O||J)&&R.main.add(h`\n      float isEndVertex = float(!isStartVertex);\n      vec2 segmentOrigin = mix(pos.xy, prev.xy, isEndVertex);\n      vec2 segment = mix(right, left, isEndVertex);\n      ${J?h`vec2 segmentEnd = mix(next.xy, pos.xy, isEndVertex);`:\"\"}\n    `),R.main.add(h`left = (leftLen > 0.001) ? left/leftLen : vec2(0.0, 0.0);\nright = (rightLen > 0.001) ? right/rightLen : vec2(0.0, 0.0);\nvec2 capDisplacementDir = vec2(0, 0);\nvec2 joinDisplacementDir = vec2(0, 0);\nfloat displacementLen = lineWidth;\nif (isJoin) {\nbool isOutside = (left.x * right.y - left.y * right.x) * lineParameters.y > 0.0;\njoinDisplacementDir = normalize(left + right);\njoinDisplacementDir = perpendicular(joinDisplacementDir);\nif (leftLen > 0.001 && rightLen > 0.001) {\nfloat nDotSeg = dot(joinDisplacementDir, left);\ndisplacementLen /= length(nDotSeg * left - joinDisplacementDir);\nif (!isOutside) {\ndisplacementLen = min(displacementLen, min(leftLen, rightLen)/abs(nDotSeg));\n}\n}\nfloat subdivisionFactor = lineParameters.x;\nif (isOutside && (displacementLen > miterLimit * lineWidth)) {`),N?R.main.add(h`\n        vec2 startDir = leftLen < 0.001 ? right : left;\n        startDir = perpendicular(startDir);\n\n        vec2 endDir = rightLen < 0.001 ? left : right;\n        endDir = perpendicular(endDir);\n\n        float factor = ${O?h`min(1.0, subdivisionFactor * ${h.float((P+2)/(P+1))})`:h`subdivisionFactor`};\n\n        float rotationAngle = acos(clamp(dot(startDir, endDir), -1.0, 1.0));\n        joinDisplacementDir = rotate(startDir, -sign(lineParameters.y) * factor * rotationAngle);\n      `):R.main.add(h`if (leftLen < 0.001) {\njoinDisplacementDir = right;\n}\nelse if (rightLen < 0.001) {\njoinDisplacementDir = left;\n}\nelse {\njoinDisplacementDir = (isStartVertex || subdivisionFactor > 0.0) ? right : left;\n}\njoinDisplacementDir = perpendicular(joinDisplacementDir);`);const q=0!==E;return R.main.add(h`\n        displacementLen = lineWidth;\n      }\n    } else {\n      // CAP handling ---------------------------------------------------\n      joinDisplacementDir = isStartVertex ? right : left;\n      joinDisplacementDir = perpendicular(joinDisplacementDir);\n\n      ${q?h`capDisplacementDir = isStartVertex ? -right : left;`:\"\"}\n    }\n  `),R.main.add(h`\n    // Displacement (in pixels) caused by join/or cap\n    vec2 dpos = joinDisplacementDir * sign(lineParameters.y) * displacementLen + capDisplacementDir * displacementLen;\n    float lineDistNorm = noPerspectiveWrite(sign(lineParameters.y), pos.w);\n\n    vLineDistance = lineWidth * lineDistNorm;\n    ${G?h`vLineDistanceNorm = lineDistNorm;`:\"\"}\n\n    pos.xy += dpos;\n  `),J&&R.main.add(h`vec2 segmentDir = normalize(segment);\nvSegmentSDF = noPerspectiveWrite((isJoin && isStartVertex) ? LARGE_HALF_FLOAT : (dot(pos.xy - segmentOrigin, segmentDir)), pos.w);\nvReverseSegmentSDF = noPerspectiveWrite((isJoin && !isStartVertex) ? LARGE_HALF_FLOAT : (dot(pos.xy - segmentEnd, -segmentDir)), pos.w);`),O&&(V?R.uniforms.add(new D(\"worldToScreenRatio\",e=>1/e.screenToPCSRatio)):R.main.add(h`vec3 segmentCenter = mix((nextPosition + position) * 0.5, (position + prevPosition) * 0.5, isEndVertex);\nfloat worldToScreenRatio = computeWorldToScreenRatio(segmentCenter);`),R.main.add(h`float segmentLengthScreenDouble = length(segment);\nfloat segmentLengthScreen = segmentLengthScreenDouble * 0.5;\nfloat discreteWorldToScreenRatio = discretizeWorldToScreenRatio(worldToScreenRatio);\nfloat segmentLengthRender = length(mix(nextPosition - position, position - prevPosition, isEndVertex));\nvStipplePatternStretch = worldToScreenRatio / discreteWorldToScreenRatio;`),V?R.main.add(h`float segmentLengthPseudoScreen = segmentLengthScreen / pixelRatio * discreteWorldToScreenRatio / worldToScreenRatio;\nfloat startPseudoScreen = u0 * discreteWorldToScreenRatio - mix(0.0, segmentLengthPseudoScreen, isEndVertex);`):R.main.add(h`float startPseudoScreen = mix(u0, u0 - segmentLengthRender, isEndVertex) * discreteWorldToScreenRatio;\nfloat segmentLengthPseudoScreen = segmentLengthRender * discreteWorldToScreenRatio;`),R.uniforms.add(new S(\"stipplePatternPixelSize\",e=>r(e))),R.main.add(h`float patternLength = patternLineSize * stipplePatternPixelSize;\nvStippleDistanceLimits = computeStippleDistanceLimits(startPseudoScreen, segmentLengthPseudoScreen, segmentLengthScreen, patternLength);\nvStippleDistance = mix(vStippleDistanceLimits.x, vStippleDistanceLimits.y, isEndVertex);\nif (segmentLengthScreenDouble >= 0.001) {\nvec2 stippleDisplacement = pos.xy - segmentOrigin;\nfloat stippleDisplacementFactor = dot(segment, stippleDisplacement) / (segmentLengthScreenDouble * segmentLengthScreenDouble);\nvStippleDistance += (stippleDisplacementFactor - isEndVertex) * (vStippleDistanceLimits.y - vStippleDistanceLimits.x);\n}\nvStippleDistanceLimits = noPerspectiveWrite(vStippleDistanceLimits, pos.w);\nvStippleDistance = noPerspectiveWrite(vStippleDistance, pos.w);\nvStippleDistanceLimits = isJoin ?\nvStippleDistanceLimits :\nisStartVertex ?\nvec2(-1e34, vStippleDistanceLimits.y) :\nvec2(vStippleDistanceLimits.x, 1e34);`)),R.main.add(h`\n      // Convert back into NDC\n      pos.xy = (pos.xy / viewport.zw) * pos.w;\n\n      vColor = getColor();\n      vColor.a = noPerspectiveWrite(vColor.a * coverage, pos.w);\n\n      ${$&&!V?\"pos.z -= 0.001 * pos.w;\":\"\"}\n\n      // transform final position to camera space for slicing\n      vpos = (inverseProjectionMatrix * pos).xyz;\n      gl_Position = pos;\n      forwardObjectAndLayerIdColor();\n    }`),z.fragment.include(e,j),z.include(w,j),F.include(l),F.main.add(h`discardBySlice(vpos);\ndiscardByTerrainDepth();`),z.include(d),F.main.add(h`\n    float lineWidth = noPerspectiveRead(vLineWidth);\n    float lineDistance = noPerspectiveRead(vLineDistance);\n    ${x(G,h`float lineDistanceNorm = noPerspectiveRead(vLineDistanceNorm);`)}\n  `),$?F.main.add(h`vec4 finalColor = vec4(1.0, 0.0, 1.0, 1.0);`):(J&&F.main.add(h`\n        float sdf = noPerspectiveRead(min(vSegmentSDF, vReverseSegmentSDF));\n        vec2 fragmentPosition = vec2(min(sdf, 0.0), lineDistance);\n\n        float fragmentRadius = length(fragmentPosition);\n        float fragmentCapSDF = (fragmentRadius - lineWidth) * 0.5; // Divide by 2 to transform from double pixel scale\n        float capCoverage = clamp(0.5 - fragmentCapSDF, 0.0, 1.0);\n\n        if (capCoverage < ${h.float(y)}) {\n          discard;\n        }\n      `),U?F.main.add(h`\n      vec2 stipplePosition = vec2(\n        min(getStippleSDF() * 2.0 - 1.0, 0.0),\n        lineDistanceNorm\n      );\n      float stippleRadius = length(stipplePosition * lineWidth);\n      float stippleCapSDF = (stippleRadius - lineWidth) * 0.5; // Divide by 2 to transform from double pixel scale\n      float stippleCoverage = clamp(0.5 - stippleCapSDF, 0.0, 1.0);\n      float stippleAlpha = step(${h.float(y)}, stippleCoverage);\n      `):F.main.add(h`float stippleAlpha = getStippleAlpha(lineWidth);`),10!==T&&F.main.add(h`discardByStippleAlpha(stippleAlpha, ${h.float(y)});`),z.include(d),F.uniforms.add(new g(\"intrinsicColor\",e=>e.color)).main.add(h`vec4 color = intrinsicColor * vColor;\ncolor.a = noPerspectiveRead(color.a);`),_&&F.uniforms.add(new g(\"innerColor\",e=>e.innerColor??e.color),new S(\"innerWidth\",(e,i)=>e.innerWidth*i.camera.pixelRatio)).main.add(h`float distToInner = abs(lineDistance) - innerWidth;\nfloat innerAA = clamp(0.5 - distToInner, 0.0, 1.0);\nfloat innerAlpha = innerColor.a + color.a * (1.0 - innerColor.a);\ncolor = mix(color, vec4(innerColor.rgb, innerAlpha), innerAA);`),F.main.add(h`vec4 finalColor = blendStipple(color, stippleAlpha);`),M&&(F.uniforms.add(new S(\"falloff\",e=>e.falloff)),F.main.add(h`finalColor.a *= pow(max(0.0, 1.0 - abs(lineDistanceNorm)), falloff);`)),O||F.main.add(h`float featherStartDistance = max(lineWidth - 2.0, 0.0);\nfloat value = abs(lineDistance);\nfloat feather = (value - featherStartDistance) / (lineWidth - featherStartDistance);\nfinalColor.a *= 1.0 - clamp(feather, 0.0, 1.0);`),k&&F.main.add(h`\n        finalColor = animate(finalColor);\n\n        ${x(10!==T,h`\n            if (finalColor.a <= ${h.float(y)}) {\n              discard;\n            }`)}\n      `)),F.main.add(h`outputColorHighlightOID(finalColor, vpos, finalColor.rgb);`),z}const z=Object.freeze(Object.defineProperty({__proto__:null,build:j,ribbonlineNumRoundJoinSubdivisions:P},Symbol.toStringTag,{value:\"Module\"}));export{z as R,j as b,P as r};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{markerSizePerLineWidth as e}from\"../../../../support/engineContent/marker.js\";import{addPixelRatio as r}from\"../util/View.glsl.js\";import{FloatBindUniform as t}from\"../../shaderModules/FloatBindUniform.js\";import{If as o,glsl as a}from\"../../shaderModules/glsl.js\";function i(i,n){const d=i.vertex,l=n.hasScreenSizePerspective;r(d),null==d.uniforms.get(\"markerScale\")&&d.constants.add(\"markerScale\",\"float\",1),d.constants.add(\"markerSizePerLineWidth\",\"float\",e).code.add(a`\n  float getLineWidth(${o(l,\"vec3 pos\")}) {\n     return max(getSize(${o(l,\"pos\")}), 1.0) * pixelRatio;\n  }\n\n  float getScreenMarkerSize(float lineWidth) {\n    return markerScale * markerSizePerLineWidth * lineWidth;\n  }\n  `),2===n.space&&(d.constants.add(\"maxSegmentLengthFraction\",\"float\",.45),d.uniforms.add(new t(\"perRenderPixelRatio\",e=>e.camera.perRenderPixelRatio)),d.code.add(a`\n  bool areWorldMarkersHidden(vec3 pos, vec3 other) {\n    vec3 midPoint = mix(pos, other, 0.5);\n    float distanceToCamera = length(midPoint);\n    float screenToWorldRatio = perRenderPixelRatio * distanceToCamera * 0.5;\n    float worldMarkerSize = getScreenMarkerSize(getLineWidth(${o(l,\"pos\")})) * screenToWorldRatio;\n    float segmentLen = length(pos - other);\n    return worldMarkerSize > maxSegmentLengthFraction * segmentLen;\n  }\n\n  float getWorldMarkerSize(vec3 pos) {\n    float distanceToCamera = length(pos);\n    float screenToWorldRatio = perRenderPixelRatio * distanceToCamera * 0.5;\n    return getScreenMarkerSize(getLineWidth(${o(l,\"pos\")})) * screenToWorldRatio;\n  }\n  `))}export{i as MarkerSizing};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nfunction e(e){e.vertex.code.add(\"#define noPerspectiveWrite(x, w) (x * w)\")}function d(e){e.fragment.code.add(\"#define noPerspectiveRead(x) (x * gl_FragCoord.w)\")}export{d as NoPerspectiveRead,e as NoPerspectiveWrite};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import{generateUID as t}from\"../../../../core/uid.js\";import{multiply as i,copy as e,hasIdentityRotation as s}from\"../../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as o,IDENTITY as r}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{l as a,t as h,k as n,j as m,g as d,q as l,d as c}from\"../../../../chunks/vec32.js\";import{create as g,fromValues as _}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{o as u,a as f,c as b}from\"../../../../chunks/sphere.js\";import{maxScale as v}from\"../../support/mathUtils.js\";import{Object3DOccludeeStateID as p,Object3DHighlightStateID as y}from\"./Object3DStateID.js\";import{assert as j}from\"./Util.js\";import{affectsGeometry as S}from\"./VertexAttribute.js\";import{addObject3DStateID as V,removeObject3DStateID as x}from\"../materials/renderers/utils.js\";class W{constructor(i={}){this.id=t(),this._highlightIds=new Set,this._shaderTransformation=null,this._visible=!0,this.castShadow=i.castShadow??!0,this.usesVerticalDistanceToGround=i.usesVerticalDistanceToGround??!1,this.graphicUid=i.graphicUid,this.layerViewUid=i.layerViewUid,i.isElevationSource&&(this.lastValidElevationBB=new A),this._geometries=i.geometries?Array.from(i.geometries):new Array}dispose(){this._geometries.length=0}get layer(){return this._layer}set layer(t){j(null==this._layer||null==t,\"Object3D can only be added to a single Layer\"),this._layer=t}addGeometry(t){t.visible=this._visible,this._geometries.push(t);for(const i of this._highlightIds)t.addHighlight(i);this._emit(\"geometryAdded\",{object:this,geometry:t}),this._highlightIds.size&&this._emit(\"highlightChanged\",this),this._invalidateBoundingVolume()}removeGeometry(t){const i=this._geometries.splice(t,1)[0];if(i){for(const t of this._highlightIds)i.removeHighlight(t);this._emit(\"geometryRemoved\",{object:this,geometry:i}),this._highlightIds.size&&this._emit(\"highlightChanged\",this),this._invalidateBoundingVolume()}}removeAllGeometries(){for(;this._geometries.length>0;)this.removeGeometry(0)}geometryVertexAttributeUpdated(t,i,e=!1){this._emit(\"attributesChanged\",{object:this,geometry:t,attribute:i,sync:e}),S(i)&&this._invalidateBoundingVolume()}get visible(){return this._visible}set visible(t){if(this._visible!==t){this._visible=t;for(const t of this._geometries)t.visible=this._visible;this._emit(\"visibilityChanged\",this)}}maskOccludee(){const t=new p;for(const i of this._geometries)i.occludees=V(i.occludees,t);return this._emit(\"occlusionChanged\",this),t}removeOcclude(t){for(const i of this._geometries)i.occludees=x(i.occludees,t);this._emit(\"occlusionChanged\",this)}highlight(t){const i=new y(t);for(const e of this._geometries)e.addHighlight(i);return this._emit(\"highlightChanged\",this),this._highlightIds.add(i),i}removeHighlight(t){this._highlightIds.delete(t);for(const i of this._geometries)i.removeHighlight(t);this._emit(\"highlightChanged\",this)}removeStateID(t){0===t.channel?this.removeHighlight(t):this.removeOcclude(t)}getCombinedStaticTransformation(t,e){return i(e,this.transformation,t.transformation)}getCombinedShaderTransformation(t,e=o()){return i(e,this.effectiveTransformation,t.transformation)}get boundingVolumeWorldSpace(){return this._bvWorldSpace||(this._bvWorldSpace=this._bvWorldSpace||new M,this._validateBoundingVolume(this._bvWorldSpace,0)),this._bvWorldSpace}get boundingVolumeObjectSpace(){return this._bvObjectSpace||(this._bvObjectSpace=this._bvObjectSpace||new M,this._validateBoundingVolume(this._bvObjectSpace,1)),this._bvObjectSpace}_validateBoundingVolume(t,i){const e=1===i;for(const s of this._geometries){const i=s.boundingInfo;i&&T(i,t,e?s.transformation:this.getCombinedShaderTransformation(s))}u(t.bounds,a(U,t.min,t.max,.5));for(const s of this._geometries){const i=s.boundingInfo;if(null==i)continue;const o=e?s.transformation:this.getCombinedShaderTransformation(s),r=v(o);h(U,i.center,o);const a=n(U,f(t.bounds)),m=i.radius*r;t.bounds[3]=Math.max(t.bounds[3],a+m)}}_invalidateBoundingVolume(){const t=this._bvWorldSpace?.bounds;this._bvObjectSpace=this._bvWorldSpace=void 0,this.layer&&t&&this.layer.notifyObjectBBChanged(this,t)}_emit(t,i){this.layer?.events.emit(t,i)}get geometries(){return this._geometries}get transformation(){return this._transformation??r}set transformation(t){this._transformation=e(this._transformation??o(),t),this._invalidateBoundingVolume(),this._emit(\"transformationChanged\",this)}get shaderTransformation(){return this._shaderTransformation}set shaderTransformation(t){this._shaderTransformation=t?e(this._shaderTransformation??o(),t):null,this._invalidateBoundingVolume(),this._emit(\"shaderTransformationChanged\",this)}get effectiveTransformation(){return this.shaderTransformation??this.transformation}get test(){}}class A{constructor(){this._data=[Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE,-Number.MAX_VALUE,-Number.MAX_VALUE,-Number.MAX_VALUE]}get min(){return _(this._data[0],this._data[1],this._data[2])}get max(){return _(this._data[3],this._data[4],this._data[5])}minWith(t){const{_data:i}=this;i[0]=Math.min(i[0],t[0]),i[1]=Math.min(i[1],t[1]),i[2]=Math.min(i[2],t[2])}maxWith(t){const{_data:i}=this;i[3]=Math.max(i[3],t[0]),i[4]=Math.max(i[4],t[1]),i[5]=Math.max(i[5],t[2])}assignMinMax(t,i){for(let e=0;e<3;++e)this._data[0+e]=t[e],this._data[3+e]=i[e]}isEmpty(){return this._data[3]<this._data[0]&&this._data[4]<this._data[1]&&this._data[5]<this._data[2]}}class M extends A{constructor(){super(...arguments),this.bounds=b()}}function T(t,i,e){const o=t.bbMin,r=t.bbMax;if(s(e)){const t=m(C,e[12],e[13],e[14]);return d(B,o,t),d(O,r,t),i.minWith(B),void i.maxWith(O)}if(h(B,o,e),l(o,r))return i.minWith(B),void i.maxWith(B);h(O,r,e),i.minWith(B),i.minWith(O),i.maxWith(B),i.maxWith(O);for(let s=0;s<3;++s)c(B,o),c(O,r),B[s]=r[s],O[s]=o[s],h(B,B,e),h(O,O,e),i.minWith(B),i.minWith(O),i.maxWith(B),i.maxWith(O)}const C=g(),B=g(),O=g(),U=g();export{M as BoundingVolume,W as Object3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Logger.js\";import{throwIfAborted as t}from\"../../../../core/promiseUtils.js\";import{hydrateGeometry as r}from\"../../../../layers/graphics/hydratedFeatures.js\";import{loadArcade as n}from\"../../../../support/loadArcade.js\";const c=()=>e.getLogger(\"esri.views.3d.layers.graphics.featureExpressionInfoUtils\");function o(e){return{cachedResult:e.cachedResult,arcade:e.arcade?{func:e.arcade.func,context:e.arcade.modules.arcadeUtils.createExecContext(null,{sr:e.arcade.context.spatialReference}),modules:e.arcade.modules}:null}}function u(e){const t=e?.expression;if(\"string\"==typeof t){const e=m(t);if(null!=e)return{cachedResult:e}}return null}async function a(e,r,c,o){const u=e?.expression;if(\"string\"!=typeof u)return null;const a=m(u);if(null!=a)return{cachedResult:a};const s=await n();t(c);const l=s.arcadeUtils,i=l.createSyntaxTree(u);return l.dependsOnView(i)?(null!=o&&o.error(\"Expressions containing '$view' are not supported on ElevationInfo\"),{cachedResult:0}):{arcade:{func:l.createFunction(i),context:l.createExecContext(null,{sr:r}),modules:s}}}function s(e,t,r){return e.arcadeUtils.createFeature(t.attributes,t.geometry,r)}function l(e,t){if(null!=e&&!p(e)){if(!t||!e.arcade)return void c().errorOncePerTick(\"Arcade support required but not provided\");const n=t;n._geometry&&(n._geometry=r(n._geometry)),e.arcade.modules.arcadeUtils.updateExecContext(e.arcade.context,t)}}function i(e){if(null!=e){if(p(e))return e.cachedResult;const t=e.arcade;let r=t?.modules.arcadeUtils.executeFunction(t.func,t.context);return\"number\"!=typeof r&&(e.cachedResult=0,r=0),r}return 0}function d(e,t=!1){let r=e?.featureExpressionInfo;const n=r?.expression;return t||\"0\"===n||(r=null),r??null}const f={cachedResult:0};function p(e){return null!=e.cachedResult}function m(e){return\"0\"===e?0:null}export{o as clone,a as createContext,u as createContextWithoutExpressionSupport,s as createFeature,i as execute,d as extractExpressionInfo,l as setContextFeature,f as zeroContext};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{getMetersPerUnit as t,supportsUnit as e}from\"../../../../symbols/support/unitConversionUtils.js\";import{execute as n,clone as s,setContextFeature as i,createFeature as r}from\"./featureExpressionInfoUtils.js\";class o{constructor(){this._meterUnitOffset=0,this._renderUnitOffset=0,this._unit=\"meters\",this._metersPerElevationInfoUnit=1,this._featureExpressionInfoContext=null,this.mode=null,this.centerInElevationSR=null}get featureExpressionInfoContext(){return this._featureExpressionInfoContext}get meterUnitOffset(){return this._meterUnitOffset}get unit(){return this._unit}set unit(e){this._unit=e,this._metersPerElevationInfoUnit=t(e)}get requiresSampledElevationInfo(){return\"absolute-height\"!==this.mode}reset(){this.mode=null,this._meterUnitOffset=0,this._renderUnitOffset=0,this._featureExpressionInfoContext=null,this.unit=\"meters\"}set offsetMeters(t){this._meterUnitOffset=t,this._renderUnitOffset=0}set offsetElevationInfoUnits(t){this._meterUnitOffset=t*this._metersPerElevationInfoUnit,this._renderUnitOffset=0}addOffsetRenderUnits(t){this._renderUnitOffset+=t}geometryZWithOffset(t,e){const n=this.calculateOffsetRenderUnits(e);return null!=this.featureExpressionInfoContext?n:t+n}calculateOffsetRenderUnits(t){let e=this._meterUnitOffset;const s=this.featureExpressionInfoContext;return null!=s&&(e+=n(s)*this._metersPerElevationInfoUnit),e/t.unitInMeters+this._renderUnitOffset}setFromElevationInfo(t){this.mode=t.mode,this.unit=e(t.unit)?t.unit:\"meters\",this.offsetElevationInfoUnits=t.offset??0}setFeatureExpressionInfoContext(t){this._featureExpressionInfoContext=t}updateFeatureExpressionInfoContextForGraphic(t,e,n){t.arcade?(this._featureExpressionInfoContext=s(t),this.updateFeatureExpressionFeature(e,n)):this._featureExpressionInfoContext=t}updateFeatureExpressionFeature(t,e){const n=this.featureExpressionInfoContext;n?.arcade&&(n.cachedResult=void 0,i(this._featureExpressionInfoContext,t.geometry?r(n.arcade.modules,t,e):null))}static fromElevationInfo(t){const e=new o;return null!=t&&e.setFromElevationInfo(t),e}}export{o as ElevationContext};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import{newLayout as e}from\"../../support/buffer/InterleavedLayout.js\";import{isColorOrColorEmission as t}from\"../core/shaderLibrary/ShaderOutput.js\";import{ReloadableShaderModule as i}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as r,depthOnlyOutputBuffersOr as l}from\"../core/shaderTechnique/ShaderTechnique.js\";import{olidEnabled as s}from\"../effects/geometry/olidUtils.js\";import{OITPolygonOffset as n,depthWrite as o,oitDepthTest as u,blending as c,getDrawBuffers as a}from\"../lib/OrderIndependentTransparency.js\";import{stencilToolMaskBaseParams as p,stencilBaseAllZerosParams as f,stencilWriteMaskOn as d,stencilToolTransparentOccluderParams as h,depthCompareAlways as m,stencilToolMaskOccluderParams as P,stencilWriteMaskOff as g,depthCompareLess as b}from\"../lib/StencilUtils.js\";import{R as T}from\"../../../../chunks/RibbonLine.glsl.js\";import{PrimitiveType as W}from\"../../../webgl/enums.js\";import{makePipelineState as y,defaultColorWrite as O,unpremultipliedAlphaToPremultipliedAlpha as j}from\"../../../webgl/renderState.js\";class S extends r{constructor(e,t){super(e,t,new i(T,()=>import(\"./RibbonLine.glsl.js\")),v(t).locations),this.primitiveType=t.wireframe?W.LINES:W.TRIANGLE_STRIP}_makePipelineState(e,i){const{oitPass:r,output:s,hasOccludees:h,hasPolygonOffset:m}=e,P=0===r,g=2===r;return y({blending:t(s)?c(r):null,depthTest:{func:u(r)},depthWrite:o(e),drawBuffers:l(s,a(r,s)),colorWrite:O,stencilWrite:h?d:null,stencilTest:h?i?p:f:null,polygonOffset:P||g?m?_:null:n})}initializePipeline(e){if(e.occluder){const t=e.hasPolygonOffset?_:null,{output:i,hasOccludees:r}=e;this._occluderPipelineTransparent=y({blending:j,polygonOffset:t,depthTest:m,depthWrite:null,colorWrite:O,stencilWrite:null,stencilTest:r?h:null,drawBuffers:l(i)}),this._occluderPipelineOpaque=y({blending:j,polygonOffset:t,depthTest:r?m:b,depthWrite:null,colorWrite:O,stencilWrite:r?g:null,stencilTest:r?P:null,drawBuffers:l(i)}),this._occluderPipelineMaskWrite=y({blending:null,polygonOffset:t,depthTest:b,depthWrite:null,colorWrite:null,stencilWrite:r?d:null,stencilTest:r?p:null,drawBuffers:l(i)})}return this._occludeePipeline=this._makePipelineState(e,!0),this._makePipelineState(e,!1)}getPipeline(e,t){if(e)return this._occludeePipeline;switch(t){case 11:return this._occluderPipelineTransparent??super.getPipeline();case 10:return this._occluderPipelineOpaque??super.getPipeline();default:return this._occluderPipelineMaskWrite??super.getPipeline()}}}const _={factor:0,units:-4};function v(t){const i=e().vec3f(\"position\").vec4f16(\"previousDelta\").vec4f16(\"nextDelta\").f32(\"u0\").vec2f16(\"lineParameters\");return t.hasVVColor?i.f32(\"colorFeatureAttribute\"):i.vec4u8(\"color\",{glNormalized:!0}),t.hasVVSize?i.f32(\"sizeFeatureAttribute\"):i.f32(\"size\"),t.hasVVOpacity&&i.f32(\"opacityFeatureAttribute\"),s()&&i.vec4u8(\"olidColor\"),t.hasAnimation&&i.vec4f16(\"timeStamps\"),i}export{S as RibbonLineTechnique,v as getLayout};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as o}from\"tslib\";import{parameter as t}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{DefaultTechniqueConfiguration as e}from\"../materials/DefaultTechniqueConfiguration.js\";class i extends e{constructor(o){super(),this.spherical=o,this.capType=0,this.emissionSource=0,this.hasPolygonOffset=!1,this.writeDepth=!1,this.draped=!1,this.stippleEnabled=!1,this.stippleOffColorEnabled=!1,this.stipplePreferContinuous=!0,this.roundJoins=!1,this.applyMarkerOffset=!1,this.hasVVSize=!1,this.hasVVColor=!1,this.hasVVOpacity=!1,this.falloffEnabled=!1,this.innerColorEnabled=!1,this.hasOccludees=!1,this.occluder=!1,this.terrainDepthTest=!1,this.cullAboveTerrain=!1,this.wireframe=!1,this.discardInvisibleFragments=!1,this.animation=2,this.hasScreenSizePerspective=!1,this.textureCoordinateType=0,this.occlusionPass=!1,this.hasVVInstancing=!1,this.hasSliceTranslatedView=!0,this.overlayEnabled=!1,this.snowCover=!1}get hasAnimation(){return 0!==this.animation}}o([t({count:3})],i.prototype,\"capType\",void 0),o([t({count:8})],i.prototype,\"emissionSource\",void 0),o([t()],i.prototype,\"hasPolygonOffset\",void 0),o([t()],i.prototype,\"writeDepth\",void 0),o([t()],i.prototype,\"draped\",void 0),o([t()],i.prototype,\"stippleEnabled\",void 0),o([t()],i.prototype,\"stippleOffColorEnabled\",void 0),o([t()],i.prototype,\"stipplePreferContinuous\",void 0),o([t()],i.prototype,\"roundJoins\",void 0),o([t()],i.prototype,\"applyMarkerOffset\",void 0),o([t()],i.prototype,\"hasVVSize\",void 0),o([t()],i.prototype,\"hasVVColor\",void 0),o([t()],i.prototype,\"hasVVOpacity\",void 0),o([t()],i.prototype,\"falloffEnabled\",void 0),o([t()],i.prototype,\"innerColorEnabled\",void 0),o([t()],i.prototype,\"hasOccludees\",void 0),o([t()],i.prototype,\"occluder\",void 0),o([t()],i.prototype,\"terrainDepthTest\",void 0),o([t()],i.prototype,\"cullAboveTerrain\",void 0),o([t()],i.prototype,\"wireframe\",void 0),o([t()],i.prototype,\"discardInvisibleFragments\",void 0),o([t({count:4})],i.prototype,\"animation\",void 0),o([t()],i.prototype,\"hasScreenSizePerspective\",void 0);export{i as RibbonLineTechniqueConfiguration};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport t from\"../../../../core/Logger.js\";import{clamp as e}from\"../../../../core/mathUtils.js\";import{createRenderScreenPointArray3 as i}from\"../../../../core/screenUtils.js\";import{secondsFromMilliseconds as r}from\"../../../../core/time.js\";import{copy as s}from\"../../../../core/libs/gl-matrix-2/math/vec2.js\";import{j as a,e as n,f as o,h as l,g as h,d as c,b as m,k as p,t as u}from\"../../../../chunks/vec32.js\";import{create as f}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{s as d}from\"../../../../chunks/vec42.js\";import{ONES as g,create as b}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{makeFloat16Array as _}from\"../../../../geometry/support/float16.js\";import{distance2 as S,fromPoints as v,create as P,closestLineSegmentPoint as j}from\"../../../../geometry/support/lineSegment.js\";import{fromPoints as E,create as w,signedDistance as y,getNormal as T}from\"../../../../geometry/support/plane.js\";import{isHighlightOrOID as z,isColorOrColorEmission as A,isDepth as C,isColorEmissionHighlightOIDOrDepth as O,is2DGeometryOutput as L}from\"../core/shaderLibrary/ShaderOutput.js\";import{olidEnabled as M}from\"../effects/geometry/olidUtils.js\";import V from\"../lib/GLMaterial.js\";import{Material as R}from\"../lib/Material.js\";import{isTranslationMatrix as x}from\"../lib/Util.js\";import{VisualVariablePassParameters as F}from\"./VisualVariablePassParameters.js\";import{writeDeltaF16Vector as k}from\"./internal/bufferWriterUtils.js\";import{r as N}from\"../../../../chunks/RibbonLine.glsl.js\";import{getLayout as U,RibbonLineTechnique as D}from\"../shaders/RibbonLineTechnique.js\";import{RibbonLineTechniqueConfiguration as B}from\"../shaders/RibbonLineTechniqueConfiguration.js\";import{alphaCutoff as W}from\"../../../../webscene/support/AlphaCutoff.js\";class J extends R{constructor(t,e){super(t,q),this.produces=new Map([[2,t=>z(t)||A(t)&&8===this.parameters.renderOccluded],[3,t=>C(t)],[10,t=>O(t)&&8===this.parameters.renderOccluded],[11,t=>O(t)&&8===this.parameters.renderOccluded],[4,t=>A(t)&&this.parameters.writeDepth&&8!==this.parameters.renderOccluded],[8,t=>A(t)&&!this.parameters.writeDepth&&8!==this.parameters.renderOccluded],[18,t=>L(t)]]),this._configuration=new B(e)}getConfiguration(t,e){super.getConfiguration(t,e,this._configuration),this._configuration.oitPass=e.oitPass,this._configuration.draped=18===e.slot;const i=null!=this.parameters.stipplePattern&&9!==t;return this._configuration.stippleEnabled=i,this._configuration.stippleOffColorEnabled=i&&null!=this.parameters.stippleOffColor,this._configuration.stipplePreferContinuous=i&&this.parameters.stipplePreferContinuous,this._configuration.hasSlicePlane=this.parameters.hasSlicePlane,this._configuration.roundJoins=\"round\"===this.parameters.join,this._configuration.capType=this.parameters.cap,this._configuration.applyMarkerOffset=null!=this.parameters.markerParameters&&H(this.parameters.markerParameters),this._configuration.hasPolygonOffset=this.parameters.hasPolygonOffset,this._configuration.writeDepth=this.parameters.writeDepth,this._configuration.hasVVSize=this.parameters.hasVVSize,this._configuration.hasVVColor=this.parameters.hasVVColor,this._configuration.hasVVOpacity=this.parameters.hasVVOpacity,this._configuration.innerColorEnabled=this.parameters.innerWidth>0&&null!=this.parameters.innerColor,this._configuration.falloffEnabled=this.parameters.falloff>0,this._configuration.hasOccludees=e.hasOccludees,this._configuration.occluder=8===this.parameters.renderOccluded,this._configuration.terrainDepthTest=e.terrainDepthTest&&A(t),this._configuration.cullAboveTerrain=e.cullAboveTerrain,this._configuration.wireframe=this.parameters.wireframe,this._configuration.animation=this.parameters.animation,this._configuration.emissionSource=this.hasEmissions?1:0,this._configuration.hasScreenSizePerspective=!!this.parameters.screenSizePerspective,this._configuration}get visible(){return this.parameters.color[3]>=W||null!=this.parameters.stipplePattern&&(this.parameters.stippleOffColor?.[3]??0)>W}setParameters(t,e){t.animation=this.parameters.animation,super.setParameters(t,e)}intersectDraped({attributes:t,screenToWorldRatio:i},r,s,a,n){if(!r.options.selectionMode)return;const o=t.get(\"size\");let l=this.parameters.width;if(this.parameters.vvSize){const i=t.get(\"sizeFeatureAttribute\").data[0];Number.isNaN(i)?l*=this.parameters.vvSize.fallback[0]:l*=e(this.parameters.vvSize.offset[0]+i*this.parameters.vvSize.factor[0],this.parameters.vvSize.minSize[0],this.parameters.vvSize.maxSize[0])}else o&&(l*=o.data[0]);const h=s[0],c=s[1],m=(l/2+4)*i;let p=Number.MAX_VALUE,u=0;const f=t.get(\"position\").data,d=I(this.parameters,t)?f.length-2:f.length-5;for(let g=0;g<d;g+=3){const t=f[g],i=f[g+1],r=(g+3)%f.length,s=h-t,a=c-i,n=f[r]-t,o=f[r+1]-i,l=e((n*s+o*a)/(n*n+o*o),0,1),m=n*l-s,d=o*l-a,b=m*m+d*d;b<p&&(p=b,u=g/3)}p<m*m&&a(n.distance,n.normal,u)}intersect(i,r,u,f,d,g){const{options:b,camera:_,rayBegin:P,rayEnd:w}=u;if(!b.selectionMode||!i.visible||!_)return;if(!x(r))return void t.getLogger(\"esri.views.3d.webgl-engine.materials.RibbonLineMaterial\").error(\"intersection assumes a translation-only matrix\");const z=i.attributes,A=z.get(\"position\").data;let C=this.parameters.width;if(this.parameters.vvSize){const t=z.get(\"sizeFeatureAttribute\").data[0];Number.isNaN(t)||(C*=e(this.parameters.vvSize.offset[0]+t*this.parameters.vvSize.factor[0],this.parameters.vvSize.minSize[0],this.parameters.vvSize.maxSize[0]))}else z.has(\"size\")&&(C*=z.get(\"size\").data[0]);const O=tt;s(O,u.point);const L=C*_.pixelRatio/2+4*_.pixelRatio;a(mt[0],O[0]-L,O[1]+L,0),a(mt[1],O[0]+L,O[1]+L,0),a(mt[2],O[0]+L,O[1]-L,0),a(mt[3],O[0]-L,O[1]-L,0);for(let t=0;t<4;t++)if(!_.unprojectFromRenderScreen(mt[t],pt[t]))return;E(_.eye,pt[0],pt[1],ut),E(_.eye,pt[1],pt[2],ft),E(_.eye,pt[2],pt[3],dt),E(_.eye,pt[3],pt[0],gt);let M=Number.MAX_VALUE,V=0;const R=I(this.parameters,z)?A.length-2:A.length-5;for(let t=0;t<R;t+=3){K[0]=A[t]+r[12],K[1]=A[t+1]+r[13],K[2]=A[t+2]+r[14];const e=(t+3)%A.length;if(Q[0]=A[e]+r[12],Q[1]=A[e+1]+r[13],Q[2]=A[e+2]+r[14],y(ut,K)<0&&y(ut,Q)<0||y(ft,K)<0&&y(ft,Q)<0||y(dt,K)<0&&y(dt,Q)<0||y(gt,K)<0&&y(gt,Q)<0)continue;const i=_.projectToRenderScreen(K,et),s=_.projectToRenderScreen(Q,it);if(null==i||null==s)continue;if(i[2]<0&&s[2]>0){n(Z,K,Q);const t=_.frustum,e=-y(t[4],K)/o(Z,T(t[4]));if(l(Z,Z,e),h(K,K,Z),!_.projectToRenderScreen(K,i))continue}else if(i[2]>0&&s[2]<0){n(Z,Q,K);const t=_.frustum,e=-y(t[4],Q)/o(Z,T(t[4]));if(l(Z,Z,e),h(Q,Q,Z),!_.projectToRenderScreen(Q,s))continue}else if(i[2]<0&&s[2]<0)continue;i[2]=0,s[2]=0;const a=S(v(i,s,at),O);a<M&&(M=a,c(rt,K),c(st,Q),V=t/3)}if(M<L*L){let t=Number.MAX_VALUE;if(j(v(rt,st,at),v(P,w,nt),$)){n($,$,P);const e=m($);l($,$,1/e),t=e/p(P,w)}g(t,$,V)}}get hasEmissions(){return this.parameters.emissiveStrength>0}createBufferWriter(){return new X(U(this.parameters),this.parameters)}createGLMaterial(t){return new Y(t)}validateParameters(t){\"miter\"!==t.join&&(t.miterLimit=0),null!=t.markerParameters&&(t.markerScale=t.markerParameters.width/t.width)}update(t){const{hasAnimation:e}=this.parameters;return!!e&&(this.setParameters({timeElapsed:r(t.time)},!1),0!==t.dt)}}class Y extends V{constructor(){super(...arguments),this._stipplePattern=null}dispose(){super.dispose(),this._stippleTextures?.release(this._stipplePattern),this._stipplePattern=null}beginSlot(t){const e=this._material.parameters.stipplePattern;return this._stipplePattern!==e&&(this._material.setParameters({stippleTexture:this._stippleTextures.swap(e,this._stipplePattern)}),this._stipplePattern=e),this.getTechnique(D,t)}}class q extends F{constructor(){super(...arguments),this.width=0,this.color=g,this.join=\"miter\",this.cap=0,this.miterLimit=5,this.writeDepth=!0,this.hasPolygonOffset=!1,this.stippleTexture=null,this.stipplePreferContinuous=!0,this.markerParameters=null,this.markerScale=1,this.hasSlicePlane=!1,this.vvFastUpdate=!1,this.isClosed=!1,this.falloff=0,this.innerWidth=0,this.wireframe=!1,this.timeElapsed=0,this.animation=0,this.animationSpeed=1,this.trailLength=1,this.startTime=0,this.endTime=1/0,this.fadeInTime=0,this.fadeOutTime=1/0,this.emissiveStrength=0}get transparent(){return this.color[3]<1||this.hasAnimation||null!=this.stipplePattern&&(this.stippleOffColor?.[3]??0)<1}get hasAnimation(){return 0!==this.animation}}class X{constructor(t,e){this.layout=t,this._parameters=e;const i=e.stipplePattern?1:0;switch(this._parameters.join){case\"miter\":case\"bevel\":this.numJoinSubdivisions=i;break;case\"round\":this.numJoinSubdivisions=N+i}}_isClosed(t){return I(this._parameters,t)}allocate(t){return this.layout.createBuffer(t)}elementCount(t){const e=2,i=t.get(\"position\").indices.length/2+1,r=this._isClosed(t);let s=r?2:2*e;return s+=((r?i:i-1)-(r?0:1))*(2*this.numJoinSubdivisions+4),s+=2,this._parameters.wireframe&&(s=2+4*(s-2)),s}write(t,e,i,r,s,n){const o=this.layout,l=i.get(\"position\"),h=l.indices,m=l.data.length/3,f=i.get(\"distanceToStart\")?.data;h&&h.length!==2*(m-1)&&console.warn(\"RibbonLineMaterial does not support indices\");const g=o.fields.has(\"sizeFeatureAttribute\");let b=1,S=null;if(g){const t=i.get(\"sizeFeatureAttribute\");1===t.data.length?b=t.data[0]:S=t.data}else b=i.get(\"size\")?.data[0]??1;let v=[1,1,1,1],P=0,j=null;const E=o.fields.has(\"colorFeatureAttribute\");if(E){const t=i.get(\"colorFeatureAttribute\");1===t.data.length?P=t.data[0]:j=t.data}else v=i.get(\"color\")?.data??v;const w=i.get(\"timeStamps\")?.data,y=w&&o.fields.has(\"timeStamps\"),T=o.fields.has(\"opacityFeatureAttribute\");let z=0,A=null;if(T){const t=i.get(\"opacityFeatureAttribute\");1===t.data.length?z=t.data[0]:A=t.data}const C=new Float32Array(s.buffer),O=_(s.buffer),L=new Uint8Array(s.buffer),V=o.stride/4;let R=n*V;const x=R;let F=0;const N=f?(t,e,i)=>F=f[i]:(t,e,i)=>F+=p(t,e),U=C.BYTES_PER_ELEMENT/O.BYTES_PER_ELEMENT,D=4/U,B=M(),W=(t,e,i,s,a,n,o,l)=>{C[R++]=e[0],C[R++]=e[1],C[R++]=e[2],k(t,e,O,R*U),R+=D,k(i,e,O,R*U),R+=D,C[R++]=l;let h=R*U;if(O[h++]=a,O[h++]=n,R=Math.ceil(h/U),E)C[R]=j?.[o]??P;else{const t=Math.min(4*o,v.length-4),e=4*R;L[e]=255*v[t],L[e+1]=255*v[t+1],L[e+2]=255*v[t+2],L[e+3]=255*v[t+3]}if(R++,C[R++]=S?.[o]??b,T&&(C[R++]=A?.[o]??z),B){let t=4*R;r?(L[t++]=r[0],L[t++]=r[1],L[t++]=r[2],L[t++]=r[3]):(L[t++]=0,L[t++]=0,L[t++]=0,L[t++]=0),R=Math.ceil(.25*t)}y&&(h=R*U,O[h++]=s[0],O[h++]=s[1],O[h++]=s[2],O[h++]=s[3],R=Math.ceil(h/U))};R+=V,a(lt,l.data[0],l.data[1],l.data[2]),y&&d(ct,w[0],w[1],w[2],w[3]),t&&u(lt,lt,t);const J=this._isClosed(i);if(J){const e=l.data.length-3;a(ot,l.data[e],l.data[e+1],l.data[e+2]),t&&u(ot,ot,t)}else a(ht,l.data[3],l.data[4],l.data[5]),t&&u(ht,ht,t),W(lt,lt,ht,ct,1,-4,0,0),W(lt,lt,ht,ct,1,4,0,0),c(ot,lt),c(lt,ht),y&&d(ct,w[4],w[5],w[6],w[7]);const Y=J?0:1,q=J?m:m-1;for(let p=Y;p<q;p++){const e=(p+1)%m*3;a(ht,l.data[e],l.data[e+1],l.data[e+2]),t&&u(ht,ht,t),N(ot,lt,p),W(ot,lt,ht,ct,0,-1,p,F),W(ot,lt,ht,ct,0,1,p,F);const i=this.numJoinSubdivisions;for(let t=0;t<i;++t){const e=(t+1)/(i+1);W(ot,lt,ht,ct,e,-1,p,F),W(ot,lt,ht,ct,e,1,p,F)}if(W(ot,lt,ht,ct,1,-2,p,F),W(ot,lt,ht,ct,1,2,p,F),c(ot,lt),c(lt,ht),y){const t=(p+1)%m*4;d(ct,w[t],w[t+1],w[t+2],w[t+3])}}J?(a(ht,l.data[3],l.data[4],l.data[5]),t&&u(ht,ht,t),F=N(ot,lt,q),W(ot,lt,ht,ct,0,-1,Y,F),W(ot,lt,ht,ct,0,1,Y,F)):(F=N(ot,lt,q),W(ot,lt,lt,ct,0,-5,q,F),W(ot,lt,lt,ct,0,5,q,F)),G(C,x+V,C,x,V);return R=G(C,R-V,C,R,V),this._parameters.wireframe&&this._addWireframeVertices(s,x,R,V),null}_addWireframeVertices(t,e,i,r){const s=new Float32Array(t.buffer,i*Float32Array.BYTES_PER_ELEMENT),a=new Float32Array(t.buffer,e*Float32Array.BYTES_PER_ELEMENT,i-e);let n=0;const o=t=>n=G(a,t,s,n,r);for(let l=0;l<a.length-1;l+=2*r)o(l),o(l+2*r),o(l+1*r),o(l+2*r),o(l+1*r),o(l+3*r)}}function G(t,e,i,r,s){for(let a=0;a<s;a++)i[r++]=t[e++];return r}function I(t,e){if(!t.isClosed)return!1;return e.get(\"position\").indices.length>2}function H(t){return 1===t.anchor&&t.hideOnShortSegments&&\"begin-end\"===t.placement&&t.worldSpace}const K=f(),Q=f(),Z=f(),$=f(),tt=f(),et=i(),it=i(),rt=f(),st=f(),at=P(),nt=P(),ot=f(),lt=f(),ht=f(),ct=b(),mt=[i(),i(),i(),i()],pt=[f(),f(),f(),f()],ut=w(),ft=w(),dt=w(),gt=w();export{q as Parameters,J as RibbonLineMaterial};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{ProceduralTextureRepository as t}from\"./ProceduralTextureRepository.js\";import{PixelType as e,SizedPixelFormat as r}from\"../../../webgl/enums.js\";import{Texture as o}from\"../../../webgl/Texture.js\";import{TextureDescriptor as n}from\"../../../webgl/TextureDescriptor.js\";function i(i,u){return new t(t=>{const{data:u,textureSize:l}=a(t),p=new n(l,1);return p.dataType=e.FLOAT,p.pixelFormat=6403,p.internalFormat=r.R16F,p.wrapMode=10497,new o(i,p,u)},t=>`${t.pattern.join(\",\")}-r${t.pixelRatio}`,u)}function a(t){const e=u(t),r=1/t.pixelRatio,o=l(t),n=[];let i=1;for(const u of e){for(let t=0;t<u;t++){const e=i*(Math.min(t,u-1-t)+.5)*r;n.push(e)}i=-i}const a=Math.round(e[0]/2);return{data:new Float32Array([...n.slice(a),...n.slice(0,a)]),textureSize:o}}function u(t){return t.pattern.map(e=>Math.round(e*t.pixelRatio))}function l(t){if(null==t)return 1;const e=u(t);return Math.floor(e.reduce((t,e)=>t+e))}export{l as computeTextureSize,i as createStippleTextureRepository};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{s as r}from\"../../../../chunks/vec42.js\";import{ZEROS as o,create as t}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";function s(t){return null==t?o:4===t.length?t:r(c,t[0],t[1],t[2],1)}const c=t();export{s as ensureColor4};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{NoPerspectiveRead as e}from\"../util/NoPerspective.glsl.js\";import{addCameraPosition as t,addPixelRatio as o}from\"../util/View.glsl.js\";import{Float4PassUniform as r}from\"../../shaderModules/Float4PassUniform.js\";import{FloatBindUniform as i}from\"../../shaderModules/FloatBindUniform.js\";import{FloatPassUniform as l}from\"../../shaderModules/FloatPassUniform.js\";import{glsl as a,If as s}from\"../../shaderModules/glsl.js\";import{Texture2DPassUniform as n}from\"../../shaderModules/Texture2DPassUniform.js\";import{computeTextureSize as p}from\"../../../materials/stippleTextureRepository.js\";import{ensureColor4 as d}from\"../../../shaders/ensureColor4.js\";function c(p,c){if(!c.stippleEnabled)return void p.fragment.code.add(a`float getStippleAlpha(float lineWidth) { return 1.0; }\nvoid discardByStippleAlpha(float stippleAlpha, float threshold) {}\nvec4 blendStipple(vec4 color, float stippleAlpha) { return color; }`);const u=!(c.draped&&c.stipplePreferContinuous),{vertex:S,fragment:h}=p;c.draped||(t(S,c),S.uniforms.add(new i(\"worldToScreenPerDistanceRatio\",({camera:e})=>1/e.perScreenPixelRatio)).code.add(a`float computeWorldToScreenRatio(vec3 segmentCenter) {\nfloat segmentDistanceToCamera = length(segmentCenter - cameraPosition);\nreturn worldToScreenPerDistanceRatio / segmentDistanceToCamera;\n}`)),p.varyings.add(\"vStippleDistance\",\"float\"),p.varyings.add(\"vStippleDistanceLimits\",\"vec2\"),p.varyings.add(\"vStipplePatternStretch\",\"float\"),S.code.add(a`\n    float discretizeWorldToScreenRatio(float worldToScreenRatio) {\n      float step = ${a.float(m)};\n\n      float discreteWorldToScreenRatio = log(worldToScreenRatio);\n      discreteWorldToScreenRatio = ceil(discreteWorldToScreenRatio / step) * step;\n      discreteWorldToScreenRatio = exp(discreteWorldToScreenRatio);\n      return discreteWorldToScreenRatio;\n    }\n  `),o(S),S.code.add(a`\n    vec2 computeStippleDistanceLimits(float startPseudoScreen, float segmentLengthPseudoScreen, float segmentLengthScreen, float patternLength) {\n\n      // First check if the segment is long enough to support fully screen space patterns.\n      // Force sparse mode for segments that are very large in screen space even if it is not allowed,\n      // to avoid imprecision from calculating with large floats.\n      if (segmentLengthPseudoScreen >= ${u?\"patternLength\":\"1e4\"}) {\n        // Round the screen length to get an integer number of pattern repetitions (minimum 1).\n        float repetitions = segmentLengthScreen / (patternLength * pixelRatio);\n        float flooredRepetitions = max(1.0, floor(repetitions + 0.5));\n        float segmentLengthScreenRounded = flooredRepetitions * patternLength;\n\n        float stretch = repetitions / flooredRepetitions;\n\n        // We need to impose a lower bound on the stretch factor to prevent the dots from merging together when there is only 1 repetition.\n        // 0.75 is the lowest possible stretch value for flooredRepetitions > 1, so it makes sense as lower bound.\n        vStipplePatternStretch = max(0.75, stretch);\n\n        return vec2(0.0, segmentLengthScreenRounded);\n      }\n      return vec2(startPseudoScreen, startPseudoScreen + segmentLengthPseudoScreen);\n    }\n  `),h.uniforms.add(new n(\"stipplePatternTexture\",e=>e.stippleTexture),new l(\"stipplePatternPixelSizeInv\",e=>1/f(e))),c.stippleOffColorEnabled&&h.uniforms.add(new r(\"stippleOffColor\",e=>d(e.stippleOffColor))),p.include(e),h.code.add(a`float getStippleSDF(out bool isClamped) {\nfloat stippleDistanceClamped = noPerspectiveRead(clamp(vStippleDistance, vStippleDistanceLimits.x, vStippleDistanceLimits.y));\nfloat lineSizeInv = noPerspectiveRead(vLineSizeInv);\nvec2 aaCorrectedLimits = vStippleDistanceLimits + vec2(1.0, -1.0) / gl_FragCoord.w;\nisClamped = vStippleDistance < aaCorrectedLimits.x || vStippleDistance > aaCorrectedLimits.y;\nfloat u = stippleDistanceClamped * stipplePatternPixelSizeInv * lineSizeInv;\nu = fract(u);\nfloat sdf = texture(stipplePatternTexture, vec2(u, 0.5)).r;\nreturn (sdf - 0.5) * vStipplePatternStretch + 0.5;\n}\nfloat getStippleSDF() {\nbool ignored;\nreturn getStippleSDF(ignored);\n}\nfloat getStippleAlpha(float lineWidth) {\nbool isClamped;\nfloat stippleSDF = getStippleSDF(isClamped);\nfloat antiAliasedResult = clamp(stippleSDF * lineWidth + 0.5, 0.0, 1.0);\nreturn isClamped ? floor(antiAliasedResult + 0.5) : antiAliasedResult;\n}`),h.code.add(a`\n    void discardByStippleAlpha(float stippleAlpha, float threshold) {\n     ${s(!c.stippleOffColorEnabled,\"if (stippleAlpha < threshold) { discard; }\")}\n    }\n\n    vec4 blendStipple(vec4 color, float stippleAlpha) {\n      return ${c.stippleOffColorEnabled?\"mix(color, stippleOffColor, stippleAlpha)\":\"vec4(color.rgb, color.a * stippleAlpha)\"};\n    }\n  `)}function f(e){const t=e.stipplePattern;return t?p(e.stipplePattern)/t.pixelRatio:1}const m=.4;export{c as LineStipple,f as computePixelSize};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nfunction n(n){return\"position\"===n}export{n as affectsGeometry};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{copy as e}from\"../../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as t}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{create as n}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{computeTranslationToOriginAndRotation as o}from\"../../../../geometry/projection/computeTranslationToOriginAndRotation.js\";import{projectBuffer as r}from\"../../../../geometry/projection/projectBuffer.js\";import{isDehydratedPoint as i}from\"../../../../layers/graphics/dehydratedFeatureUtils.js\";import{isSamplePosition as a,getElevationAtPoint as s}from\"../../support/ElevationProvider.js\";function l(e,t,n,o,i,a,s,l,c,u,f){const d=b[f.mode];let m,g,p=0;if(r(e,t,n,o,c.spatialReference,i,l))return d?.requiresAlignment(f)?(p=d.applyElevationAlignmentBuffer(o,i,a,s,l,c,u,f),m=a,g=s):(m=o,g=i),r(m,c.spatialReference,g,a,u.spatialReference,s,l)?p:void 0}function c(e,t,n,o,r){const l=(i(e)?e.z:a(e)?e.array[e.offset+2]:e[2])||0;switch(n.mode){case\"on-the-ground\":{const n=s(t,e,\"ground\")??0;return r.verticalDistanceToGround=0,r.sampledElevation=n,void(r.z=n)}case\"relative-to-ground\":{const i=s(t,e,\"ground\")??0,a=n.geometryZWithOffset(l,o);return r.verticalDistanceToGround=a,r.sampledElevation=i,void(r.z=a+i)}case\"relative-to-scene\":{const i=s(t,e,\"scene\")??0,a=n.geometryZWithOffset(l,o);return r.verticalDistanceToGround=a,r.sampledElevation=i,void(r.z=a+i)}case\"absolute-height\":{const i=n.geometryZWithOffset(l,o),a=s(t,e,\"ground\")??0;return r.verticalDistanceToGround=i-a,r.sampledElevation=a,void(r.z=i)}default:return void(r.z=0)}}function u(e,t,n,o){return c(e,t,n,o,j),j.z}function f(e,t,n){return\"on-the-ground\"===t&&\"on-the-ground\"===n?e.staysOnTheGround:t===n||\"on-the-ground\"!==t&&\"on-the-ground\"!==n?null==t||null==n?e.definedChanged:1:e.onTheGroundChanged}function d(e){return\"relative-to-ground\"===e||\"relative-to-scene\"===e}function m(e){return\"absolute-height\"!==e}function g(t,n,r,i,a){c(n,r,a,i,j),p(t,j.verticalDistanceToGround);const s=j.sampledElevation,l=e(R,t.transformation);O[0]=n.x,O[1]=n.y,O[2]=j.z;return o(n.spatialReference,O,l,i.spatialReference)?t.transformation=l:console.warn(\"Could not locate symbol object properly, it might be misplaced\"),s}function p(e,t){for(let n=0;n<e.geometries.length;++n){const o=e.geometries[n].getMutableAttribute(\"centerOffsetAndDistance\");o&&o.data[3]!==t&&(o.data[3]=t,e.geometryVertexAttributeUpdated(e.geometries[n],\"centerOffsetAndDistance\"))}}function v(e,t,n,o,r,i){let a=0;const s=i.spatialReference;t*=3,o*=3;for(let l=0;l<r;++l){const r=e[t],l=e[t+1],c=e[t+2],u=i.getElevation(r,l,c,s,\"ground\")??0;a+=u,n[o]=r,n[o+1]=l,n[o+2]=u,t+=3,o+=3}return a/r}function h(e,t,n,o,r,i,a,s){let l=0;const c=s.calculateOffsetRenderUnits(a),u=s.featureExpressionInfoContext,f=i.spatialReference;t*=3,o*=3;for(let d=0;d<r;++d){const r=e[t],a=e[t+1],s=e[t+2],d=i.getElevation(r,a,s,f,\"ground\")??0;l+=d,n[o]=r,n[o+1]=a,n[o+2]=null==u?s+d+c:d+c,t+=3,o+=3}return l/r}function E(e,t,n,o,r,i,a,s){let l=0;const c=s.calculateOffsetRenderUnits(a),u=s.featureExpressionInfoContext,f=i.spatialReference;t*=3,o*=3;for(let d=0;d<r;++d){const r=e[t],a=e[t+1],s=e[t+2],d=i.getElevation(r,a,s,f,\"scene\")??0;l+=d,n[o]=r,n[o+1]=a,n[o+2]=null==u?s+d+c:d+c,t+=3,o+=3}return l/r}function y(e){const t=e.meterUnitOffset,n=e.featureExpressionInfoContext;return 0!==t||null!=n}function A(e,t,n,o,r,i,a,s){const l=s.calculateOffsetRenderUnits(a),c=s.featureExpressionInfoContext;t*=3,o*=3;for(let u=0;u<r;++u){const r=e[t],i=e[t+1],a=e[t+2];n[o]=r,n[o+1]=i,n[o+2]=null==c?a+l:l,t+=3,o+=3}return 0}class x{constructor(){this.verticalDistanceToGround=0,this.sampledElevation=0,this.z=0}}const b={\"absolute-height\":{applyElevationAlignmentBuffer:A,requiresAlignment:y},\"on-the-ground\":{applyElevationAlignmentBuffer:v,requiresAlignment:()=>!0},\"relative-to-ground\":{applyElevationAlignmentBuffer:h,requiresAlignment:()=>!0},\"relative-to-scene\":{applyElevationAlignmentBuffer:E,requiresAlignment:()=>!0}},R=t(),j=new x,O=n();export{x as SampleElevationInfo,g as applyElevationAlignmentForHUD,l as applyPerVertexElevationAlignment,f as elevationModeChangeUpdateType,u as evaluateElevationAlignmentAtPoint,c as evaluateElevationInfoAtPoint,d as needsElevationUpdates2D,m as needsElevationUpdates3D,p as updateVertexPointGroundDistance};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nconst n={stableRendering:!1},e={rootOrigin:null};export{e as gridLocalOriginFactory,n as textTextureAtlas};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{create as t}from\"../../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{encodeDoubleArray as e}from\"../../../../webgl/doublePrecisionUtils.js\";function n(t,e){return null==t&&(t=[]),t.push(e),t}function r(t,e){if(null==t)return null;const n=t.filter(t=>t!==e);return 0===n.length?null:n}function l(t,n,r,l,i){o[0]=t.get(n,0),o[1]=t.get(n,1),o[2]=t.get(n,2),e(o,s,3),r.set(i,0,s[0]),l.set(i,0,s[1]),r.set(i,1,s[2]),l.set(i,1,s[3]),r.set(i,2,s[4]),l.set(i,2,s[5])}const o=t(),s=new Float32Array(6);export{n as addObject3DStateID,l as encodeDoubleVec3,r as removeObject3DStateID};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport\"../../core/has.js\";import{floatEqualAbsolute as e}from\"../../core/mathUtils.js\";import{equals as n}from\"../../geometry/support/spatialReferenceUtils.js\";function t(e,n){if(e===n)return!0;if(null==e||null==n)return!1;if(e.length!==n.length)return!1;for(let t=0;t<e.length;t++){const r=e[t],a=n[t];if(r.length!==a.length)return!1;for(let e=0;e<r.length;e++)if(r[e]!==a[e])return!1}return!0}function r(e,n){if(e===n)return!0;if(null==e||null==n)return!1;if(e.length!==n.length)return!1;for(let r=0;r<e.length;r++)if(!t(e[r],n[r]))return!1;return!0}function a(e,t){return e===t||null!=e&&null!=t&&n(e.spatialReference,t.spatialReference)&&e.x===t.x&&e.y===t.y&&e.z===t.z&&e.m===t.m}function i(t,r,a){return t===r||null!=t&&null!=r&&n(t.spatialReference,r.spatialReference)&&e(t.x,r.x,a)&&e(t.y,r.y,a)&&e(t.z??0,r.z??0,a)&&e(t.m??0,r.m??0,a)}function u(e,t){return e.hasZ===t.hasZ&&e.hasM===t.hasM&&(!!n(e.spatialReference,t.spatialReference)&&r(e.paths,t.paths))}function l(e,t){return e.hasZ===t.hasZ&&e.hasM===t.hasM&&(!!n(e.spatialReference,t.spatialReference)&&r(e.rings,t.rings))}function s(e,r){return e.hasZ===r.hasZ&&e.hasM===r.hasM&&(!!n(e.spatialReference,r.spatialReference)&&t(e.points,r.points))}function f(e,t){return e.hasZ===t.hasZ&&e.hasM===t.hasM&&(!!n(e.spatialReference,t.spatialReference)&&(e.xmin===t.xmin&&e.ymin===t.ymin&&e.zmin===t.zmin&&e.xmax===t.xmax&&e.ymax===t.ymax&&e.zmax===t.zmax))}function c(e,n){if(e===n)return!0;if(null==e||null==n)return!1;if(e.type!==n.type)return!1;switch(e.type){case\"point\":return a(e,n);case\"extent\":return f(e,n);case\"polyline\":return u(e,n);case\"polygon\":return l(e,n);case\"multipoint\":return s(e,n);case\"mesh\":return!1;default:return}}function o(e,n){if(e===n)return!0;if(!e||!n)return!1;const t=Object.keys(e),r=Object.keys(n);if(t.length!==r.length)return!1;for(const a of t)if(e[a]!==n[a])return!1;return!0}function h(e,n){return e===n||null!=e&&null!=n&&e.objectId===n.objectId&&(!!c(e.geometry,n.geometry)&&!!o(e.attributes,n.attributes))}export{h as equals,c as geometryEquals,a as pointEquals,i as pointNear};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{fromValues as r}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";class s{constructor(r,s){this.vec3=r,this.id=s}}function t(t,o,c,e){return new s(r(t,o,c),e)}export{s as LocalOrigin,t as fromValues};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{isDehydratedPoint as e}from\"../../../layers/graphics/dehydratedFeatureUtils.js\";class r{constructor(e,r=null,t=0){this.array=e,this.spatialReference=r,this.offset=t}}function t(e){return\"array\"in e}function a(r,a,n=\"ground\"){if(e(a))return r.getElevation(a.x,a.y,a.z||0,a.spatialReference,n);if(t(a)){let e=a.offset;return r.getElevation(a.array[e++],a.array[e++],a.array[e]||0,a.spatialReference??r.spatialReference,n)}return r.getElevation(a[0],a[1],a[2]||0,r.spatialReference,n)}export{r as SamplePosition,a as getElevationAtPoint,t as isSamplePosition};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport t from\"../../../../core/ObjectPool.js\";import e from\"../../../../core/PooledArray.js\";import{l as n,s as o,h as i,g as s}from\"../../../../chunks/vec32.js\";import{create as r,fromValues as h}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{intersectsSphere as a}from\"../../../../geometry/support/frustum.js\";import{wrap as l}from\"../../../../geometry/support/ray.js\";import{m as d,g as u,n as c,w as f,c as m,x as _,o as p,a as b}from\"../../../../chunks/sphere.js\";import{rayBoxTest as g}from\"./Util.js\";class S{get bounds(){return this._root.bounds}get halfSize(){return this._root.halfSize}get root(){return this._root.node}get maximumObjectsPerNode(){return this._maximumObjectsPerNode}get maximumDepth(){return this._maximumDepth}get objectCount(){return this._objectCount}constructor(t,e){this.objectToBoundingSphere=t,this._maximumObjectsPerNode=10,this._maximumDepth=20,this._degenerateObjects=new Set,this._root=new j,this._objectCount=0,e&&(void 0!==e.maximumObjectsPerNode&&(this._maximumObjectsPerNode=e.maximumObjectsPerNode),void 0!==e.maximumDepth&&(this._maximumDepth=e.maximumDepth))}destroy(){this._degenerateObjects.clear(),j.clearPool(),C[0]=null,V.prune(),Y.prune()}add(t){const e=Array.from(t);this._grow(e);const n=j.acquire();for(const o of e)++this._objectCount,this._isDegenerate(o)?this._degenerateObjects.add(o):(n.init(this._root),this._add(o,n));j.release(n)}remove(t,e=null){this._objectCount-=t.length;const n=j.acquire();for(const o of t){const t=e??d(this.objectToBoundingSphere(o),G);F(t[3])?(n.init(this._root),z(o,t,n)):this._degenerateObjects.delete(o)}j.release(n),this._shrink()}update(t,e){if(!F(e[3])&&this._isDegenerate(t))return;const n=I(t);this.remove(n,e),this.add(n)}forEachAlongRay(t,e,n){const o=l(t,e);x(this._root,t=>{if(!N(o,t))return!1;const e=t.node;return e.terminals.forAll(t=>{this._intersectsObject(o,t)&&n(t)}),null!==e.residents&&e.residents.forAll(t=>{this._intersectsObject(o,t)&&n(t)}),!0})}forEachAlongRayWithVerticalOffset(t,e,n,o){const i=l(t,e);x(this._root,t=>{if(!T(i,t,o))return!1;const e=t.node;return e.terminals.forAll(t=>{this._intersectsObjectWithOffset(i,t,o)&&n(t)}),null!==e.residents&&e.residents.forAll(t=>{this._intersectsObjectWithOffset(i,t,o)&&n(t)}),!0})}forEach(t){x(this._root,e=>{const n=e.node;return n.terminals.forAll(t),null!==n.residents&&n.residents.forAll(t),!0}),this._degenerateObjects.forEach(t)}forEachDegenerateObject(t){this._degenerateObjects.forEach(t)}findClosest(t,e,n,o=()=>!0,r=1/0){let h=1/0,l=1/0,d=null;const u=P(t,e),c=i=>{if(--r,!o(i))return;const s=this.objectToBoundingSphere(i);if(!a(n,s))return;const u=R(t,e,b(s)),c=u-s[3],f=u+s[3];c<h&&(h=c,l=f,d=i)};return O(this._root,o=>{if(r<=0||!a(n,o.bounds))return!1;i(H,u,o.halfSize),s(H,H,b(o.bounds));if(R(t,e,H)>l)return!1;const h=o.node;return h.terminals.forAll(t=>c(t)),null!==h.residents&&h.residents.forAll(t=>c(t)),!0},t,e),d}forEachInDepthRange(t,e,n,o,r,h,l){let d=-1/0,u=1/0;const c={setRange:t=>{1===n?(d=Math.max(d,t.near),u=Math.min(u,t.far)):(d=Math.max(d,-t.far),u=Math.min(u,-t.near))}};c.setRange(o);const f=R(e,n,t),m=P(e,n),_=P(e,-n),p=t=>{if(!l(t))return;const o=this.objectToBoundingSphere(t),i=R(e,n,b(o))-f,s=i-o[3],m=i+o[3];s>u||m<d||!a(h,o)||r(t,c)};O(this._root,t=>{if(!a(h,t.bounds))return!1;i(H,m,t.halfSize),s(H,H,b(t.bounds));if(R(e,n,H)-f>u)return!1;i(H,_,t.halfSize),s(H,H,b(t.bounds));if(R(e,n,H)-f<d)return!1;const o=t.node;return o.terminals.forAll(t=>p(t)),null!==o.residents&&o.residents.forAll(t=>p(t)),!0},e,n)}forEachNode(t){x(this._root,e=>t(e.node,e.bounds,e.halfSize,e.depth))}forEachNeighbor(t,e){const n=u(e),i=c(e,r()),s=e=>{const s=this.objectToBoundingSphere(e),r=u(s),h=n+r;return!(o(b(s),i)-h*h<=0)||t(e)};let h=!0;const a=t=>{h&&(h=s(t))};x(this._root,t=>{const e=u(t.bounds),s=n+e;if(o(b(t.bounds),i)-s*s>0)return!1;const r=t.node;return r.terminals.forAll(a),h&&null!==r.residents&&r.residents.forAll(a),h}),h&&this.forEachDegenerateObject(a)}_intersectsObject(t,e){const n=this.objectToBoundingSphere(e);return!(n[3]>0)||f(n,t)}_intersectsObjectWithOffset(t,e,n){const o=this.objectToBoundingSphere(e);return!(o[3]>0)||f(n.applyToBoundingSphere(o),t)}_add(t,e){e.advanceTo(this.objectToBoundingSphere(t))?e.node.terminals.push(t):(e.node.residents.push(t),e.node.residents.length>this._maximumObjectsPerNode&&e.depth<this._maximumDepth&&this._split(e))}_split(t){const e=t.node.residents;t.node.residents=null;for(let n=0;n<e.length;n++){const o=j.acquire().init(t);this._add(e.at(n),o),j.release(o)}}_grow(t){if(w(t,t=>this.objectToBoundingSphere(t),U),F(U[3])&&!this._fitsInsideTree(U))if(D(this._root.node))d(U,this._root.bounds),this._root.halfSize=1.25*this._root.bounds[3],this._root.updateBoundsRadiusFromHalfSize();else{const t=this._rootBoundsForRootAsSubNode(U);this._placingRootViolatesMaxDepth(t)?this._rebuildTree(U,t):this._growRootAsSubNode(t),j.release(t)}}_rebuildTree(t,e){_(K,e.bounds),K[3]=e.halfSize,w([t,K],t=>t,Q);const n=j.acquire().init(this._root);this._root.initFrom(null,Q,Q[3]),this._root.increaseHalfSize(1.25),x(n,t=>(this.add(t.node.terminals.data),null!==t.node.residents&&this.add(t.node.residents.data),!0)),j.release(n)}_placingRootViolatesMaxDepth(t){const e=Math.log(t.halfSize/this._root.halfSize)*Math.LOG2E;let n=0;return x(this._root,t=>(n=Math.max(n,t.depth),n+e<=this._maximumDepth)),n+e>this._maximumDepth}_rootBoundsForRootAsSubNode(t){const e=t[3],n=t;let o=-1/0;const i=this._root.bounds,s=this._root.halfSize;for(let h=0;h<3;h++){const t=i[h]-s-(n[h]-e),r=n[h]+e-(i[h]+s),a=Math.max(0,Math.ceil(t/(2*s))),l=Math.max(0,Math.ceil(r/(2*s)))+1,d=2**Math.ceil(Math.log(a+l)*Math.LOG2E);o=Math.max(o,d),X[h].min=a,X[h].max=l}for(let h=0;h<3;h++){let t=X[h].min,e=X[h].max;const n=(o-(t+e))/2;t+=Math.ceil(n),e+=Math.floor(n);const r=i[h]-s-t*s*2;L[h]=r+(e+t)*s}const r=o*s;return L[3]=r*k,j.acquire().initFrom(null,L,r,0)}_growRootAsSubNode(t){const e=this._root.node;_(U,this._root.bounds),U[3]=this._root.halfSize,this._root.init(t),t.advanceTo(U,null,!0),t.node.children=e.children,t.node.residents=e.residents,t.node.terminals=e.terminals}_shrink(){for(;;){const t=this._findShrinkIndex();if(-1===t)break;this._root.advance(t),this._root.depth=0}}_findShrinkIndex(){if(0!==this._root.node.terminals.length||this._root.isLeaf())return-1;let t=null;const e=this._root.node.children;let n=0,o=0;for(;o<e.length&&null==t;)n=o++,t=e[n];for(;o<e.length;)if(e[o++])return-1;return n}_isDegenerate(t){return!F(this.objectToBoundingSphere(t)[3])}_fitsInsideTree(t){const e=this._root.bounds,n=this._root.halfSize;return t[3]<=n&&t[0]>=e[0]-n&&t[0]<=e[0]+n&&t[1]>=e[1]-n&&t[1]<=e[1]+n&&t[2]>=e[2]-n&&t[2]<=e[2]+n}toJSON(){const{maximumDepth:t,maximumObjectsPerNode:e,_objectCount:n}=this,o=this._nodeToJSON(this._root.node);return{maximumDepth:t,maximumObjectsPerNode:e,objectCount:n,root:{bounds:this._root.bounds,halfSize:this._root.halfSize,depth:this._root.depth,node:o}}}_nodeToJSON(t){const e=t.children.map(t=>t?this._nodeToJSON(t):null),n=t.residents?.map(t=>this.objectToBoundingSphere(t)),o=t.terminals?.map(t=>this.objectToBoundingSphere(t));return{children:e,residents:n,terminals:o}}static fromJSON(t){const e=new S(t=>t,{maximumDepth:t.maximumDepth,maximumObjectsPerNode:t.maximumObjectsPerNode});return e._objectCount=t.objectCount,e._root.initFrom(t.root.node,t.root.bounds,t.root.halfSize,t.root.depth),e}}class j{constructor(){this.bounds=m(),this.halfSize=0,this.initFrom(null,null,0,0)}init(t){return this.initFrom(t.node,t.bounds,t.halfSize,t.depth)}initFrom(t,e,n,o=this.depth){return this.node=null!=t?t:j.createEmptyNode(),e&&d(e,this.bounds),this.halfSize=n,this.depth=o,this}increaseHalfSize(t){this.halfSize*=t,this.updateBoundsRadiusFromHalfSize()}updateBoundsRadiusFromHalfSize(){this.bounds[3]=this.halfSize*k}advance(t){let e=this.node.children[t];e||(e=j.createEmptyNode(),this.node.children[t]=e),this.node=e,this.halfSize/=2,this.depth++;const n=y[t];return this.bounds[0]+=n[0]*this.halfSize,this.bounds[1]+=n[1]*this.halfSize,this.bounds[2]+=n[2]*this.halfSize,this.updateBoundsRadiusFromHalfSize(),this}advanceTo(t,e,n=!1){for(;;){if(this.isTerminalFor(t))return e?.(this,-1),!0;if(this.isLeaf()){if(!n)return e?.(this,-1),!1;this.node.residents=null}const o=this._childIndex(t);e?.(this,o),this.advance(o)}}isLeaf(){return null!=this.node.residents}isTerminalFor(t){return t[3]>this.halfSize/2}_childIndex(t){const e=this.bounds;return(e[0]<t[0]?1:0)+(e[1]<t[1]?2:0)+(e[2]<t[2]?4:0)}static createEmptyNode(){return{children:[null,null,null,null,null,null,null,null],terminals:new e({shrink:!0}),residents:new e({shrink:!0})}}static{this._pool=new t(()=>new j)}static acquire(){return j._pool.acquire()}static release(t){j._pool.release(t)}static clearPool(){j._pool.prune()}}function x(t,e){let n=j.acquire().init(t);const o=[n];for(;0!==o.length;){if(n=o.pop(),e(n)&&!n.isLeaf())for(let t=0;t<n.node.children.length;t++){n.node.children[t]&&o.push(j.acquire().init(n).advance(t))}j.release(n)}}function O(t,e,n,o=1){let i=j.acquire().init(t);const s=[i];for(E(n,o,Z);0!==s.length;){if(i=s.pop(),e(i)&&!i.isLeaf())for(let t=7;t>=0;--t){const e=Z[t];i.node.children[e]&&s.push(j.acquire().init(i).advance(e))}j.release(i)}}function z(t,e,n){V.clear();const o=n.advanceTo(e,(t,e)=>{V.push(t.node),V.push(e)})?n.node.terminals:n.node.residents;if(o.removeUnordered(t),0===o.length)for(let i=V.length-2;i>=0;i-=2){if(!M(V.data[i],V.data[i+1]))break}}function M(t,n){return n>=0&&(t.children[n]=null),!!D(t)&&(null===t.residents&&(t.residents=new e({shrink:!0})),!0)}function N(t,e){return v(b(e.bounds),2*-e.halfSize,J),v(b(e.bounds),2*e.halfSize,W),g(t.origin,t.direction,J,W)}function T(t,e,n){return v(b(e.bounds),2*-e.halfSize,J),v(b(e.bounds),2*e.halfSize,W),n.applyToMinMax(J,W),g(t.origin,t.direction,J,W)}function D(t){if(0!==t.terminals.length)return!1;if(null!==t.residents)return 0===t.residents.length;for(let e=0;e<t.children.length;e++)if(t.children[e])return!1;return!0}function A(t,e){t[0]=Math.min(t[0],e[0]-e[3]),t[1]=Math.min(t[1],e[1]-e[3]),t[2]=Math.min(t[2],e[2]-e[3])}function B(t,e){t[0]=Math.max(t[0],e[0]+e[3]),t[1]=Math.max(t[1],e[1]+e[3]),t[2]=Math.max(t[2],e[2]+e[3])}function v(t,e,n){n[0]=t[0]+e,n[1]=t[1]+e,n[2]=t[2]+e}function w(t,e,o){J[0]=1/0,J[1]=1/0,J[2]=1/0,W[0]=-1/0,W[1]=-1/0,W[2]=-1/0;for(const n of t){const t=e(n);F(t[3])&&(A(J,t),B(W,t))}p(o,n($,J,W,.5)),o[3]=Math.max(W[0]-J[0],W[1]-J[1],W[2]-J[2])/2}function E(t,e,n){if(!Y.length)for(let o=0;o<8;++o)Y.push({index:0,distance:0});for(let o=0;o<8;++o){const n=y[o];Y.data[o].index=o,Y.data[o].distance=R(t,e,n)}Y.sort((t,e)=>t.distance-e.distance);for(let o=0;o<8;++o)n[o]=Y.data[o].index}function P(t,e){let n,o=1/0;for(let i=0;i<8;++i){const s=R(t,e,q[i]);s<o&&(o=s,n=q[i])}return n}function R(t,e,n){return e*(t[0]*n[0]+t[1]*n[1]+t[2]*n[2])}function F(t){return!isNaN(t)&&t!==-1/0&&t!==1/0&&t>0}const y=[h(-1,-1,-1),h(1,-1,-1),h(-1,1,-1),h(1,1,-1),h(-1,-1,1),h(1,-1,1),h(-1,1,1),h(1,1,1)],q=[h(-1,-1,-1),h(-1,-1,1),h(-1,1,-1),h(-1,1,1),h(1,-1,-1),h(1,-1,1),h(1,1,-1),h(1,1,1)],k=Math.sqrt(3),C=[null];function I(t){return C[0]=t,C}const L=m(),H=r(),J=r(),W=r(),V=new e,G=m(),U=m(),K=m(),Q=m(),X=[{min:0,max:0},{min:0,max:0},{min:0,max:0}],Y=new e,Z=[0,0,0,0,0,0,0,0],$=r();export{S as Octree};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import{generateUID as t}from\"../../../../core/uid.js\";import{e as i}from\"../../../../chunks/vec32.js\";import{create as r}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{fromValues as o}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{projectBuffer as s}from\"../../../../geometry/projection/projectBuffer.js\";import{Attribute as e}from\"./Attribute.js\";import{Geometry as n}from\"./Geometry.js\";import{fromValues as a}from\"./LocalOriginFactory.js\";import{Object3D as h}from\"./Object3D.js\";import{gridLocalOriginFactory as c}from\"./testUtils.js\";import{WebGLLayer as m}from\"./WebGLLayer.js\";import{RibbonLineMaterial as g}from\"../materials/RibbonLineMaterial.js\";class f{constructor(i){this._originSR=i,this._rootOriginId=\"root/\"+t(),this._origins=new Map,this._objects=new Map,this._gridSize=5e5}getOrigin(t){const r=this._origins.get(this._rootOriginId);if(null==r){const i=c.rootOrigin;if(null!=i)return this._origins.set(this._rootOriginId,a(i[0],i[1],i[2],this._rootOriginId)),this.getOrigin(t);const r=a(t[0]+Math.random()-.5,t[1]+Math.random()-.5,t[2]+Math.random()-.5,this._rootOriginId);return this._origins.set(this._rootOriginId,r),r}const o=this._gridSize,s=Math.round(t[0]/o),e=Math.round(t[1]/o),n=Math.round(t[2]/o),h=`${s}/${e}/${n}`;let m=this._origins.get(h);const g=.5*o;if(i(d,t,r.vec3),d[0]=Math.abs(d[0]),d[1]=Math.abs(d[1]),d[2]=Math.abs(d[2]),d[0]<g&&d[1]<g&&d[2]<g){if(m){const r=Math.max(...d);i(d,t,m.vec3),d[0]=Math.abs(d[0]),d[1]=Math.abs(d[1]),d[2]=Math.abs(d[2]);if(Math.max(...d)<r)return m}return r}return m||(m=a(s*o,e*o,n*o,h),this._origins.set(h,m)),m}_drawOriginBox(t,i=o(1,1,0,1)){const r=window.view,a=r.stage,c=i.toString();if(!this._objects.has(c)){this._material=new g({width:2,color:i},!1);const t=new m(a,{pickable:!1}),r=new h({castShadow:!1});t.add(r),this._objects.set(c,r)}const f=this._objects.get(c),d=[0,1,5,4,0,2,1,7,6,2,0,1,3,7,5,4,6,2,0],l=d.length,_=new Array(3*l),p=new Array,j=.5*this._gridSize;for(let o=0;o<l;o++)_[3*o]=t[0]+(1&d[o]?j:-j),_[3*o+1]=t[1]+(2&d[o]?j:-j),_[3*o+2]=t[2]+(4&d[o]?j:-j),o>0&&p.push(o-1,o);s(_,this._originSR,0,_,r.renderSpatialReference,0,l);const b=new n(this._material,[[\"position\",new e(_,p,3,!0)]],null,2);f.addGeometry(b)}get test(){}}const d=r();export{f as GridLocalOriginFactory};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{createPrimitive as r}from\"./sdfPrimitives.js\";import{SizedPixelFormat as e,PixelType as t}from\"../../../webgl/enums.js\";import{Texture as o}from\"../../../webgl/Texture.js\";import{TextureDescriptor as m}from\"../../../webgl/TextureDescriptor.js\";const i=64,s=i/2,n=s/5,p=i/n,a=.25;function f(p,a){const f=r(p,i,s,n),u=new m(i);return u.internalFormat=e.R16F,u.dataType=t.FLOAT,u.pixelFormat=6403,u.wrapMode=33071,new o(a,u,f)}export{f as createMarkerTexture,p as markerSizePerLineWidth,s as markerSymbolSize,i as markerTextureSize,n as markerThickness,a as markerTipThicknessFactor};\n"],"names":["m","t","hasAnimation","attributes","r","varyings","d","vertex","l","fragment","T","add","main","o","animation","v","constants","code","e","s","uniforms","i","timeElapsed","trailLength","animationSpeed","a","n","startTime","endTime","fadeInTime","fadeOutTime","u","f","S","width","hasScreenSizePerspective","y","spherical","O","include","c","z","camera","viewMatrix","origin","hasVVSize","vvSize","minSize","maxSize","offset","factor","fallback","p","hasVVOpacity","vvOpacity","values","opacityValues","supportsNaN","hasVVColor","constructor","arguments","length","undefined","this","stage","apiLayerViewUid","id","events","visible","sliceable","_objectsAdded","Array","_handles","_objects","Map","_pickable","pickable","updatePolicy","addLayer","h","on","handleEvent","destroy","size","removeLayer","invalidateSpatialQueryAccelerator","objects","getObject","get","set","layer","emit","_octree","push","remove","delete","addMany","removeMany","forEach","commit","commitLayer","sync","syncLayer","notifyObjectBBChanged","includes","update","getSpatialQueryAccelerator","boundingVolumeWorldSpace","bounds","test","P","j","b","C","W","R","F","applyMarkerOffset","A","draped","V","output","capType","E","stippleEnabled","falloffEnabled","M","roundJoins","N","wireframe","$","innerColorEnabled","_","k","B","L","H","markerScale","space","inverseProjectionMatrix","nearFar","join","miterLimit","fullViewport","invariant","I","J","U","G","x","float","q","D","screenToPCSRatio","w","g","color","innerColor","innerWidth","pixelRatio","falloff","Object","freeze","defineProperty","__proto__","build","ribbonlineNumRoundJoinSubdivisions","Symbol","toStringTag","value","perRenderPixelRatio","_highlightIds","Set","_shaderTransformation","_visible","castShadow","usesVerticalDistanceToGround","graphicUid","layerViewUid","isElevationSource","lastValidElevationBB","_geometries","geometries","from","dispose","_layer","addGeometry","addHighlight","_emit","object","geometry","_invalidateBoundingVolume","removeGeometry","splice","removeHighlight","removeAllGeometries","geometryVertexAttributeUpdated","attribute","maskOccludee","occludees","removeOcclude","highlight","removeStateID","channel","getCombinedStaticTransformation","transformation","getCombinedShaderTransformation","effectiveTransformation","_bvWorldSpace","_validateBoundingVolume","boundingVolumeObjectSpace","_bvObjectSpace","boundingInfo","min","max","center","radius","Math","_transformation","shaderTransformation","_data","Number","MAX_VALUE","minWith","maxWith","assignMinMax","isEmpty","super","bbMin","bbMax","getLogger","cachedResult","arcade","func","context","modules","arcadeUtils","createExecContext","sr","spatialReference","async","expression","createSyntaxTree","dependsOnView","error","createFunction","createFeature","errorOncePerTick","_geometry","updateExecContext","executeFunction","featureExpressionInfo","_meterUnitOffset","_renderUnitOffset","_unit","_metersPerElevationInfoUnit","_featureExpressionInfoContext","mode","centerInElevationSR","featureExpressionInfoContext","meterUnitOffset","unit","requiresSampledElevationInfo","reset","offsetMeters","offsetElevationInfoUnits","addOffsetRenderUnits","geometryZWithOffset","calculateOffsetRenderUnits","unitInMeters","setFromElevationInfo","setFeatureExpressionInfoContext","updateFeatureExpressionInfoContextForGraphic","updateFeatureExpressionFeature","fromElevationInfo","locations","primitiveType","LINES","TRIANGLE_STRIP","_makePipelineState","oitPass","hasOccludees","hasPolygonOffset","blending","depthTest","depthWrite","drawBuffers","colorWrite","stencilWrite","stencilTest","polygonOffset","initializePipeline","occluder","_occluderPipelineTransparent","_occluderPipelineOpaque","_occluderPipelineMaskWrite","_occludeePipeline","getPipeline","units","vec3f","vec4f16","f32","vec2f16","vec4u8","glNormalized","emissionSource","writeDepth","stippleOffColorEnabled","stipplePreferContinuous","terrainDepthTest","cullAboveTerrain","discardInvisibleFragments","textureCoordinateType","occlusionPass","hasVVInstancing","hasSliceTranslatedView","overlayEnabled","snowCover","count","prototype","produces","parameters","renderOccluded","_configuration","getConfiguration","slot","stipplePattern","stippleOffColor","hasSlicePlane","cap","markerParameters","anchor","hideOnShortSegments","placement","worldSpace","hasEmissions","screenSizePerspective","setParameters","intersectDraped","_ref","screenToWorldRatio","options","selectionMode","data","isNaN","distance","normal","intersect","rayBegin","rayEnd","has","tt","point","mt","unprojectFromRenderScreen","pt","eye","ut","ft","dt","gt","K","Q","projectToRenderScreen","et","it","Z","frustum","at","rt","st","nt","emissiveStrength","createBufferWriter","X","createGLMaterial","Y","validateParameters","time","_stipplePattern","_stippleTextures","release","beginSlot","_material","stippleTexture","swap","getTechnique","vvFastUpdate","isClosed","transparent","layout","_parameters","numJoinSubdivisions","_isClosed","allocate","createBuffer","elementCount","indices","write","console","warn","fields","Float32Array","buffer","Uint8Array","stride","BYTES_PER_ELEMENT","ceil","lt","ct","ot","ht","_addWireframeVertices","pattern","map","round","floor","reduce","perScreenPixelRatio","requiresAlignment","applyElevationAlignmentBuffer","array","verticalDistanceToGround","sampledElevation","staysOnTheGround","definedChanged","onTheGroundChanged","getMutableAttribute","getElevation","stableRendering","rootOrigin","filter","vec3","_root","halfSize","root","node","maximumObjectsPerNode","_maximumObjectsPerNode","maximumDepth","_maximumDepth","objectCount","_objectCount","objectToBoundingSphere","_degenerateObjects","clear","clearPool","prune","_grow","acquire","_isDegenerate","init","_add","_shrink","forEachAlongRay","direction","terminals","forAll","_intersectsObject","residents","forEachAlongRayWithVerticalOffset","applyToMinMax","_intersectsObjectWithOffset","forEachDegenerateObject","findClosest","forEachInDepthRange","setRange","near","far","forEachNode","depth","forEachNeighbor","applyToBoundingSphere","advanceTo","_split","_fitsInsideTree","updateBoundsRadiusFromHalfSize","_rootBoundsForRootAsSubNode","_placingRootViolatesMaxDepth","_rebuildTree","_growRootAsSubNode","initFrom","increaseHalfSize","log","LOG2E","children","_findShrinkIndex","advance","isLeaf","toJSON","_nodeToJSON","fromJSON","createEmptyNode","isTerminalFor","_childIndex","shrink","static","_pool","pop","index","sort","removeUnordered","sqrt","_originSR","_rootOriginId","_origins","_gridSize","getOrigin","random","abs","_drawOriginBox","window","view","toString","renderSpatialReference"],"sourceRoot":""}